(this["webpackJsonplogin-app-reactjs"]=this["webpackJsonplogin-app-reactjs"]||[]).push([[0],{116:function(e,a,t){},126:function(e,a,t){e.exports=t.p+"static/media/amcc-vector.042c9163.svg"},187:function(e,a,t){},191:function(e,a,t){},232:function(e,a,t){},247:function(e,a,t){},265:function(e,a,t){e.exports=t.p+"static/media/anonymoose-logo.c7b270ba.svg"},266:function(e,a,t){e.exports=t.p+"static/media/logo.c7b270ba.svg"},267:function(e,a,t){e.exports=t.p+"static/media/expand-more.2d8e2c25.svg"},285:function(e,a,t){e.exports=t.p+"static/media/pencil.5fa26e5e.svg"},287:function(e,a,t){e.exports=t.p+"static/media/dots-icon.aa302437.svg"},291:function(e,a,t){e.exports=t.p+"static/media/create-hotline.7fcce0f6.svg"},292:function(e,a,t){e.exports=t.p+"static/media/send.5a28702a.svg"},313:function(e,a,t){e.exports=t(608)},318:function(e,a,t){},320:function(e,a,t){},321:function(e,a,t){},328:function(e,a,t){},386:function(e,a,t){e.exports=t.p+"static/media/HotLine.8e399cf3.svg"},387:function(e,a,t){e.exports=t.p+"static/media/OpenLine.19ed48f2.svg"},388:function(e,a,t){e.exports=t.p+"static/media/Polls.797dc4b6.svg"},389:function(e,a,t){e.exports=t.p+"static/media/ManageEmp.b979556a.svg"},390:function(e,a,t){e.exports=t.p+"static/media/BroadcastMsg.b628c864.svg"},391:function(e,a,t){e.exports=t.p+"static/media/Help.1b17639f.svg"},392:function(e,a,t){e.exports=t.p+"static/media/Info.a71a0872.svg"},395:function(e,a,t){},491:function(e,a,t){},516:function(e,a){},583:function(e,a,t){},584:function(e,a,t){},585:function(e,a,t){},608:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(28),l=t.n(r),c=(t(318),t(319),t(320),t(321),t(47)),o=t(49),i=t(46),m=t(11),u=t(12),d=t(16),p=t(15),h=t(17),E=function(e){return"".concat("AnonyMoose",".").concat(e)},g=function(e,a){return localStorage.setItem(E(e),a)},f=function(e){return localStorage.getItem(E(e))},y=function(e){return localStorage.removeItem(E(e))},v=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.component,a=f("user"),t="/";return this.props.amweb?t="/amweb":this.props.amcc?t="/amcc":this.props.amorg&&(t="/orgcc"),a?s.a.createElement(e,this.props):s.a.createElement(i.a,{to:{pathname:t}})}}]),a}(s.a.Component),b=t(623),N=t(611),O=t(612),C=t(610),w=t(265),S=t.n(w),I=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:S.a,alt:"AnonyMoose",className:"pr-4"}))},j=t(266),k=t.n(j),_=t(41),x=t(622),A=(t(328),t(309)),P=t(628),T=t(267),L=t.n(T),D=t(105),U=t.n(D),M=t(24),F=t.n(M),R="http://10.0.6.10:8000/api/V1/",H={headers:{Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},z=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"login",value:function(e,a,t){var n;return U.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,U.a.awrap(F.a.post(R+"authenticate/",{email:e,password:a,page:t},H));case 2:return(n=s.sent).data&&g("user",JSON.stringify(n.data)),s.abrupt("return",n.data);case 5:case"end":return s.stop()}}))}},{key:"logout",value:function(){var e=JSON.parse(f("user")),a=e.user_data.is_amcc_user,t=e.user_data.is_org_cc_user,n=e.user_data.is_am_web_user;y("user"),y("userType"),window.location.reload()}}]),e}()),G=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).handleLogoutClick=t.handleLogoutClick.bind(Object(_.a)(t)),t.handleChangeUserRole=t.handleChangeUserRole.bind(Object(_.a)(t)),t.state={isLoggedIn:!1},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"handleLogoutClick",value:function(){z.logout()}},{key:"handleChangeUserRole",value:function(e){"amweb"===e?window.location.href="/amweb":"amcc"===e?window.location.href="/amcc":"amorgcc"===e&&(window.location.href="/orgcc")}},{key:"render",value:function(){var e=this,a=this.props.userRole,t=a.amWEBUser,n=a.amCCUser,r=a.amORGUser,l=this.props.user.user_data,c=l.email,o=l.is_am_web_user,i=l.is_amcc_user,m=l.is_org_cc_user,u=(l.is_app_user,l.is_idb_user,l.is_seeded_user,this.props.user.user_details),d=u.first_name+" "+u.last_name,p=d.charAt(0).toUpperCase()+d.slice(1),h=p.split(" "),E=h.shift().charAt(0)+h.pop().charAt(0);return n?g("userType","AM CC"):r?g("userType","Org CC"):t&&g("userType","AM WEB"),s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{className:"test",placement:"bottom",content:s.a.createElement(P.b,{className:"u-info",size:"large",bordered:!0},s.a.createElement(P.b.Item,null,s.a.createElement("div",{className:"email"},c,s.a.createElement("br",null),s.a.createElement("a",{href:"#"},"Edit Profile"))),r&&o?s.a.createElement(P.b.Item,{onClick:function(){return e.handleChangeUserRole("amweb")}},"AM WEB"):null,r&&i?s.a.createElement(P.b.Item,{onClick:function(){return e.handleChangeUserRole("amcc")}},"AM CC"):null,t&&m?s.a.createElement(P.b.Item,{onClick:function(){return e.handleChangeUserRole("amorgcc")}},"Org CC"):null,t&&i?s.a.createElement(P.b.Item,{onClick:function(){return e.handleChangeUserRole("amcc")}},"AM CC"):null,n&&o?s.a.createElement(P.b.Item,{onClick:function(){return e.handleChangeUserRole("amweb")}},"AM WEB"):null,n&&m?s.a.createElement(P.b.Item,{onClick:function(){return e.handleChangeUserRole("amorgcc")}},"Org CC"):null,s.a.createElement(P.b.Item,null,"Change Password"),s.a.createElement(P.b.Item,{onClick:this.handleLogoutClick},"Sign Out")),trigger:"click"},s.a.createElement(x.a,{className:"mr-2"},E),s.a.createElement("span",{className:"d-flex flex-column"},s.a.createElement("span",{className:"uname-top"},p),s.a.createElement("span",{className:"u-type"},f("userType"))),s.a.createElement("span",{className:"expand-arrow"},s.a.createElement("img",{src:L.a,alt:"Expand Arrow",className:"pr-4"}))))}}]),a}(s.a.Component);var V=Object(i.g)(Object(c.b)((function(e){var a=e.auth;return{isLoggedIn:a.isLoggedIn,user:a.user}}))(G)),B=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{span:12},s.a.createElement("img",{src:k.a,alt:"Annonymoose Logo",className:"pr-4"})),s.a.createElement(C.a,{span:12,className:"d-flex justify-content-end av-wrapper"},s.a.createElement(V,{userRole:e})))},Y=t(78),W=(t(386),t(387),t(388),t(389)),q=(t(390),t(391),t(392),N.a.Sider),J=function(e){return s.a.createElement(q,null,s.a.createElement(Y.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"]},s.a.createElement(Y.a.Item,{key:"1",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-hotlines"}))}," ",s.a.createElement(o.b,{to:"/hotlinedirectory"},"Hotlines")),s.a.createElement(Y.a.Item,{key:"2",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-openlines"}))}," ","Openlines"),s.a.createElement(Y.a.Item,{key:"3",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-polls"}))}," ","Polls"),s.a.createElement(Y.a.Item,{key:"4",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-manage-emp"}))}," ",s.a.createElement(o.b,{to:"/employee"},"Manage Employees")),s.a.createElement(Y.a.Item,{key:"5",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-broadcast"}))}," ","Broadcast Messages"),s.a.createElement(Y.a.Item,{key:"6",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-help"}))}," ","Help"),s.a.createElement(Y.a.Item,{key:"7",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-info"}))}," ","Info")),s.a.createElement("div",{className:"btm-div"},s.a.createElement("a",{href:"#",className:"px-2"},"Info"),s.a.createElement("a",{href:"#",className:"px-2"},"Help")))},K=(t(395),N.a.Sider),Z=function(){return s.a.createElement(K,null,s.a.createElement(Y.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},s.a.createElement(Y.a.Item,{key:"1",icon:s.a.createElement("img",{src:W})}," ","Manage Organizations")),s.a.createElement("div",{className:"btm-div"},s.a.createElement("a",{href:"#",className:"px-2"},"Info"),s.a.createElement("a",{href:"#",className:"px-2"},"Help")))},X=t(84),Q=t(616),$=t(618);t(187),b.a.Search,s.a.createElement($.a,{style:{fontSize:16,color:"#1890ff"}}),X.a.Option;var ee=function(e){var a=e.columns,t=e.data,n=e.rowKey;return s.a.createElement("div",null,s.a.createElement(Q.a,{pagination:{pageSize:10},rowKey:n,columns:a,dataSource:t}))},ae=t(53),te=function(e){var a=e.value;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{type:"primary"}," ",a))};function ne(){var e=JSON.parse(f("user"));return e&&e.user_data.tokens.access?"Bearer "+e.user_data.tokens.access:{}}var se={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},re=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"orgId",value:function(){var e=JSON.parse(f("user"));return e&&e.user_data.organization_id?e.user_data.organization_id:{}}},{key:"getOrganizationData",value:function(){return F.a.get(R+"getOrganization/",se)}},{key:"getEmployees",value:function(){var e=this.orgId();return F.a.get(R+"getEmployees/"+e+"/",se)}},{key:"getHotlines",value:function(){return F.a.get(R+"hotline/",se)}},{key:"getAssignHotlines",value:function(e){return F.a.get(R+"getHotlineAssignEmpl/"+e,se)}}]),e}()),le=t(285),ce=t.n(le),oe=b.a.Search,ie=(s.a.createElement($.a,{style:{fontSize:16,color:"#1890ff"}}),N.a.Content),me=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})};var n=[{title:"Organization Name ",dataIndex:"name",key:"name",width:"22%"},{title:"Organization Id",dataIndex:"identifier",key:"identifier",width:"22%"},{title:"Start Date ",dataIndex:"start_date",key:"start_date",width:"21%"},{title:"End Date",dataIndex:"end_date",key:"end_date",width:"20%"},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(){return s.a.createElement("div",{className:"primary-tag-rounded tag"},s.a.createElement("span",{className:"circle mr-1"}),"Active")}},{title:"Edit",dataIndex:"",key:"x1",width:"5%",render:function(){return s.a.createElement("img",{src:ce.a,alt:"Edit"})}}];return t.state={columns:n,data:[]},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)((function(e){return re.getOrganizationData().then((function(a){return e({type:"MANAGEORG_SUCCESS",payload:{manageOrgData:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"MANAGEORG_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=this,t=e.manageOrgData;t.forEach((function(e){e.start_date=e.start_date.replaceAll("-"," / "),e.end_date=e.end_date.replaceAll("-"," / ")})),this.setState({data:t},(function(){a.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].includes(a)}))})):e}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"inner-header"},s.a.createElement(B,null)),s.a.createElement(O.a,{className:"content-center pt-0"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,s.a.createElement(Z,null),s.a.createElement(ie,{className:""},s.a.createElement(O.a,{className:"py-3"},s.a.createElement("h1",null,"Manage Organizations ")),s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"pt-1 pb-3"},s.a.createElement(C.a,{span:18,className:"search-row"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:9,className:"search-box"},s.a.createElement(oe,{placeholder:"Search",onSearch:this.onSearch})))),s.a.createElement(C.a,{span:6,className:"d-flex align-items-center justify-content-end"},s.a.createElement(te,{value:"Create Organization"})))),s.a.createElement(ee,{key:"manageOrg",rowKey:"identifier",columns:this.state.columns,data:this.state.filterData}))))))}}]),a}(s.a.Component);var ue=Object(c.b)((function(e){return{manageOrgData:e.manageOrg.manageOrgData,message:e.message.message}}))(me),de=(t(232),function(){return function(e){return re.getEmployees().then((function(a){return console.log(a.data),e({type:"MANAGEEMP_SUCCESS",payload:{manageEmpData:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"MANAGEEMP_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}}),pe=t(621),he=(t(116),function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(e){console.log(e),t.setState({visible:!1})},t.handleCancel=function(e){console.log(e),t.setState({visible:!1})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:"#"},"Delete"),s.a.createElement(pe.a,{title:"Delete User",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Yes",cancelText:"No"},s.a.createElement("p",null,"Are you sure you want to delete Sophia Joseph from your users?")))}}]),a}(n.Component)),Ee=t(287),ge=t.n(Ee),fe=s.a.createElement("div",null,s.a.createElement("ul",null,s.a.createElement("li",null," ",s.a.createElement("a",{href:"#"},"Edit")),s.a.createElement("li",null,s.a.createElement(he,null)))),ye=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1},t.hide=function(){t.setState({visible:!1})},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{placement:"bottom",content:fe,trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},s.a.createElement("span",{className:"ico-grid-dots"},s.a.createElement("img",{src:ge.a,alt:"DotIcon",className:"pr-4"}))))}}]),a}(s.a.Component),ve=b.a.Search,be=(s.a.createElement($.a,{style:{fontSize:16,color:"#1890ff"}}),X.a.Option),Ne=N.a.Content,Oe=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})};var n=[{title:"First Name",dataIndex:"firstname",key:"firstname",width:"22%"},{title:"Last Name",dataIndex:"lastname",key:"lastname",width:"22%"},{title:"Mobile Number",dataIndex:"Mobile_Number",key:"Mobile_Number",width:"21%"},{title:"Access",dataIndex:"Access",render:function(e){var a="";for(var t in e)1==e[t]&&("am_web"==t&&(t="AM WEB"),"app_user"==t&&(t="APP"),0==a.length?a+=t:a+=", "+t);return s.a.createElement("span",null,a)},width:"20%"},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:function(){return s.a.createElement("div",{className:"primary-tag-rounded tag"},s.a.createElement("span",{className:"circle mr-1"}),"Active")}},{title:"",dataIndex:"",key:"x",width:"5%",render:function(){return s.a.createElement(ye,null)}}];return t.state={columns:n,data:[]},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(de())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=this,t=e.manageEmpData;this.setState({data:t},(function(){a.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].includes(a)}))})):e}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"inner-header"},s.a.createElement(B,{amORGUser:!0})),s.a.createElement(O.a,{className:"content-center pt-0"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,s.a.createElement(J,{amORGUser:!0}),s.a.createElement(Ne,{className:""},s.a.createElement(O.a,{className:"py-3"},s.a.createElement("h1",null,"Manage Employees")),s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"pt-1 pb-3"},s.a.createElement(C.a,{span:18,className:"search-row"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:9,className:"search-box"},s.a.createElement(ve,{placeholder:"Search",onSearch:this.onSearch})),s.a.createElement(C.a,{span:8,className:"ml-4"},s.a.createElement(X.a,{className:"w-75",defaultValue:"Permissions",disabled:!0},s.a.createElement(be,{value:"1",defaultValue:!0},"1"),s.a.createElement(be,{value:"2"},"2"))))),s.a.createElement(C.a,{span:6,className:"d-flex align-items-center justify-content-end"},s.a.createElement(te,{value:"Add Employee"})))),s.a.createElement(ee,{rowKey:"unique_identifier",columns:this.state.columns,data:this.state.filterData}))))))}}]),a}(s.a.Component);var Ce=Object(c.b)((function(e){return{manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(Oe),we=t(626),Se=t(619),Ie=t(126),je=t.n(Ie),ke=(t(191),function(e,a,t){return function(n){return z.login(e,a,t).then((function(e){return n({type:"LOGIN_SUCCESS",payload:{user:e}}),Promise.resolve()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return n({type:"LOGIN_FAIL"}),n({type:SET_MESSAGE,payload:a}),Promise.reject()}))}}),_e={wrapperCol:{span:24}},xe={wrapperCol:{span:24}},Ae=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).handleLogin=t.handleLogin.bind(Object(_.a)(t)),t.onChangeUsername=t.onChangeUsername.bind(Object(_.a)(t)),t.onChangePassword=t.onChangePassword.bind(Object(_.a)(t)),t.state={email:"",password:"",page:"is_amcc_user",error:"false"},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(){var e=this;this.setState({loading:!0});var a=this.props,t=a.dispatch,n=a.history;t(ke(this.state.email,this.state.password,this.state.page)).then((function(){n.push("/organization"),window.location.reload()})).catch((function(){e.setState({loading:!1,error:"true"})}))}},{key:"canSubmit",value:function(){var e=this.state,a=e.email,t=e.password;return a.length>0&&t.length>0}},{key:"render",value:function(){var e=this,a=this.canSubmit(),t=this.props,n=t.isLoggedIn;t.message;return n?s.a.createElement(i.a,{to:"/organization"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"px-4 py-3"},s.a.createElement(I,null)),s.a.createElement(O.a,{className:"content-center mt-1 px-4"},s.a.createElement(C.a,{span:12,className:"vector-area justify-content-center mt-1 d-none d-lg-block"},s.a.createElement(C.a,{span:24,className:"text-center"},s.a.createElement("h5",{className:"text-center primary-text"},"Control Center and Insights Dashboard")),s.a.createElement(O.a,{className:"justify-content-center mt-3"},s.a.createElement("img",{src:je.a,alt:"Annonymoose",className:"pr-4"})),s.a.createElement(O.a,{className:"pt-3"},s.a.createElement("p",{className:"w-100 text-center text-wgt-md"},"Raising Voice Anonymously Made Easy"))),s.a.createElement(C.a,{lg:{span:12},md:{span:24},xs:{span:24},className:"d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:" col-md-24 col-lg-12 col-xl-10 login-box justify-content-center d-flex"},"true"==this.state.error&&s.a.createElement(we.a,{message:"Invalid Login! Please try again",type:"error",showIcon:!0}),s.a.createElement(O.a,{className:"mb-4"},s.a.createElement("h2",null,"Sign In")),s.a.createElement(Se.a,Object.assign({},_e,{onSubmit:this.handleLogin,ref:function(a){e.form=a},name:"basic",initialValues:{remember:!0}}),s.a.createElement(Se.a.Item,{className:"group-floating-label",name:"email",rules:[{required:!0,message:"Please enter your email!",type:"email"}]},s.a.createElement(b.a,{type:"Email",className:"input-control",placeholder:" ",value:this.state.email,onChange:this.onChangeUsername,suffix:s.a.createElement("label",{className:"floating-label",htmlFor:"name"},"Email")})),s.a.createElement(Se.a.Item,{className:"group-floating-label",name:"password",rules:[{required:!0,message:"Please enter your password!"}]},s.a.createElement(b.a,{type:"password",className:"input-control",value:this.state.password,onChange:this.onChangePassword,placeholder:" ",suffix:s.a.createElement("label",{className:"floating-label",htmlFor:"name"},"Password")})),s.a.createElement("div",{className:"forgot-pwd"},s.a.createElement("a",{href:"#"},"Forgot Password")),s.a.createElement(Se.a.Item,xe,s.a.createElement(ae.a,{disabled:!a,type:"primary",htmlType:"submit",className:"primary-btn-lg w-100 mt-4",onClick:function(){e.handleLogin()}},"SIGN IN")))))))}}]),a}(n.Component);var Pe=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))(Ae),Te=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1},t.showModal=function(){window.open("https://www.anonymoose.co/platformprivacypolicy.pdf","_blank")},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,"See",s.a.createElement(ae.a,{type:"link",className:"link pl-1",onClick:this.showModal},"Privacy Policy"),s.a.createElement(pe.a,{title:"Privacy Policy",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,className:"modal-lg privacy-txt",centered:!0},s.a.createElement(O.a,{className:"modal-icon py-4"},s.a.createElement("p",null,"THIS PRIVACY POLICY (\u201cPRIVACY POLICY\u201d) SETS FORTH HOW WE USE AND PROTECT THE PERSONAL INFORMATION COLLECTED WHILE USING OUR SERVICES. PLEASE READ THIS PRIVACY POLICY CAREFULLY. THIS PRIVACY POLICY IS APPLICABLE TO YOU (\u201cYOU\u201d, \u201cYOUR\u201d, \u201cUSER\u201d OR \u201cUSERS\u201d) IF YOU ARE USING, ACCESSING OUR SERVICES OR HAVE DOWNLOADED OR INSTALLED OUR PLATFORM. BY DOWNLOADING, CONTINUING TO USE OR ACCESSING THE PLATFORM OR THE SERVICES, YOU AGREE TO THE TERMS OF THIS PRIVACY POLICY. IF THE YOU DO NOT AGREE TO THIS PRIVACY POLICY, YOU MAY NOT USE, AVAIL OR ACCESS OUR SERVICES.",s.a.createElement("ol",{className:""},s.a.createElement("li",null,s.a.createElement("u",null,"Introduction"),s.a.createElement("ol",{className:"sub"},s.a.createElement("li",null,"EarthenLamps Inc, registered in Delaware with principal office located at 12265 Viewoak Drive, Saratoga, CA 95070 (",s.a.createElement("b",null,"\u201cCompany\u201d, \u201cwe\u201d, \u201cus\u201d, \u201cour\u201d"),"), has developed a platform comprising of a mobile application, dashboard and control center under a name \u201cAnonyMoose\u201d (",s.a.createElement("b",null,"\u201cSaaS PlaCorm\u201d or \u201cPlaCorm\u201d"),")and offers services that will enable employees of an organization to provide feedback, ideas, suggesZons, and to report incidents relaZng to harassment or microaggressions, or any other concern, privately and discreetly, to such organizaZon\u2019s leadership, management and designated individuals or departments",s.a.createElement("b",null,"(\u201cServices\u201d)"),"."),s.a.createElement("li",{className:""},"We are committed to data privacy and have made this Privacy Policy to describe the procedures we adhere to for collecting, using, and disclosing the Personal Information (defined below). We recommend Users to read this Privacy Policy carefully so that Users understand our approach towards the use of their Personal Information."))),s.a.createElement("li",null,s.a.createElement("u",null,"What kinds of information do we collect?"),s.a.createElement("ol",{className:"sub"},s.a.createElement("li",null,"To provide the Services, we require to process information about you. The type of information that we collect depends on how you use our platform."),s.a.createElement("li",null,s.a.createElement("b",null,"Personal Details:")," We may collect any personal information such as your name, contact number, email address, and designaZon, provided by your organization, or while you create and/or update your respecZve account and/or use of the Services. This information that can identify, or is capable of identifying a person, shall be referred to as ",s.a.createElement("b",null,"\u201cPersonal Information\u201d"),"."),s.a.createElement("li",null,s.a.createElement("b",null,"Device information:")," Whenever you access our Platform through Wi-Fi or the internet, we may also collect your browser name, usage, log related information, the type of electronic device, manufacturer, make, model, unique ID of the electronic device and other technical information about your means of connection to our Platform or Services, such as the operating system and other similar information. The device information will be used solely for the purpose of improving our Services and to provide You with better user experience."),s.a.createElement("li",null,"For the purposes of this Privacy Policy, such information in section 2.3 shall also be considered Personal Information."))),s.a.createElement("li",null,s.a.createElement("u",null,"How we use this information"),s.a.createElement("ol",{className:"sub"},s.a.createElement("li",null,"We use the information (which include the Personal Information) provided by you or collected by us in the following cases: (i) to provide User with the Services and to assist the User in the event the User needs any additional support; (ii) for creation or development of business intelligence or data analytics in relation to the Services provided by the Company; (iii) to understand usage patterns of our Platform or the Services; (iv) to improve usability of our Services and for Services maintenance; (v) to maintain and manage account of the organization; (vi) to prevent fraud and abuse (vii) to enhance the security of our the Platform and/ or the Services; (viii) to ensure that our Platform or the Services are not used for illegal purposes ; (ix) for internal record keeping; and (x) to comply with our legal or statutory obligations."),s.a.createElement("li",null,"ANONYMIZED DATA: We will also use your Personal Information collected by us to create aggregate anonymized data. We ensure that such anonymized data doesn\u2019t directly identify you or your Personal Information shared with us. We may use this anonymized data for any purpose including but not limited to, research, understand usage patterns, analytical purposes, and to improve our Services. By agreeing to this Privacy Policy, you provide us the right to use your Personal Information to create anonymized data and use it for our business purposes."))),s.a.createElement("li",null,s.a.createElement("u",null,"How the information is shared"),s.a.createElement("p",{className:"pl-4"},"In the course of providing Services or access of the Platform to you, we may share your information, which may also include your Personal Information, with certain parties, in only the following cases. The Company does not share your Personal Information with any member within your organization/company/enterprise. Accordingly, you expressly give your free consent to us to disclose or share your Personal Information in the following cases:"),s.a.createElement("ol",{className:"sub"},s.a.createElement("li",null,s.a.createElement("b",null,"Administrators:")," We may provide access to your Personal information to any of our authorized administrators for internal technical purpose, who shall be under confidentiality obligations towards the same. For the sake of clarity, such administrators shall not be part of your organization."),s.a.createElement("li",null,s.a.createElement("b",null,"Service Providers:")," We may share User\u2019s Personal Information with the service providers, who are working with us, or may work with us, in connection with the operation of the Services and assisting us in improving the Platform. Examples include service providers who are providing technical infrastructure services, analyzing how our Platform is used, providing customer service, facilitating payments or conducting surveys."),s.a.createElement("li",null,s.a.createElement("b",null,"Merger or Acquisi7on:")," We may transfer User\u2019s Personal Information if we are acquired by/we acquire or merge with another company or transfer a part of our business, to a third party. Any third party or resultant entity that receives the User\u2019s Personal Information pursuant to a merger, demerger, amalgamation reconstruction, change in control or business transfer shall have the right to continue to use User\u2019s Personal Information and such new entity shall abide with this privacy policy."),s.a.createElement("li",null,s.a.createElement("b",null,"Legal and Regulatory Authorities:")," We may be required to disclose User\u2019s information including Personal Information due to legal or regulatory requirements. In such instances, we reserve the right to disclose User\u2019s Personal Information as required in order to comply with our legal obligations, including but not limited to complying with court orders, warrants, or discovery requests. We may also disclose User\u2019s Personal Information to (a) law enforcement officers or others; (b) to comply with a judicial proceeding, court order, or legal process served on us ; (c) to enforce or apply this Privacy Policy or our other policies or agreements; (d) respond to claims that any Personal Information violates the rights of third-parties; or (e) protect the rights, property, or personal safety of Company, or the general public."),s.a.createElement("li",null,"User agrees and acknowledges that we may not be required to inform User prior to or after disclosures made according to this section."))),s.a.createElement("li",null,s.a.createElement("u",null,"How long your information is retained"),s.a.createElement("ol",{className:"sub"},s.a.createElement("li",null,"We endeavor to collect only such Information including Personal Information that is necessary for the purposes indicated here. We may retain such information on a case-by-case determination depending on matters such as the nature of the information, why it is collected and processed, and relevant legal or operational retention needs. For example, we may retain such information to pursue legitimate business interests, conduct audits, comply with (and demonstrate compliance with) legal obligations, resolve disputes and enforce our agreements."),s.a.createElement("li",null,"We may retain your non- Personal Information even after you have stopped using our Platform or the Services for the sole purpose of providing better Services and improving usage pattern on the Platform."))),s.a.createElement("li",null,s.a.createElement("u",null," Access to your content on the PlaCorm:"),s.a.createElement("p",{className:"pl-4"},"While you use our Platform, you may provide certain information including but not limited to images, location detail, documents, text, audio clip, video clip, organization\u2019s policies and training material to us (\u201cUser Content\u201d). The Company ensures that the User Content remain private, integral and secure. The Company may access such User Content only to abide by its legal obligations as provided in section 4.4 of this Privacy Policy.")),s.a.createElement("li",null,s.a.createElement("u",null,"Our Security Measures:"),s.a.createElement("p",{className:"pl-4"},"User\u2019s Personal Information is stored on our database which is hosted on the AWS cloud. Although there are appropriate \ufb01rewalls and protections, we cannot warrant the security of any Personal Information transmitted as our systems are not hack proof. Data pilferage due to unauthorized hacking, virus attacks, technical issues is possible, and we take no liability or responsibility for it. Users are required to be careful to avoid \u2018phishing\u2019 scams, where someone may send User an e-mail that looks like it is from the Company asking for User\u2019s Personal Information.")),s.a.createElement("li",null,s.a.createElement("u",null,"Hyperlinks:"),s.a.createElement("p",{className:"pl-4"},"The Platform may from time to time contain hyperlinks to other websites or mobile applications. Such links are provided for convenience only and we take no responsibility for the content and maintenance of or privacy compliance of any linked website. Any hyperlink on our Platform to another website does not imply our endorsement, support, or sponsorship of the operator of that website nor of the information and/or services which it provides. The Company is not a party to any transaction between you and such website.")),s.a.createElement("li",null,s.a.createElement("u",null,"Limitation of Liability:"),s.a.createElement("p",{className:"pl-4"},"NEITHER PARTY SHALL BE LIABLE TO THE OTHER FOR ANY INDIRECT, CONSEQUENTIAL, INCIDENTAL, EXEMPLARY OR SPECIAL DAMAGES, LOSS OF PROFIT, BUSINESS HOWSOEVER CAUSED, EVEN IF THE OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. THE MAXIMUM LIABLITY OF THE COMPANY FOR DIRECT DAMAGE OR LOSS SHALL BE LIMITED TO AN AMOUNT OF USD 1000 (US DOLLARS ONE THOUSAND ONLY). THE FOREGOING LIMITATIONS OF LIABILITY SHALL APPLY NOTWITHSTANDING THE FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED WARRANTY OR REMEDY HEREIN.")),s.a.createElement("li",null,s.a.createElement("u",null,"Reservation of Rights:"),s.a.createElement("p",{className:"pl-4"},"All rights not expressly granted in this Privacy Policy are reserved by the Company. Nothing contained in this Privacy Policy shall be construed as conferring by implication, estoppels or otherwise, any license or right under any copyright, patent, trademark or other intellectual property right of Company or any other person or to User.")),s.a.createElement("li",null,s.a.createElement("u",null,"Governing Laws and Disputes:"),s.a.createElement("p",{className:"pl-4"},"This Privacy Policy shall in all respects be governed by and construed and enforced in accordance with the laws of Delaware and the courts in Delaware shall have an exclusive jurisdiction to adjudicate any subject matter under this Privacy Policy without any con\ufb02ict of laws. Any dispute or di\ufb00erence arising between you and the Company as to the e\ufb00ect, validity or interpretation or any other matter under this Privacy Policy or as to their rights, duties or liabilities hereunder shall be referred to arbitration in accordance with the rules of the International Chamber of Commerce to the exclusive jurisdiction to venue of the courts of Delaware.")),s.a.createElement("li",null,s.a.createElement("u",null,"Changes to This Policy:"),s.a.createElement("p",{className:"pl-4"},"We may update this Privacy Policy from time to time. Users are encouraged to check this Privacy Policy on a regular basis to be aware of the changes made to it. The Company shall not be liable for any claims arising out of non-intimation of such change in this Privacy Policy. This Privacy Policy was last modi\ufb01ed on"," ",s.a.createElement("b",null,s.a.createElement("span",{className:"border-bottom"}," ")," July, 2020."))),s.a.createElement("li",null,s.a.createElement("u",null,"Contact Us"),s.a.createElement("p",{className:"pl-4"},"If User has any questions, concerns or grievances regarding this Privacy Policy, User can email us at our grievance email-address"," ",s.a.createElement("a",{href:"mailto:info@anonymoose.co"},"info@anonymoose.co"))))))))}}]),a}(n.Component),Le={wrapperCol:{span:24}},De={wrapperCol:{span:24}},Ue=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).handleLogin=t.handleLogin.bind(Object(_.a)(t)),t.onChangeUsername=t.onChangeUsername.bind(Object(_.a)(t)),t.onChangePassword=t.onChangePassword.bind(Object(_.a)(t)),t.state={email:"",password:"",page:"is_org_cc_user",error:"false"},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(){var e=this;this.setState({loading:!0});var a=this.props,t=a.dispatch,n=a.history;t(ke(this.state.email,this.state.password,this.state.page)).then((function(){n.push("/employee"),window.location.reload()})).catch((function(){e.setState({loading:!1,error:"true"})}))}},{key:"canSubmit",value:function(){var e=this.state,a=e.email,t=e.password;return a.length>0&&t.length>0}},{key:"render",value:function(){var e=this,a=this.props,t=a.isLoggedIn,n=(a.message,this.canSubmit());return t?s.a.createElement(i.a,{to:"/employee"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"px-4 py-3"},s.a.createElement(I,null)),s.a.createElement(O.a,{className:"content-center mt-0 px-4"},s.a.createElement(C.a,{span:12,className:"vector-area justify-content-center mt-1 d-none d-lg-block"},s.a.createElement(C.a,{span:24,className:"text-center"},s.a.createElement("h5",{className:"text-center primary-text"},"Control Center and Insights Dashboard")),s.a.createElement(O.a,{className:"justify-content-center mt-3"},s.a.createElement("img",{src:je.a,alt:"Annonymoose",className:"pr-4"})),s.a.createElement(O.a,{className:"pt-3"},s.a.createElement("p",{className:"w-100 text-center text-wgt-md mb-1"},"Raising Voice Anonymously Made Easy"),s.a.createElement("p",{className:"text-center text-center subtext px-5 mb-0"},'Login to manage AnonyMoose eco-system. This includes employees eligible to use the app and/or components such as Hotlines, Openlines, Polls and Surveys, Broadcast Messages and access to different features of the "Insights Dashboard", through set of assignable permissions.'))),s.a.createElement(C.a,{lg:{span:12},md:{span:24},xs:{span:24},className:"d-flex justify-content-center mt-2"},s.a.createElement("div",{className:" col-md-24 col-lg-12 col-xl-10 login-box justify-content-center d-flex"},"true"==this.state.error&&s.a.createElement(we.a,{message:"Invalid Login! Please try again",type:"error",showIcon:!0}),s.a.createElement(O.a,{className:"mb-4"},s.a.createElement("h2",null,"Sign In")),s.a.createElement(Se.a,Object.assign({},Le,{onSubmit:this.handleLogin,ref:function(a){e.form=a},name:"basic",initialValues:{remember:!0}}),s.a.createElement(Se.a.Item,{className:"group-floating-label",name:"email",rules:[{required:!0,message:"Please enter your email!",type:"email"}]},s.a.createElement(b.a,{type:"email",className:"input-control",placeholder:" ",value:this.state.email,onChange:this.onChangeUsername,suffix:s.a.createElement("label",{className:"floating-label",htmlFor:"name"},"Email")})),s.a.createElement(Se.a.Item,{className:"group-floating-label",name:"password",rules:[{required:!0,message:"Please enter your password!"}]},s.a.createElement(b.a,{type:"password",className:"input-control",value:this.state.password,onChange:this.onChangePassword,placeholder:" ",suffix:s.a.createElement("label",{className:"floating-label",htmlFor:"name"},"Password")})),s.a.createElement("div",{className:"forgot-pwd"},s.a.createElement("a",{href:"#"},"Forgot Password")),s.a.createElement(Se.a.Item,De,s.a.createElement(ae.a,{disabled:!n,type:"primary",htmlType:"submit",className:"primary-btn-lg w-100 mt-4",onClick:function(){e.handleLogin()}},"SIGN IN")))))),s.a.createElement(O.a,{className:"footer-content position-fixed"},s.a.createElement(Te,null)))}}]),a}(n.Component);var Me=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))(Ue),Fe={wrapperCol:{span:24}},Re={wrapperCol:{span:24}},He=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).handleLogin=t.handleLogin.bind(Object(_.a)(t)),t.onChangeUsername=t.onChangeUsername.bind(Object(_.a)(t)),t.onChangePassword=t.onChangePassword.bind(Object(_.a)(t)),t.state={email:"",password:"",page:"is_am_web_user",error:"false"},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(){var e=this;this.setState({loading:!0});var a=this.props,t=a.dispatch,n=a.history;t(ke(this.state.email,this.state.password,this.state.page)).then((function(){n.push("/hotlinemessages"),window.location.reload()})).catch((function(){e.setState({loading:!1,error:"true"})}))}},{key:"canSubmit",value:function(){var e=this.state,a=e.email,t=e.password;return a.length>0&&t.length>0}},{key:"render",value:function(){var e=this,a=this.props,t=a.isLoggedIn,n=(a.message,this.canSubmit());return t?s.a.createElement(i.a,{to:"/hotlinemessages"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"px-4 py-3"},s.a.createElement(I,null)),s.a.createElement(O.a,{className:"content-center mt-0 px-4"},s.a.createElement(C.a,{span:12,className:"vector-area justify-content-center mt-1 d-none d-lg-block"},s.a.createElement(C.a,{span:24,className:"text-center"},s.a.createElement("h5",{className:"text-center primary-text"},"Control Center and Insights Dashboard")),s.a.createElement(O.a,{className:"justify-content-center mt-3"},s.a.createElement("img",{src:je.a,alt:"Annonymoose",className:"pr-4"})),s.a.createElement(O.a,{className:"pt-3"},s.a.createElement("p",{className:"w-100 text-center text-wgt-md mb-1"},"Raising Voice Anonymously Made Easy"),s.a.createElement("p",{className:"text-center text-center subtext px-5 mb-0"},"Login to view and manage messages, analytics and reporting for Hotlines and Openlines and results for polls and surveys - for entities assigned to you"))),s.a.createElement(C.a,{lg:{span:12},md:{span:24},xs:{span:24},className:"d-flex justify-content-center mt-2"},s.a.createElement("div",{className:" col-md-24 col-lg-12 col-xl-10 login-box justify-content-center d-flex"},"true"==this.state.error&&s.a.createElement(we.a,{message:"Invalid Login! Please try again",type:"error",showIcon:!0}),s.a.createElement(O.a,{className:"mb-4"},s.a.createElement("h2",null,"Sign In")),s.a.createElement(Se.a,Object.assign({},Fe,{onSubmit:this.handleLogin,ref:function(a){e.form=a},name:"basic",initialValues:{remember:!0}}),s.a.createElement(Se.a.Item,{className:"group-floating-label",name:"email",rules:[{required:!0,message:"Please enter your email!",type:"email"}]},s.a.createElement(b.a,{type:"email",className:"input-control",placeholder:" ",value:this.state.email,onChange:this.onChangeUsername,suffix:s.a.createElement("label",{className:"floating-label",htmlFor:"name"},"Email")})),s.a.createElement(Se.a.Item,{className:"group-floating-label",name:"password",rules:[{required:!0,message:"Please enter your password!"}]},s.a.createElement(b.a,{type:"password",className:"input-control",value:this.state.password,onChange:this.onChangePassword,placeholder:" ",suffix:s.a.createElement("label",{className:"floating-label",htmlFor:"name"},"Password")})),s.a.createElement("div",{className:"forgot-pwd"},s.a.createElement("a",{href:"#"},"Forgot Password")),s.a.createElement(Se.a.Item,Re,s.a.createElement(ae.a,{disabled:!n,type:"primary",htmlType:"submit",className:"primary-btn-lg w-100 mt-4",onClick:function(){e.handleLogin()}},"SIGN IN")))))),s.a.createElement(O.a,{className:"footer-content position-fixed"},s.a.createElement(Te,null)))}}]),a}(n.Component);var ze=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))(He),Ge=t(99),Ve=t(73),Be=t(33),Ye=t(19),We=t(617),qe=t(624),Je=(t(491),t(615)),Ke=t(70),Ze=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1,iconContent:"",ImageId:""},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(e){console.log(e),t.setState({visible:!1}),t.props.addIcon(t.state.iconContent,t.state.ImageId)},t.handleCancel=function(e){console.log(e),t.setState({visible:!1})},t.onSelectIcon=function(e){console.log("iddd",e.currentTarget.id),t.setState({iconContent:e.currentTarget.innerHTML,ImageId:e.currentTarget.id})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{type:"link",className:"link pl-0",onClick:this.showModal},s.a.createElement("span",{className:"icon icon-add-filled"}),"Add Icon"),s.a.createElement(pe.a,{className:"modal-icon",title:"Add Icon",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:500,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Add",cancelText:"Cancel"},s.a.createElement(O.a,{className:"py-4"},s.a.createElement("div",{className:"1"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:1,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Sexual Harrasment"},s.a.createElement("span",{className:"icon icon-sexual-harassment-1"}))),s.a.createElement("div",{className:"2"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:2,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Voilence"},s.a.createElement("span",{className:"icon icon-violence"}))),s.a.createElement("div",{className:"3"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:3,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Racism"},s.a.createElement("span",{className:"icon icon-racism"}))),s.a.createElement("div",{className:"4"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:4,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Cyber Bullying"},s.a.createElement("span",{className:"icon icon-cyber-bullying"}))),s.a.createElement("div",{className:"5"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:5,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Fight"},s.a.createElement("span",{className:"icon icon-fight"}))),s.a.createElement("div",{className:"6"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:6,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Discrimination"},s.a.createElement("span",{className:"icon icon-discrimination"}))),s.a.createElement("div",{className:"7"===this.state.ImageId?"col-sm-2 selected":"col-sm-2",id:7,onClick:this.onSelectIcon},s.a.createElement(Ke.a,{title:"Slap"},s.a.createElement("span",{className:"icon icon-slap"}))))))}}]),a}(n.Component),Xe=t(127),Qe=t.n(Xe),$e=t(35),ea=t.n($e),aa=(t(247),b.a.TextArea),ta=X.a.Option,na=function(e){var a=e.next,t=e.stepOneHotLineInfo,r=e.handleStepOneOnChange,l=e.handleStepOneOnSelect,c=e.handleStepOneDatePickerChange,o=e.addIcon,i=e.getIconText,m=Object(n.useState)({iconText:""}),u=Object(Ye.a)(m,2),d=(u[0],u[1],Object(n.useState)(!1)),p=Object(Ye.a)(d,2),h=p[0],E=p[1],g=Object(n.useState)(!0),f=Object(Ye.a)(g,2),y=(f[0],f[1]),v=Se.a.useForm(),b=Object(Ye.a)(v,1)[0],N=Object(n.useState)(""),O=Object(Ye.a)(N,2),C=O[0],w=O[1],S=Je.a.RangePicker;return s.a.createElement(Se.a,{className:"input-md w-75",name:"validate_other",form:b},h&&s.a.createElement(Se.a.Item,null,s.a.createElement(we.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),s.a.createElement(Se.a.Item,{className:"required",name:"directoryName",rules:[{required:!0,message:"Please enter directory name"}]},s.a.createElement(aa,{showCount:!0,maxLength:80,value:t.directoryName,onChange:function(e){return r(e)},onBlur:function(e){return function(e){var a={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.post("http://10.0.6.10:8000/api/V1/checkhotline/",{hotline_name:t.directoryName},a).then((function(e){e.data&&w(e.data[0])}))}()},id:"directoryName",className:"input-control textarea-input",placeholder:"Directory Name",htmlFor:"directoryName"}),"status: true"==C&&s.a.createElement(we.a,{message:"Sorry! This hotline already exists in the system. Please use a different name.",type:"error",showIcon:!0}),"status: false"==C&&s.a.createElement(we.a,{message:"Hotline name is validated.",type:"success",showIcon:!0})),s.a.createElement(Se.a.Item,{className:"required",name:"description",rules:[{required:!0,message:"Please enter description"}]},s.a.createElement(s.a.Fragment,null,s.a.createElement(aa,{className:"input-control textarea-input",value:t.description,onChange:function(e){return r(e)},id:"description",placeholder:"Description",htmlFor:"description"}))),s.a.createElement(Se.a.Item,{className:"input-control datepicker-wrapper"},s.a.createElement(S,{className:"datepicker w-50 mr-5 required",name:"sDate",value:t.sDate,onChange:function(e){return c(e,"sDate")},disabledDate:function(e){return e&&e<ea()().startOf("day")},rules:[{required:!0,message:"Please select start date"}]})),s.a.createElement(Se.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please select status"}]},s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a,{placeholder:"Status",className:"input-control w-50",value:t.status,htmlFor:"status",onSelect:function(e){return l(e,"status")}},s.a.createElement(ta,{value:"",disabled:!0},"Status"),s.a.createElement(ta,{value:"5"},"Active"),s.a.createElement(ta,{value:"4"},"Inactive")))),s.a.createElement(Se.a.Item,{className:""},s.a.createElement(Se.a.Item,{className:"upload-control",name:"upload",valuePropName:"fileList"},s.a.createElement(Ze,{addIcon:o}),i(t.hotlineIconId)&&s.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},s.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},s.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},s.a.createElement("span",{className:"d-inline-flex align-items-center"},s.a.createElement("a",{className:"ant-upload-list-item-thumbnail"},Qe()(t.iconHtml)),s.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:i(t.hotlineIconId)},i(t.hotlineIconId)))))))),s.a.createElement(Se.a.Item,null,s.a.createElement(ae.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault(),t.directoryName&&t.description&&t.iconHtml&&t.status&&t.sDate?(E(!1),y(!1),a()):E(!0)}},"Next")))},sa=t(144),ra=function(e){var a=e.handleCheck,t=e.selectedRow,r=e.stepOneHotLineValues,l=e.permissions,c=e.getCheckValues,o=Object(n.useState)(!1),i=Object(Ye.a)(o,2),m=i[0],u=i[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{type:"primary",onClick:function(){return U.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0);case 1:case"end":return e.stop()}}))}},"Assign"),s.a.createElement(pe.a,{className:"modal-checkbox",visible:m,onOk:function(){return u(!1),void c()},onCancel:function(){u(!1)},centered:!0,width:590,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Done",cancelText:"Cancel"},s.a.createElement("div",null,"Assign Permissions for ",s.a.createElement("b",null,r.directoryName)," ","Hotline",s.a.createElement("br",null)," ",s.a.createElement("span",{className:"font-wgt-md"}," ")," "),s.a.createElement(O.a,{className:"mt-5"},s.a.createElement(C.a,{span:7}),s.a.createElement(C.a,{span:10},"Reply to Messages, Add Notes, Status & Urgency Level")),t&&t.map((function(e){var t=l.find((function(a){return a.user_id===e.user_id}));return s.a.createElement(O.a,{className:"mt-3",style:{textAlign:"center"}},s.a.createElement(C.a,{span:7},"".concat(e.firstname," ").concat(e.lastname)),s.a.createElement(C.a,{span:10},s.a.createElement(sa.a,{checked:!(!t||1!==t.can_respond),onChange:function(t){return a(e)}})))}))))},la=t(290),ca=t.n(la),oa=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).start=function(){t.setState({showAssigntoModal:!0})},t.stepTwoPrev=function(){t.props.prev()},t.stepTwoNext=function(){0!=t.props.stepTwoHotLine.chekedValues.length?t.props.next():t.setState({showAlert:!0})},t.getCheckValues=function(){t.setState({showAlert:!1}),t.props.getCheckValues()},t.state={employeeData:"",showAssigntoModal:"false",showAlert:!1},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(de())}},{key:"componentDidUpdate",value:function(e){var a=this.props.manageEmpData;e.manageEmpData!=a&&this.setState({employeeData:a})}},{key:"render",value:function(){var e=this,a=this.props.stepTwoHotLine,t=a.selectedRows,n={selectedRowKeys:a.selectedRowKeys,onChange:this.props.handleStepTwoOnSelect},r=[{title:"First Name",dataIndex:"firstname",key:"firstname",width:"22%"},{title:"Last Name",dataIndex:"lastname",key:"lastname",width:"22%"},{title:"Mobile Number",dataIndex:"Mobile_Number",key:"Mobile_Number",width:"21%"},{title:"Access",dataIndex:"Access",render:function(e){var a="";for(var t in e)1==e[t]&&("am_web"==t&&(t="AM WEB"),"app_user"==t&&(t="APP"),a+=t+" ");return s.a.createElement("span",null,a)},width:"20%"},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(){return s.a.createElement("div",{className:"primary-tag-rounded tag"},s.a.createElement("span",{className:"circle mr-1"}),"Active")}}];return s.a.createElement("div",null,s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"pt-1 pb-3"},s.a.createElement(C.a,{span:18,className:"search-now"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:9,className:"search-box"},s.a.createElement(ca.a,{placeholder:"Search User"})))),s.a.createElement(C.a,{span:6,className:"d-flex align-items-center justify-content-end"},s.a.createElement(ra,{handleCheck:this.props.handleStepTwoCheckValues,selectedRow:t,stepOneHotLineValues:this.props.stepOneHotLine,permissions:this.props.permissions,getCheckValues:this.props.getCheckValues})))),this.state.showAlert&&s.a.createElement(we.a,{message:"Please select user(s) and assign required permission(s) using Assign button.",type:"error",showIcon:!0}),s.a.createElement(Q.a,{rowSelection:n,columns:r,dataSource:this.state.employeeData,rowKey:"unique_identifier"}),s.a.createElement("div",{className:"steps-action mt-5"},s.a.createElement(ae.a,{className:"mr-4",type:"secondary",style:{margin:"0 8px"},onClick:function(){return e.stepTwoPrev()}},"Back"),s.a.createElement(ae.a,{className:"md",type:"primary",onClick:function(){return e.stepTwoNext()}},"Next")))}}]),a}(s.a.Component);var ia=Object(c.b)((function(e){return{manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(oa),ma=b.a.TextArea,ua=(X.a.Option,function(e){var a,t=e.prev,n=e.createNewHotLine,r=e.stepOneHotLine,l=e.stepTwoHotLine,c=e.getIconText,o=Se.a.useForm(),i=Object(Ye.a)(o,1)[0],m=l.selectedRows.map((function(e){return e.firstname+" "+e.lastname})),u=Je.a.RangePicker;return s.a.createElement(Se.a,{className:"input-md w-75",name:"validate_other",form:i},s.a.createElement(Se.a.Item,{name:"directoryName"},s.a.createElement(s.a.Fragment,null,s.a.createElement(ma,{showCount:!0,disabled:!0,maxLength:80,value:r.directoryName,id:"directoryName",className:"input-control textarea-input",placeholder:"Directory Name",htmlFor:"directoryName"}))),s.a.createElement(Se.a.Item,{name:"description"},s.a.createElement(s.a.Fragment,null,s.a.createElement(ma,{disabled:!0,className:"input-control textarea-md",value:r.description,id:"description",placeholder:"Description",htmlFor:"description"}))),s.a.createElement(Se.a.Item,{className:"input-control datepicker-wrapper"},s.a.createElement(s.a.Fragment,null,s.a.createElement(u,{className:"datepicker w-50 mr-5",name:"sdate",value:r.sDate,rules:[{readOnly:!0,required:!0,message:"Please select start date"}],disabled:!0}))),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{className:"w-50 mr-5"},s.a.createElement(Se.a.Item,{name:"status"},s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a,{className:"input-control",placeholder:"Status",value:r.status,htmlFor:"status",disabled:!0},s.a.createElement(X.a.Option,{value:"5"},"Active"),s.a.createElement(X.a.Option,{value:"4"},"Inactive")," ")))),s.a.createElement("div",{className:"w-50 mr-0"},s.a.createElement(Se.a.Item,{name:"userNames"},s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{className:"input-control",placeholder:"Assigned to",htmlFor:"assigned to",id:m,disabled:!0,value:m.join(", ")}))))),s.a.createElement(Se.a.Item,{className:"w-50"},s.a.createElement(Se.a.Item,{className:"upload-control"},s.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},s.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},s.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},s.a.createElement("span",{className:"d-inline-flex align-items-center"},s.a.createElement("a",{className:"ant-upload-list-item-thumbnail",href:"#",rel:""},Qe()(r.iconHtml)),s.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:"women safety"},c(r.hotlineIconId)),s.a.createElement("span",{className:"uploaded-icon icon icon-close d-inline-flex justify-content-end align-items-center"}))))))),s.a.createElement("div",{className:"steps-action mt-5"},s.a.createElement(ae.a,(a={type:"secondary",className:"mr-4"},Object(Ve.a)(a,"type","secondary"),Object(Ve.a)(a,"style",{margin:"0 8px"}),Object(Ve.a)(a,"htmlType","submit"),Object(Ve.a)(a,"onClick",(function(e){e.preventDefault(),t()})),a),"Back"),s.a.createElement(ae.a,{type:"primary",className:"md",htmlType:"submit",onClick:function(e){n()}},"Create")))}),da=N.a.Content,pa=We.a.Step,ha=[{title:"Add Details",content:"First-content"},{title:"Assign Employee",content:"Second-content"},{title:"Create Directory",content:"Last-content"}],Ea=function(){var e=Object(n.useState)(0),a=Object(Ye.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({directoryName:"",description:"",status:"",sDate:"",tDate:"",hotlineIconId:"",iconHtml:""}),c=Object(Ye.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)({selectedRows:"",selectedRowKeys:[],chekedValues:[]}),d=Object(Ye.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)([]),g=Object(Ye.a)(E,2),y=g[0],v=g[1],b=function(){r(t+1)},w=function(){r(t-1)},S=function(e){switch(e){case"1":return"Sexual Harassment";case"2":return"Voilence";case"3":return"Racism";case"4":return"Cyber Bullying";case"5":return"Fight";case"6":return"Discrimination";case"7":return"Slap";default:return""}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"inner-header"},s.a.createElement(B,{amORGUser:!0})),s.a.createElement(O.a,{className:"content-center pt-0"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,s.a.createElement(J,{amORGUser:!0}),s.a.createElement(da,{className:""},s.a.createElement(O.a,{className:"pt-3"},s.a.createElement(qe.a,{separator:">"},s.a.createElement(o.c,{to:"/displayhotlines"},s.a.createElement(qe.a.Item,null,"Hotline Directory")),s.a.createElement(qe.a.Item,null,"Create Hotline Directory"))),s.a.createElement(O.a,{className:"py-3"},s.a.createElement("h1",{className:"mb-0"},"Create Hotline Directory Entries")),s.a.createElement(We.a,{className:"mt-2",current:t},ha.map((function(e){return s.a.createElement(pa,{key:e.title,title:e.title})}))),s.a.createElement("div",{className:"mid-content mt-4"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:24},s.a.createElement("div",{className:"steps-content"},0==t?s.a.createElement(na,{next:b,stepOneHotLineInfo:i,handleStepOneOnChange:function(e){m(Object(Be.a)({},i,Object(Ve.a)({},e.target.id,e.target.value)))},handleStepOneOnSelect:function(e,a){m(Object(Be.a)({},i,Object(Ve.a)({},a,e)))},handleStepOneDatePickerChange:function(e,a){m(Object(Be.a)({},i,Object(Ve.a)({},a,e)))},addIcon:function(e,a){m(Object(Be.a)({},i,{hotlineIconId:a,iconHtml:e}))},getIconText:S}):1==t?s.a.createElement(ia,{next:b,prev:w,stepOneHotLine:i,stepTwoHotLine:p,handleStepTwoOnSelect:function(e,a){if(a>p.selectedRows){var t=JSON.parse(f("user")),n={user_id:a[a.length-1].user_id,can_respond:1,can_view_reports:0,created_by:t.user_details.org_user_id};v([].concat(Object(Ge.a)(y),[n]))}h(Object(Be.a)({},p,{selectedRowKeys:e,selectedRows:a}))},handleStepTwoCheckValues:function(e){var a=y.findIndex((function(a){return a.user_id===e.user_id}));y[a]=Object(Be.a)({},y[a],{can_respond:1===y[a].can_respond?0:1}),v(Object(Ge.a)(y))},permissions:y,getCheckValues:function(){h(Object(Be.a)({},p,{chekedValues:y}))}}):2==t?s.a.createElement(ua,{prev:w,createNewHotLine:function(){var e,a,t,n;return U.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:e=JSON.parse(f("user")),a=ne(),t={create_hotline:{name:i.directoryName,help_text:i.description,start_date:i.sDate[0]?ea()(i.sDate[0]).format("DD-MM-YYYY"):"",end_date:i.sDate[1]?ea()(i.sDate[1]).format("DD-MM-YYYY"):"",status_id:i.status,hotline_icon_id:parseInt(i.hotlineIconId),created_by:e.user_details.org_user_id},permissions:p.chekedValues},n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},console.log("values final",t),F.a.post("http://10.0.6.10:8000/api/V1/hotline/",t,n).then((function(e){console.log(e),console.log(e.data),window.location="/hotlinedirectory"}));case 6:case"end":return s.stop()}}))},stepOneHotLine:i,stepTwoHotLine:p,getIconText:S}):"")))))))))},ga=t(613),fa=(t(583),t(291)),ya=t.n(fa),va=N.a.Content,ba=function(){var e=s.a.useState(!1),a=Object(Ye.a)(e,2),t=a[0],n=a[1];return s.a.createElement(s.a.Fragment,null,console.log("...",t),!0===!t?s.a.createElement(s.a.Fragment,null," ",s.a.createElement(O.a,{className:"inner-header"},s.a.createElement(B,{amORGUser:!0})),s.a.createElement(O.a,{className:"content-center pt-0"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,s.a.createElement(J,{amORGUser:!0}),s.a.createElement(va,{className:""},s.a.createElement(O.a,{className:"py-3"},s.a.createElement("h1",{className:"mb-0"},"Hotline Directory")),s.a.createElement("div",{className:"mid-content d-flex justify-content-center align-items-center"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:24},s.a.createElement("div",{className:"c-vector-area"},s.a.createElement("img",{src:ya.a,alt:"Create Hotline",className:"pr-4"})),s.a.createElement("p",{className:"text-center pt-3"},"Create Hotline entries and assign them to managers,",s.a.createElement("br",null),"head of departments or leadership."),s.a.createElement(O.a,{className:"d-flex justify-content-center"},s.a.createElement(ga.a,{className:"mt-1"})),s.a.createElement(C.a,{span:24,className:"d-flex align-items-center justify-content-center"},s.a.createElement(ae.a,{onClick:function(){n(!0)},type:"primary"},"Create")))))))))):s.a.createElement(Ea,null))};b.a.Search;var Na=function(e){var a=e.data,t=e.deleteRecord,r=e.handleCheck,l=Object(n.useState)(),c=Object(Ye.a)(l,2),o=c[0],i=c[1];Object(n.useEffect)((function(){m()}),[a]);var m=function(){i(a)},u=[{title:"Name",dataIndex:"first_name",key:"first_name",width:"30%"},{title:"Respond",dataIndex:"can_respond",key:"can_respond",width:"20%",editable:!0,render:function(e,a){return s.a.createElement(C.a,{span:12,className:"d-flex justify-content-end"},s.a.createElement(sa.a,{value:"reports",checked:e,onChange:function(e){return r(a)}}))}},{title:"Action",dataIndex:"user_id",key:"user_id",width:"20%",render:function(e,a){return s.a.createElement("span",{onClick:function(e){!function(e,a){a.preventDefault(),t(e)}(a,e)},className:"uploaded-icon icon icon-close d-inline-flex justify-content-end align-items-center"})}}];return s.a.createElement("div",{className:"no-bordered-grid"},s.a.createElement(Q.a,{className:"no-bg-table",rowClassName:function(){return"editable-row"},columns:u,dataSource:o,rowKey:"rowkey"}))},Oa=t(614),Ca=(t(584),function(e){var a=e.searchData,t=e.addAssignUser;return s.a.createElement(Oa.a,{options:a,placeholder:"Search Employee",filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())},onSelect:function(e,a){return function(e,a){console.log("value",e),console.log("option",a),t(e,a)}(e,a)}})}),wa=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1,assignedHotLines:"",hotLineName:"",assignedEmp:""},t.showModal=function(){t.setState({visible:!0,employeeData:[],hotLineName:t.props.selectedRows.name,hotlineId:t.props.selectedRows.hotline_id}),(0,t.props.dispatch)(de()),t.getAssignedEmployee()},t.getAssignedEmployee=function(){var e={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.get("http://10.0.6.10:8000/api/V1/getHotlineAssignEmpl/"+t.props.selectedRows.hotline_id,e).then((function(e){t.setState({assignedHotLines:e.data})}))},t.handleOk=function(e){t.setState({visible:!1});var a={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.post("http://10.0.6.10:8000/api/V1/hotlineAssignEmpl/",t.state.assignedEmp,a).then((function(e){t.getAssignedEmployee(),t.setState({assignedEmp:""})})).catch((function(e){}))},t.handleCheck=function(e){var a=Object(Ge.a)(t.state.assignedHotLines),n=a.findIndex((function(a){return a.user_id===e.user_id}));a[n]=Object(Be.a)({},a[n],{can_respond:!e.can_respond}),t.setState({assignedHotLines:a});var s=Object(Ge.a)(t.state.assignedEmp),r=s.findIndex((function(a){return a.user_id===e.user_id}));s[r]=Object(Be.a)({},s[r],{can_respond:!e.can_respond}),t.setState({assignedEmp:s})},t.handleCancel=function(e){console.log(e),t.setState({visible:!1})},t.deleteRecord=function(e){console.log("value",e);e.user_id;var a=t.state.assignedEmp&&t.state.assignedEmp.filter((function(a){return a.user_id!==e.user_id}));t.setState({assignedEmp:a}),console.log("newArray",a);var n={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},data:JSON.stringify({user_id:e.user_id})};F.a.delete("http://10.0.6.10:8000/api/V1/getHotlineAssignEmpl/"+e.hotline_id,n).then((function(e){console.log("res",e),t.getAssignedEmployee()})).catch((function(e){}))},t.addUser=function(e,a){var n=JSON.parse(f("user")),s=t.state,r=s.assignedHotLines,l=s.assignedEmp,c={hotline_id:t.state.hotlineId,user_id:parseInt(a.user_id),can_respond:!1,can_view_reports:!1,first_name:a.value},o={hotline_id:t.state.hotlineId,user_id:parseInt(a.user_id),can_respond:!1,can_view_reports:!1,created_by:n.user_details.org_user_id};t.setState({assignedHotLines:[].concat(Object(Ge.a)(r),[c]),assignedEmp:[].concat(Object(Ge.a)(l),[o])})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var a=this.props.manageEmpData,t=[];if(e.manageEmpData!=a){for(var n=0;n<a.length;n++)t.push({value:a[n].firstname.concat(" ",a[n].lastname),user_id:a[n].user_id});this.setState({employeeData:t})}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:this.showModal},"Show"),s.a.createElement(pe.a,{className:"modal-checkbox",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:590,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Done",cancelText:"Cancel"},s.a.createElement("div",null,"Employees with permissions to ",this.state.hotLineName),s.a.createElement(O.a,{className:"mt-5 mb-3 thead-outer"},s.a.createElement(C.a,{span:10},"Reply to Messages, Add Notes, Status & Priority Level")),s.a.createElement(Na,{data:this.state.assignedHotLines,deleteRecord:this.deleteRecord,handleCheck:this.handleCheck}),s.a.createElement(O.a,{className:"mb-2 autocomplete"},s.a.createElement(C.a,{span:24},s.a.createElement(Ca,{searchData:this.state.employeeData,addAssignUser:this.addUser}),s.a.createElement("small",null,"Hit enter to add")))))}}]),a}(n.Component);var Sa=Object(c.b)((function(e){return{assignhotlines:e.assignedHotline.assignhotlines,manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(wa),Ia=b.a.Search,ja=(s.a.createElement($.a,{style:{fontSize:16,color:"#1890ff"}}),X.a.Option,N.a.Content),ka=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})};var n=[{title:"Hotline Name",dataIndex:"name",key:"name",width:"22%"},{title:"Start Date",dataIndex:"start_date",key:"start_date",width:"22%"},{title:"End Date",dataIndex:"end_date",key:"end_date",width:"21%"},{title:"Permissions",dataIndex:"",key:"x",width:"20%",render:function(e){return s.a.createElement("div",null,s.a.createElement(Sa,{selectedRows:e}))}},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(e){return 5===e.status_id?s.a.createElement("div",{className:"primary-tag-rounded tag"},s.a.createElement("span",{className:"circle mr-1"}),"Active"):s.a.createElement("div",{className:"secondary-tag-rounded tag"},"Inactive")}},{title:"",dataIndex:"",key:"x",width:"5%",render:function(){return s.a.createElement(ye,null)}}];return t.state={columns:n,data:[]},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.hotlines;a.forEach((function(e){e.start_date=e.start_date.replaceAll("-"," / "),e.start_date=e.start_date.replaceAll("T00:00:00",""),e.end_date=e.end_date.replaceAll("-"," / "),e.end_date=e.end_date.replaceAll("T00:00:00","")})),this.setState({data:a},(function(){e.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].includes(a)}))})):e}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"inner-header"},s.a.createElement(B,{amORGUser:!0})),s.a.createElement(O.a,{className:"content-center pt-0"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,s.a.createElement(J,{amORGUser:!0}),s.a.createElement(ja,{className:""},s.a.createElement(O.a,{className:"py-3"},s.a.createElement("h1",null,"Hotline Directory")),s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"pt-1 pb-3"},s.a.createElement(C.a,{span:18,className:"search-row"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:9,className:"search-box"},s.a.createElement(Ia,{placeholder:"Search",onSearch:this.onSearch})))),s.a.createElement(C.a,{span:6,className:"d-flex align-items-center justify-content-end"},s.a.createElement(o.b,{to:"/hotline"},s.a.createElement(te,{value:"Create Hotline"}))))),s.a.createElement(ee,{rowKey:"hotline_id",columns:this.state.columns,data:this.state.filterData}))))))}}]),a}(s.a.Component);var _a=Object(c.b)((function(e){return{hotlinesdata:e.hotlinedata.hotlinesdata}}))((function(e){return Object(n.useEffect)((function(){(0,e.dispatch)((function(e){return re.getHotlines().then((function(a){return console.log(a.data),e({type:"HOTLINE_SUCCESS",payload:{hotlinesdata:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"HOTLINE_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}))}),[]),e.hotlinesdata.length>0?s.a.createElement(ka,{hotlines:e.hotlinesdata}):s.a.createElement(ba,null)})),xa=t(620),Aa=t(310),Pa=t(625),Ta=(t(585),N.a.Sider),La=function(){return s.a.createElement(Ta,null,s.a.createElement(Y.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},s.a.createElement(Y.a.Item,{key:"1",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-hotlines"}))}," ",s.a.createElement(o.b,{to:"/hotlinemessages"},"Hotlines Messages")),s.a.createElement(Y.a.Item,{key:"2",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-openlines"}))}," ","Hotline Reports"),s.a.createElement(Y.a.Item,{key:"3",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-polls"}))}," ","Openline Messages"),s.a.createElement(Y.a.Item,{key:"4",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-manage-emp"}))}," ","Openline Reports"),s.a.createElement(Y.a.Item,{key:"5",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-broadcast"}))}," ","Poll Results"),s.a.createElement(Y.a.Item,{key:"7",icon:s.a.createElement("span",{className:"icon-circle"},s.a.createElement("span",{className:"icon icon-info"}))}," ","Broadcast Messages")),s.a.createElement("div",{className:"btm-div"},s.a.createElement("a",{href:"/",className:"px-2",disabled:!0},"Info"),s.a.createElement("a",{href:"/",className:"px-2",disabled:!0},"Help")))},Da=function(e){var a=Object(n.useState)([]),t=Object(Ye.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)([]),o=Object(Ye.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)([]),d=Object(Ye.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)([]),g=Object(Ye.a)(E,2),y=g[0],v=g[1];Object(n.useEffect)((function(){var e=ne(),a=JSON.parse(f("user")),t={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.get(R+"getUserallHotlines/"+a.user_data.user_id,t).then((function(e){var a=[];e.data.map((function(e){return a.push({label:e.hotline_name,value:e.hotline_id})})),v(a)}))}),[]);var b=y;return s.a.createElement("div",null,s.a.createElement(C.a,{span:24,style:{width:"325px"}},s.a.createElement(O.a,{className:"filter-wrapper align-items-center px-3 py-2"},s.a.createElement(C.a,{span:"12"},s.a.createElement("h6",null,"Filter")),s.a.createElement(C.a,{span:"12",className:"d-flex justify-content-end"},s.a.createElement(ae.a,{type:"link",className:"link pl-0 pt-0",onClick:function(){return function(){for(var a=0;a<=7;a++){var t=document.getElementsByClassName("ant-checkbox-wrapper")[a];t&&t.classList.remove("ant-checkbox-wrapper-checked");var n=document.getElementsByClassName("ant-checkbox")[a];n&&n.classList.remove("ant-checkbox-checked")}var s=ne(),r=JSON.parse(f("user")),l={headers:{Authorization:s,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},c=R+"hotlineResponderConversation/?user_id="+r.user_details.org_user_id;F.a.get(c,l).then((function(a){e.loadFilteredConversations(a.data,"reset")})),e.hide()}()}},"Reset"))),s.a.createElement(ga.a,{className:"mt-0 mb-1 w-100"}),s.a.createElement(O.a,{className:"filter-wrapper align-items-center px-3 py-2"},s.a.createElement("div",{className:"w-100 mb-4"},s.a.createElement(C.a,{span:"24",className:"filter-type mb-3"},s.a.createElement("h6",null,"Urgency Level")),s.a.createElement(C.a,{span:"24"},s.a.createElement(sa.a.Group,{className:"d-flex flex-column flex-gap",name:"urgencyLevel",options:[{label:"Low",value:1},{label:"Medium",value:2},{label:"High",value:3}],onChange:function(e){m(e)}}))),s.a.createElement("div",{className:"w-100 mb-4"},s.a.createElement(C.a,{span:"24",className:"filter-type mb-3"},s.a.createElement("h6",null,"Status")),s.a.createElement(C.a,{span:"24"},s.a.createElement(sa.a.Group,{className:"d-flex flex-column flex-gap",name:"status",options:[{label:"New",value:1},{label:"Open",value:2},{label:"Closed",value:3}],onChange:function(e){l(e)}}))),s.a.createElement("div",{className:"w-100 mb-4"},s.a.createElement(C.a,{span:"24",className:"filter-type mb-3"},s.a.createElement("h6",null,"Hotline")),s.a.createElement(C.a,{span:"24"},s.a.createElement(sa.a.Group,{className:"d-flex flex-column flex-gap",name:"hotline",options:b,onChange:function(e){h(e)}}))),s.a.createElement(O.a,null,s.a.createElement(C.a,{span:"24",className:"btn-row"},s.a.createElement(ae.a,{type:"primary",className:"mr-2",onClick:function(){return function(){var a=Object(Be.a)({},r.length>0&&{status_id:r},{},i.length>0&&{urgency_level_id:i},{},p.length>0&&{hotline_id:p}),t=ne(),n=JSON.parse(f("user")),s={headers:{Authorization:t,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},l=R+"hotlineResponderConversation/?user_id="+n.user_details.org_user_id,c=""===e.searchString?l+"&filter="+JSON.stringify(a):l+"&filter="+JSON.stringify(a)+"&search="+e.searchString;F.a.get(c,s).then((function(a){e.loadFilteredConversations(a.data,"apply")})),e.hide()}()}},"Apply"),s.a.createElement(ae.a,{type:"secondary",onClick:function(){return e.hide()}},"Cancel"))))))},Ua=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1},t.hide=function(){t.setState({visible:!1})},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{placement:"bottom",content:s.a.createElement(Da,{hide:this.hide,searchString:this.props.searchString,loadFilteredConversations:this.props.loadFilteredConversations}),trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},s.a.createElement("span",{className:"icon icon-filter"})))}}]),a}(s.a.Component),Ma=t(292),Fa=t.n(Ma),Ra=b.a.TextArea,Ha=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={visible:!1,noteText:""},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(e){console.log(e),console.log("this",t.state.noteText),console.log("convoId",t.props.convoId),t.setState({visible:!1});var a=ne(),n=JSON.parse(f("user")),s={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},r={note_text:t.state.noteText,conversation_id:t.props.convoId,created_by:n.user_details.org_user_id};F.a.post(R+"addNotes/",r,s).then((function(e){200===e.status&&t.props.getNoteData(e.data.conversation_id)}))},t.handleCancel=function(e){console.log(e),t.setState({visible:!1})},t.handleChange=function(e){t.setState({noteText:e.target.value})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0"},s.a.createElement("span",{className:"icon icon-add-filled"}),"Take a note.."),s.a.createElement(pe.a,{className:"note-modal",title:"Take a Note",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Add",cancelText:"Cancel"},s.a.createElement(O.a,{className:"pt-2"},s.a.createElement(Se.a,{className:"input-md w-100",name:"validate-other"},s.a.createElement(Se.a.Item,{className:"mb-0",name:"send message"},s.a.createElement(Ra,{className:"input-control",placeholder:"Add note here...",htmlFor:"send message",value:this.state.noteText,onChange:function(a){return e.handleChange(a)}}))))))}}]),a}(n.Component),za=xa.a.Paragraph,Ga=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={expand:!1,counter:0,notesData:[],conversationId:""},t.typoExpand=function(){t.setState({expand:!0,counter:t.state.expand?t.state.counter+1:t.state.counter+0})},t.typoClose=function(){t.setState({expand:!1,counter:t.state.expand?t.state.counter+1:t.state.counter+0})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"renderParagraph",value:function(e){return s.a.createElement("div",{className:"note-wrapper m-2",key:this.state.counter},s.a.createElement("span",{className:"note-user"},ea()(e.created_on).format("DD MMM \u2022 hh:mm \u2022")," ",e.first_name," ",e.last_name),s.a.createElement(za,{ellipsis:{rows:3,expandable:!0,symbol:"Show more",onExpand:this.typoExpand}},e.note_text))}},{key:"render",value:function(){var e=this;return this.props.addedNote.map((function(a){return s.a.createElement("div",{className:"show-less"},e.renderParagraph(a),e.state.expand&&s.a.createElement("a",{className:"d-flex justify-content-end",onClick:e.typoClose},"Show less"))}))}}]),a}(n.Component),Va=(xa.a.Paragraph,function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).onChange=function(e){t.setState({rows:e})},t.state={rows:1,notes:[],conversationId:""},t.getNotes=t.getNotes.bind(Object(_.a)(t)),t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){console.log("this",this.props.conversation_id),this.setState({conversationId:this.props.conversation_id}),this.getNotes(this.props.conversation_id)}},{key:"getNotes",value:function(e){var a=this;console.log("test",this.state);var t={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},params:{conversation_id:e}};F.a.get(R+"getNotes/",t).then((function(e){console.log("res",e),a.setState({notes:e.data})}))}},{key:"render",value:function(){var e=this.state.notes;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"rgt-panel",className:this.props.class},s.a.createElement("p",null,s.a.createElement(O.a,null,s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"filter-wrapper align-items-center justify-content-between px-3 pt-3"},s.a.createElement(C.a,{span:"12"},s.a.createElement("h6",null,"Notes")),s.a.createElement(ae.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0 align-items-center d-flex"},s.a.createElement("span",{className:"icon icon-close small",onClick:this.props.divClicked}))),s.a.createElement(ga.a,{className:"my-2 w-100"}),s.a.createElement(C.a,{span:"24",className:"px-3"},s.a.createElement(Ha,{convoId:this.props.conversation_id,getNoteData:this.getNotes}),s.a.createElement(O.a,{className:"added-notes"},s.a.createElement(Ga,{addedNote:e}))))))))}}]),a}(n.Component)),Ba=t(627),Ya=[{id:1,name:"Updated the Status to"},{id:2,name:"Updated the Urgency Level to"},{id:3,name:"Added new Note"},{id:4,name:"View Hotline Converations"}],Wa=[{id:1,name:"New"},{id:2,name:"Open"},{id:3,name:"Closed"}],qa=[{id:1,name:"Low"},{id:2,name:"Medium"},{id:3,name:"High"}],Ja=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(d.a)(this,Object(p.a)(a).call(this))).state={myclass:"",activity:[]},e.divclicked=e.divclicked.bind(Object(_.a)(e)),e}return Object(h.a)(a,e),Object(u.a)(a,[{key:"divclicked",value:function(){""===this.state.myclass?this.setState({myclass:"rgt-panel"}):this.setState({myclass:""})}},{key:"componentDidMount",value:function(){this.getAcitivity(this.props.conversation_id)}},{key:"getAcitivity",value:function(e){var a=this,t={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.get(R+"getconversationActivity/?conversation_id="+e,t).then((function(e){console.log("res",e),a.setState({activity:e.data})}))}},{key:"mapAuditLog",value:function(e){var a="";return Ya.map((function(t){t.id===e.audit_log_event_id&&(a=t.name,e.status_value&&Wa.map((function(t){e.status_value==t.id&&(a=a+" <b>"+t.name+"</b>")})),e.urgency_level_value&&qa.map((function(t){e.urgency_level_value==t.id&&(a=a+" <b>"+t.name+"</b>")})))})),a}},{key:"render",value:function(){var e=this,a=this.state.activity;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"rgt-panel",className:this.props.class},s.a.createElement("p",null,s.a.createElement(O.a,null,s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"filter-wrapper align-items-center justify-content-between px-3 pt-3"},s.a.createElement(C.a,{span:"12"},s.a.createElement("h6",null,"Activity")),s.a.createElement(ae.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0 align-items-center d-flex"},s.a.createElement("span",{className:"icon icon-close small",onClick:this.props.activityClicked}))),s.a.createElement(ga.a,{className:"my-2 w-100"}),s.a.createElement(C.a,{span:"24",className:"px-3 pt-2"},s.a.createElement(Ba.a,null,a.map((function(a){return s.a.createElement(Ba.a.Item,null,s.a.createElement("span",{className:"note-user"},ea()(a.created_on).format("DD MMM \u2022 hh:mm \u2022")," ",a.name),s.a.createElement("br",null),Qe()(e.mapAuditLog(a)))})))))))))}}]),a}(n.Component),Ka=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(d.a)(this,Object(p.a)(a).call(this))).state={myclass:"",assigneEmp:[]},e.divclicked=e.divclicked.bind(Object(_.a)(e)),e}return Object(h.a)(a,e),Object(u.a)(a,[{key:"divclicked",value:function(){""===this.state.myclass?this.setState({myclass:"rgt-panel"}):this.setState({myclass:""})}},{key:"componentDidMount",value:function(){this.getAssigne(this.props.hotline_id)}},{key:"getAssigne",value:function(e){var a=this,t={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.get(R+"getHotlineAssignee/"+e,t).then((function(e){console.log("res",e),a.setState({assigneEmp:e.data})}))}},{key:"render",value:function(){var e=this.state.assigneEmp;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"rgt-panel",className:this.props.class},s.a.createElement("p",null,s.a.createElement(O.a,null,s.a.createElement(C.a,{span:24},s.a.createElement(O.a,{className:"filter-wrapper align-items-center justify-content-between px-3 pt-3"},s.a.createElement(C.a,{span:"12"},s.a.createElement("h6",null,"Assigned To")),s.a.createElement(ae.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0 align-items-center d-flex"},s.a.createElement("span",{className:"icon icon-close small",onClick:this.props.assigneClicked}))),s.a.createElement(ga.a,{className:"my-2 w-100"}),s.a.createElement(C.a,{span:"24",className:"px-3 pt-2 assignees d-flex flex-column flex-gap"},e.map((function(e){return s.a.createElement(Aa.a,null,e["Assigned User_name"])}))))))))}}]),a}(n.Component),Za=b.a.TextArea,Xa=[{id:1,name:"New"},{id:2,name:"Open"},{id:3,name:"Closed"}],Qa=[{id:1,name:"Low"},{id:2,name:"Medium"},{id:3,name:"High"}],$a=function(e){var a=e.conversation,t=e.urgencyLevel,r=e.status,l=e.onChangeUrgencyLevel,c=e.onChangeStatus,o=Object(n.useState)([]),i=Object(Ye.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(""),p=Object(Ye.a)(d,2),h=p[0],E=p[1],g=Object(n.useState)({divClicked:!1,myClass:""}),y=Object(Ye.a)(g,2),v=y[0],b=y[1],N=Object(n.useState)({activityDivClicked:!1,myClass:""}),w=Object(Ye.a)(N,2),S=w[0],I=w[1],j=Object(n.useState)({assigneDivClicked:!1,myClass:""}),k=Object(Ye.a)(j,2),_=k[0],x=k[1];Object(n.useEffect)((function(){A()}),[a.conversation_id]);var A=function(){var e=ne(),t=JSON.parse(f("user")),n={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},s={conversation_id:a.conversation_id,user_id:t.user_details.org_user_id};F.a.post(R+"hotlineConvoMessages/",s,n).then((function(e){u(e.data)}))},P=function(e){""!=S.myClass&&I({myClass:"",activityDivClicked:!1}),""!=_.myClass&&x({myClass:"",assigneDivClicked:!1}),""===v.myClass?b({myClass:"rgt-panel",divClicked:!0}):b({myClass:"",divClicked:!1}),document.getElementById("NoteId").classList.add("selected"),document.getElementById("activityId").classList.remove("selected")},T=function(e){console.log("e",e),""!=v.myClass&&b({myClass:"",divClicked:!1}),""!=_.myClass&&x({myClass:"",assigneDivClicked:!1}),""===S.myClass?I({myClass:"rgt-panel",activityDivClicked:!0}):I({myClass:"",activityDivClicked:!1})},L=function(e){console.log("e",e),""!=v.myClass&&b({myClass:"",divClicked:!1}),""!=S.myClass&&I({myClass:"",activityDivClicked:!1}),""===_.myClass?x({myClass:"rgt-panel",assigneDivClicked:!0}):x({myClass:"",assigneDivClicked:!1})};return s.a.createElement(C.a,{span:18,className:"chat-section"},s.a.createElement(C.a,{span:24,className:"h-100"},s.a.createElement(O.a,{className:"top-filter-pan p-4 d-flex align-items-center"},s.a.createElement(C.a,{span:12},s.a.createElement("div",{className:""},s.a.createElement("h6",null,a.responder_conversation_name),s.a.createElement("div",{className:"ant-typography-sm"},a.hotline.name," | ",a.conversation_id))),s.a.createElement(C.a,{span:12},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",{className:"selection-panel pr-3"},s.a.createElement("label",null,"Urgency level"),s.a.createElement(X.a,{bordered:!1,value:t,onChange:function(e){return l(e,a.conversation_id)}},Qa.map((function(e){return s.a.createElement(Option,{value:e.id},e.name)})))),s.a.createElement("div",{className:"selection-panel pr-3"},s.a.createElement("label",null,"Status"),s.a.createElement(X.a,{bordered:!1,value:r,onChange:function(e){return c(e,a.conversation_id)}},Xa.map((function(e){return s.a.createElement(Option,{value:e.id},e.name)})))),s.a.createElement("div",{className:"icon-row d-flex align-items-center"},s.a.createElement(C.a,{span:8},s.a.createElement("span",{id:"NoteId",className:"icon icon-create",onClick:function(e){return P()}})),s.a.createElement(C.a,{span:8},s.a.createElement("span",{id:"activityId",className:"icon icon-activity",onClick:function(e){return T(e)}})),s.a.createElement(C.a,{span:8},s.a.createElement("span",{className:"icon icon-assign",onClick:function(e){return L(e)}})))))),s.a.createElement(O.a,{className:"row-hgt"},s.a.createElement("div",{className:v.divClicked||S.activityDivClicked||_.assigneDivClicked?"w-75":"w-100"},s.a.createElement(C.a,{span:24,className:"msg-history p-4"},m.map((function(e){return s.a.createElement("div",{className:e.is_responder_message?"outgoing-msg mb-4":"incoming-msg mb-4"},s.a.createElement("div",{className:e.is_responder_message?"sent-msg":"received-msg"},s.a.createElement("p",null,e.message),s.a.createElement("span",{className:"time-date"}," ",ea()(e.created_on).isSame(ea()(),"day")?ea()(e.created_on).format("hh:mm A"):ea()(e.created_on).format("hh:mm A | MMM DD"),e.is_responder_message&&" | ".concat(e.user.first_name," ").concat(e.user.last_name))))}))),s.a.createElement(C.a,{span:24,className:v.divClicked||S.activityDivClicked||_.assigneDivClicked?"send-msg w-75":"send-msg w-100"},s.a.createElement("div",{className:"type-msg"},s.a.createElement(Se.a,{className:"input-md w-100",name:"validate-other"},s.a.createElement(Za,{className:"input-control",placeholder:"Replying as Hotline representative",onChange:function(e){return function(e){E(e.target.value)}(e)},value:h})),s.a.createElement("span",{className:"ml-3 send",onClick:function(){return function(){var e=ne(),t=JSON.parse(f("user"));if(h){var n={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},s={user_id:t.user_details.org_user_id,hotline_id:a.hotline.hotline_id,conversation_id:a.conversation_id,message:h,created_by:t.user_details.org_user_id};F.a.post(R+"receiveHotlineMessage/",s,n).then((function(e){201===e.status&&(A(),E(""))}))}}()}},s.a.createElement("img",{src:Fa.a,alt:"send message"}))))),s.a.createElement("div",{className:"w-25 d-flex justify-content-end"},v.divClicked?s.a.createElement(Va,{class:v.myClass,conversation_id:a.conversation_id,divClicked:function(){return P()}}):null,S.activityDivClicked?s.a.createElement(Ja,{class:S.myClass,conversation_id:a.conversation_id,activityClicked:function(){return T()}}):null,_.assigneDivClicked?s.a.createElement(Ka,{class:_.myClass,hotline_id:a.hotline.hotline_id,assigneClicked:function(){return L()}}):null))))},et=t(297),at=xa.a.Paragraph,tt=b.a.Search,nt=N.a.Content,st=function(){var e=Object(n.useState)([]),a=Object(Ye.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)([]),c=Object(Ye.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)([]),u=Object(Ye.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)([]),E=Object(Ye.a)(h,2),g=E[0],y=E[1],v=Object(n.useState)(""),b=Object(Ye.a)(v,2),w=b[0],S=b[1],I=Object(n.useState)(""),j=Object(Ye.a)(I,2),k=j[0],_=j[1],x=Object(n.useState)(""),A=Object(Ye.a)(x,2),P=A[0],T=A[1],L=Object(n.useState)(""),D=Object(Ye.a)(L,2),U=D[0],M=D[1],H=Se.a.useForm(),z=Object(Ye.a)(H,1)[0];Object(n.useEffect)((function(){Y()}),[]);var G=function(e,a){!function(e){var a=new Set,t=new Set,n=new Set;e.forEach((function(e){t.add(e.hotline.name),a.add(e.urgency_level.urgency_level),n.add(e.status.status)}));var s=Array.from(a),l=Array.from(t),c=Array.from(n);r(s),i(c),p(l)}(e);y(e),"reset"===a&&z.setFieldsValue({search:""})};function V(){G(urgency,"apply")}var Y=function(){var e=ne(),a=JSON.parse(f("user")),t={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};a&&F.a.get(R+"hotlineResponderConversation/?user_id="+a.user_details.org_user_id,t).then((function(e){y(e.data)}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"inner-header"},s.a.createElement(B,{amWEBUser:!0})),s.a.createElement(O.a,{className:"content-center pt-0"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,s.a.createElement(La,{amWEBUser:!0}),s.a.createElement(nt,{className:""},s.a.createElement(O.a,{className:"py-3"},s.a.createElement("h1",{className:"mb-0"},"Hotline Messages")),s.a.createElement("div",{className:"mid-content p-0"},s.a.createElement(O.a,null,s.a.createElement(C.a,{span:6,className:"message-section py-4"},s.a.createElement(C.a,{span:24,className:" d-flex justify-content-between px-3"},s.a.createElement("h6",null,"Messages"),s.a.createElement(Ua,{searchString:U,loadFilteredConversations:G})),s.a.createElement(C.a,{span:24,className:"mt-4 px-3 d-block"},t.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Aa.a,{onChange:V,className:"mb-2"},"Urgency : ",s.a.createElement("span",null,e)))})),console.log("....",o),o.map((function(e){s.a.createElement(s.a.Fragment,null,s.a.createElement(Aa.a,{className:"mb-2"},"Hotline :"," ",s.a.createElement("span",null,e," ")))})),d.map((function(e){s.a.createElement(s.a.Fragment,null,s.a.createElement(Aa.a,{className:"mb-2"},"Status :"," ",s.a.createElement("span",null,e," ")))}))),s.a.createElement(C.a,{span:24,className:"search-box mt-3 px-3"},s.a.createElement(Se.a,{form:z},s.a.createElement(Se.a.Item,{name:"search",id:"search"},s.a.createElement(tt,{name:"search",id:"search",placeholder:"Search",onSearch:function(e){var a=ne(),t=JSON.parse(f("user")),n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};F.a.get(R+"hotlineResponderConversation/?user_id="+t.user_details.org_user_id+"&search="+e,n).then((function(a){y(a.data),M(e)}))}})))),s.a.createElement(et.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:450,thumbMinSize:30,universal:!0},s.a.createElement(C.a,{span:24,className:"mt-4 inbox-messages"},g.length>0?g.map((function(e){return s.a.createElement("div",{className:"msg-wrapper",onClick:function(){return function(e){S(e),_(e.urgency_level.urgency_level_id),T(e.status.status_id)}(e)}},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement(at,{ellipsis:!0,className:"w-75 pr-2 mb-1"},e.responder_conversation_name),s.a.createElement("span",{className:"small"}," ",ea()(e.created_on).isSame(ea()(),"day")?ea()(e.created_on).format("hh:mm"):ea()(e.created_on).format("MM/DD"))),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement(at,{ellipsis:!0,className:"font-weight-normal mb-1 sm"},e.hotline.name," | ",e.conversation_id),s.a.createElement("span",{className:"small"}," ",s.a.createElement(Pa.a,{count:e.unread_count}))))})):s.a.createElement("div",{className:"msg-wrapper"},"No messages found")))),w&&s.a.createElement($a,{conversation:w,urgencyLevel:k,status:P,onChangeUrgencyLevel:function(e,a){var t={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},n={conversation_id:a,updated_by:JSON.parse(f("user")).user_details.org_user_id,urgency_level_id:e};F.a.put(R+"hotlineConvoMessagesUrgencyLevel/ ",n,t).then((function(a){200===a.status&&(Y(),_(e))}))},onChangeStatus:function(e,a){var t={headers:{Authorization:ne(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},n={conversation_id:a,updated_by:JSON.parse(f("user")).user_details.org_user_id,status_id:e};F.a.put(R+"hotlineConvoMessagesStatus/",n,t).then((function(a){200===a.status&&(Y(),T(e))}))}}))))))))},rt=N.a.Content,lt=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=f("userType");return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:"inner-header"},"AM WEB"===e?s.a.createElement(B,{amWEBUser:!0}):"AM CC"===e?s.a.createElement(B,{amCCUser:!0}):"Org Control Center"===e?s.a.createElement(B,{amORGUser:!0}):null),s.a.createElement(O.a,{className:"content-center"},s.a.createElement(N.a,null,s.a.createElement(N.a,null,"AM WEB"===e?s.a.createElement(La,null):"Org CC"===e?s.a.createElement(J,null):"AM CC"===e?s.a.createElement(Z,null):null,s.a.createElement(rt,{className:""},s.a.createElement(O.a,{className:"py-3",style:{justifyContent:"center"}},s.a.createElement("h1",{className:"mb-0"},"You don't have access rights! Please contact your administrator.")))))))}}]),a}(s.a.Component);var ct=function(e){var a=f("user"),t=JSON.parse(f("user")),n=!1,r=!1,l=!1;a||(n=!0,r=!0,l=!0),a&&t&&"null"!=t.user_data&&(n=t.user_data.is_amcc_user,r=t.user_data.is_org_cc_user,l=t.user_data.is_am_web_user);var c=window.location.pathname;return s.a.createElement(o.a,null,s.a.createElement(i.d,null,s.a.createElement(i.b,{path:"/amcc",component:Pe}),s.a.createElement(i.b,{path:"/orgcc",component:Me}),s.a.createElement(i.b,{path:"/amweb",component:ze}),!l||"/hotlinemessages"!==c&&"/amweb"!==c?!n||"/organization"!==c&&"/amcc"!==c?!r||"/hotline"!==c&&"/employee"!==c&&"/assignhotline"!==c&&"/hotlinedirectory"!==c&&"/orgcc"!==c?a&&s.a.createElement(i.b,{component:lt}):s.a.createElement(i.d,null,s.a.createElement(v,{exact:!0,path:"/hotline",amorg:!0,component:Ea}),s.a.createElement(v,{exact:!0,path:"/employee",amorg:!0,component:Ce}),s.a.createElement(v,{exact:!0,path:"/assignhotline",amorg:!0,component:ra}),s.a.createElement(v,{exact:!0,path:"/hotlinedirectory",amorg:!0,component:_a})):s.a.createElement(s.a.Fragment,null," ",s.a.createElement(v,{exact:!0,path:"/organization",amcc:!0,component:ue})," "):s.a.createElement(s.a.Fragment,null," ",s.a.createElement(v,{exact:!0,path:"/hotlinemessages",amweb:!0,component:st}))))},ot=t(89),it=t(298),mt=t(299),ut=JSON.parse(f("user")),dt=ut?{isLoggedIn:!0,user:ut}:{isLoggedIn:!1,user:null},pt={},ht={manageOrgData:[]},Et={manageEmpData:[]},gt={hotlinesdata:[],assignhotlinedata:[]},ft={assignhotlinedata:[]},yt=Object(ot.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"LOGIN_SUCCESS":return Object(Be.a)({},e,{isLoggedIn:!0,user:n.user});case"LOGIN_FAIL":case"LOGOUT":return Object(Be.a)({},e,{isLoggedIn:!1,user:null});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_MESSAGE":return{message:n};case"CLEAR_MESSAGE":return{message:""};default:return e}},manageOrg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"MANAGEORG_SUCCESS":return Object(Be.a)({},e,{manageOrgData:n.manageOrgData});case"MANAGEORG_FAIL":return Object(Be.a)({},e,{manageOrgData:[]});default:return e}},manageEmp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"MANAGEEMP_SUCCESS":return Object(Be.a)({},e,{manageEmpData:n.manageEmpData});case"MANAGEEMP_FAIL":return Object(Be.a)({},e,{manageEmpData:[]});default:return e}},hotlinedata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"HOTLINE_SUCCESS":return Object(Be.a)({},e,{hotlinesdata:n.hotlinesdata});case"HOTLINE_FAIL":return Object(Be.a)({},e,{hotlinesdata:[]});case"HOTLINE_SUCCESS":return Object(Be.a)({},e,{assignhotlinedata:n.assignhotlinedata});case"HOTLINE_FAIL":return Object(Be.a)({},e,{assignhotlinedata:[]});default:return e}},assignedHotline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"HOTLINE_SUCCESS":return Object(Be.a)({},e,{assignhotlinedata:n.assignhotlinedata});case"HOTLINE_FAIL":return Object(Be.a)({},e,{assignhotlinedata:[]});default:return e}}}),vt=[mt.a],bt=Object(ot.createStore)(yt,Object(it.composeWithDevTools)(ot.applyMiddleware.apply(void 0,vt))),Nt=t(300);var Ot=function(){return s.a.createElement(c.a,{store:bt},s.a.createElement(Nt.a,{element:document,onIdle:function(e){f("user")&&("Org Control Center"===f("userType")?window.location.href="/orgcc":"AM WEB"===f("userType")?window.location.href="/amweb":"AM CC"===f("userType")&&(window.location.href="/amcc"),z.logout())},debounce:250,timeout:3e5}),s.a.createElement("div",{className:"App"},s.a.createElement("div",null,s.a.createElement("div",{className:"content"},s.a.createElement(ct,null)))))};l.a.render(s.a.createElement(Ot,null),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.dbd63fce.chunk.js.map