(this["webpackJsonplogin-app-reactjs"]=this["webpackJsonplogin-app-reactjs"]||[]).push([[0],{149:function(e,a,t){e.exports=t.p+"static/media/dots-icon.aa302437.svg"},151:function(e,a,t){e.exports=t.p+"static/media/amcc-vector.042c9163.svg"},152:function(e,a,t){e.exports=t.p+"static/media/create-hotline.7fcce0f6.svg"},167:function(e,a,t){},168:function(e,a,t){},251:function(e,a,t){},334:function(e,a,t){},362:function(e,a,t){},363:function(e,a,t){},364:function(e,a,t){},368:function(e,a,t){e.exports=t.p+"static/media/anonymoose-logo.c7b270ba.svg"},369:function(e,a,t){e.exports=t.p+"static/media/logo.c7b270ba.svg"},370:function(e,a,t){e.exports=t.p+"static/media/expand-more.2d8e2c25.svg"},387:function(e,a,t){e.exports=t.p+"static/media/pencil.5fa26e5e.svg"},388:function(e,a,t){e.exports=t.p+"static/media/work-chart.d8145f68.svg"},392:function(e,a,t){e.exports=t.p+"static/media/send.5a28702a.svg"},397:function(e,a,t){e.exports=t.p+"static/media/no-hotlines.50051d5a.svg"},419:function(e,a,t){e.exports=t(819)},424:function(e,a,t){},426:function(e,a,t){},427:function(e,a,t){},454:function(e,a){},456:function(e,a){},489:function(e,a){},490:function(e,a){},555:function(e,a,t){},598:function(e,a,t){e.exports=t.p+"static/media/HotLine.8e399cf3.svg"},599:function(e,a,t){e.exports=t.p+"static/media/OpenLine.19ed48f2.svg"},600:function(e,a,t){e.exports=t.p+"static/media/Polls.797dc4b6.svg"},601:function(e,a,t){e.exports=t.p+"static/media/ManageEmp.b979556a.svg"},602:function(e,a,t){e.exports=t.p+"static/media/BroadcastMsg.b628c864.svg"},603:function(e,a,t){e.exports=t.p+"static/media/Help.1b17639f.svg"},604:function(e,a,t){e.exports=t.p+"static/media/Info.a71a0872.svg"},729:function(e,a){},76:function(e,a,t){e.exports={no_sidebar:"manageEmp_no_sidebar__2IV_7",box_bordered:"manageEmp_box_bordered__1L9Kq",icon:"manageEmp_icon__2NaGI",box_bordered_active:"manageEmp_box_bordered_active__1hEvf"}},785:function(e,a,t){},81:function(e,a,t){},818:function(e,a,t){},819:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(36),s=t.n(l),c=(t(424),t(425),t(426),t(427),t(43)),i=t(26),o=t(53),m=t(10),d=t(11),u=t(14),p=t(13),h=t(15),g=function(e){return"".concat("AnonyMoose",".").concat(e)},E=function(e,a){return localStorage.setItem(g(e),a)},f=function(e){return localStorage.getItem(g(e))},v=function(e){return localStorage.removeItem(g(e))},b=function(e){function a(){return Object(m.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props.component;return f("user")?r.a.createElement(e,this.props):r.a.createElement(o.a,{to:{pathname:"/login"}})}}]),a}(r.a.Component),y=t(4),N=t(834),O=t(822),w=t(414),_=t(823),j=t(821),S=t(368),C=t.n(S),k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:C.a,alt:"AnonyMoose",className:"pr-4 pt-2 pt-lg-0 logo"}))},I=t(369),x=t.n(I),D=t(86),A=t.n(D),U=t(9),P=t.n(U),T="http://10.0.6.10:8000/api/V1/",F=t(274),M={headers:{Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},L=new(function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"login",value:function(e,a,t){var n;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.a.awrap(P.a.post(T+"authenticate/",{email:e,password:a,page:t},M));case 2:return(n=r.sent).data&&(E("user",JSON.stringify(n.data)),E("pwd",F.AES.encrypt(JSON.stringify(a),"anonymoose").toString())),r.abrupt("return",n.data);case 5:case"end":return r.stop()}}))}},{key:"logout",value:function(){localStorage.clear(),window.location.reload()}}]),e}()),Y=function(e,a,t){return function(n){return t="admin@anonymoose.co"===e?"is_amcc_user":t,L.login(e,a,t).then((function(e){return n({type:"LOGIN_SUCCESS",payload:{user:e,pwd:a}}),Promise.resolve()}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return n({type:"LOGIN_FAIL"}),Promise.reject()}))}},R=t(49),z=t(833),H=(t(555),t(413)),q=t(839),B=t(370),V=t.n(B),G=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).handleLogoutClick=t.handleLogoutClick.bind(Object(R.a)(t)),t.handleChangeUserRole=t.handleChangeUserRole.bind(Object(R.a)(t)),t.state={isLoggedIn:!1},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"handleLogoutClick",value:function(){L.logout()}},{key:"handleChangeUserRole",value:function(e){"amweb"===e?window.location.href="/amweb/hotlinemessages":"amcc"===e?window.location.href="/amcc/manageorganizations":"amorgcc"===e&&(window.location.href="/orgcc/manageemployees")}},{key:"render",value:function(){var e=this,a=this.props.userRole,t=a.amWEBUser,n=a.amCCUser,l=a.amORGUser,s=this.props.user.user_data,c=s.email,o=s.is_am_web_user,m=s.is_amcc_user,d=s.is_org_cc_user,u=(s.is_app_user,s.is_idb_user,s.is_seeded_user,this.props.user.user_details),p=u.first_name+" "+u.last_name,h=p.charAt(0).toUpperCase()+p.slice(1),g=h.split(" "),v=g.shift().charAt(0)+g.pop().charAt(0);return n?E("userType","AM CC"):l?E("userType","Org CC"):t&&E("userType","AM WEB"),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{"data-test":"userInfo",className:"test",placement:"bottom",content:r.a.createElement(q.b,{className:"u-info",size:"large",bordered:!0},r.a.createElement(q.b.Item,{className:" d-flex d-lg-none"},r.a.createElement("div",{className:"d-flex flex-column "},r.a.createElement("span",{className:"uname-top"},h),r.a.createElement("span",{className:"u-type"},f("userType")))),r.a.createElement(q.b.Item,null,r.a.createElement("div",{className:"email"},c,r.a.createElement("br",null),r.a.createElement("a",{href:"#"},"Edit Profile"))),l&&o?r.a.createElement(q.b.Item,{onClick:function(){return e.handleChangeUserRole("amweb")}},"AM WEB"):null,l&&m?r.a.createElement(q.b.Item,{onClick:function(){return e.handleChangeUserRole("amcc")}},"AM CC"):null,t&&d?r.a.createElement(q.b.Item,{onClick:function(){return e.handleChangeUserRole("amorgcc")}},"Org CC"):null,t&&m?r.a.createElement(q.b.Item,{onClick:function(){return e.handleChangeUserRole("amcc")}},"AM CC"):null,n&&o?r.a.createElement(q.b.Item,{onClick:function(){return e.handleChangeUserRole("amweb")}},"AM WEB"):null,n&&d?r.a.createElement(q.b.Item,{onClick:function(){return e.handleChangeUserRole("amorgcc")}},"Org CC"):null,r.a.createElement(i.b,{to:"/changepassword"},r.a.createElement(q.b.Item,null,"Change Password")),r.a.createElement(q.b.Item,{onClick:this.handleLogoutClick},"Sign Out")),trigger:"click"},r.a.createElement(z.a,{className:"mr-2"},v),r.a.createElement("span",{className:"d-none d-lg-flex flex-column"},r.a.createElement("span",{className:"uname-top"},h),r.a.createElement("span",{className:"u-type"},f("userType"))),r.a.createElement("span",{className:"expand-arrow"},r.a.createElement("img",{src:V.a,alt:"Expand Arrow",className:"pr-0 pr-md-4"}))))}}]),a}(r.a.Component);var W=Object(o.i)(Object(c.b)((function(e){var a=e.auth;return{isLoggedIn:a.isLoggedIn,user:a.user}}))(G));var J=Object(c.b)((function(e){var a=e.auth;return{isLoggedIn:a.isLoggedIn,user:a.user,pwd:a.pwd,message:e.message.message}}))((function(e){return Object(n.useEffect)((function(){var a=e.dispatch,t=f("userType"),n="";"AM CC"===t?n="is_amcc_user":"AM WEB"===t?n="is_am_web_user":"Org CC"===t&&(n="is_org_cc_user");var r=e.pwd.includes('"')?e.pwd.slice(1,-1):e.pwd;setInterval((function(){console.log("INTERVAL"),a(Y(e.user.user_data.email,r,n))}),6e5)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{span:18,md:18,lg:12},r.a.createElement("img",{src:x.a,alt:"Annonymoose Logo",className:"pl-md-0 pr-0 pr-md-4 pt-0 pt-md-0 pt-lg-0 logo"})),r.a.createElement(j.a,{span:6,md:6,lg:12,className:"d-flex justify-content-end av-wrapper"},r.a.createElement(W,{userRole:e})))})),K=t(98),Z=t(840),$=t(841),Q=O.a.Sider,X=(O.a.Header,O.a.Content,function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={collapsed:!1},t.toggle=function(){console.log("this.state.collapsed",t.state.collapsed),t.setState({collapsed:!t.state.collapsed})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(this.state.collapsed?Z.a:$.a,{className:"trigger d-lg-none d-block",onClick:this.toggle}),r.a.createElement(Q,{className:this.state.collapsed?"d-none d-lg-block w-md-100 sider-width":" d-lg-block w-md-100 sider-width",trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement(K.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["3"]},r.a.createElement(K.a.Item,{key:"1",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-hotlines"}))}," ",r.a.createElement(i.b,{to:"/orgcc/hotlinedirectory"},"Hotlines")),r.a.createElement(K.a.Item,{key:"2",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-openlines"}))}," ",r.a.createElement(i.b,{to:"/orgcc/openlinedirectory"}),"Openlines"),r.a.createElement(K.a.Item,{key:"3",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-manage-emp"}))}," ",r.a.createElement(i.b,{to:"/orgcc/manageemployees"},"Manage Employees")),r.a.createElement(K.a.Item,{key:"4",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-broadcast"}))}," ","Broadcast Messages"),r.a.createElement(K.a.Item,{key:"5",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-help"}))}," ","Help"),r.a.createElement(K.a.Item,{key:"6",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-info"}))}," ","Info")),r.a.createElement("div",{className:"btm-div"},r.a.createElement("a",{href:"#",className:"px-2"},"Info"),r.a.createElement("a",{href:"#",className:"px-2"},"Help"))))}}]),a}(r.a.Component)),ee=(t(167),t(598),t(599),t(600),t(601)),ae=(t(602),t(603),t(604),O.a.Sider),te=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={collapsed:!1},t.toggle=function(){t.setState({collapsed:!t.state.collapsed})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(this.state.collapsed?Z.a:$.a,{className:"trigger d-lg-none d-block",onClick:this.toggle}),r.a.createElement(ae,{className:this.state.collapsed?"d-none d-lg-block w-md-100 sider-width":" d-lg-block w-md-100 sider-width",trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement(K.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(K.a.Item,{key:"1",icon:r.a.createElement("img",{src:ee})},r.a.createElement(i.b,{to:"/amcc/manageorganizations"},"Manage Organizations")))))}}]),a}(r.a.Component),ne=function(e){var a=Object(o.g)(),t="/amcc/orgdetails/".concat(e.record.organization_id),n=function(){a.push(t)};return r.a.createElement(r.a.Fragment,null,e.orgName?r.a.createElement("a",{onClick:n},e.record.name):e.orgId?r.a.createElement("a",{onClick:n},e.record.identifier):r.a.createElement(r.a.Fragment,null," "))},re=t(827),le=t(842),se=(t(168),N.a.Search,r.a.createElement(le.a,{style:{fontSize:16,color:"#1890ff"}}),function(e){var a=e.columns,t=e.data,n=e.rowKey;return r.a.createElement("div",{id:"no-more-tables"},r.a.createElement(re.a,{pagination:{pageSize:10},rowKey:n,columns:a,dataSource:t,className:"cf"}))}),ce=t(56),ie=function(e){var a=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{type:"primary"}," ",a))},oe=t(387),me=t.n(oe);function de(){var e=JSON.parse(f("user"));return e&&e.user_data.tokens.access?"Bearer "+e.user_data.tokens.access:{}}var ue=t(8),pe=t.n(ue),he=N.a.Search,ge=(r.a.createElement(le.a,{style:{fontSize:16,color:"#1890ff"}}),O.a.Content),Ee=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).statusClicked=function(e,a){var n={name:e.name,identifier:e.identifier,organization_id:e.organization_id,start_date:e.start_date.replaceAll(" / ","-"),end_date:e.end_date.replaceAll(" / ","-"),status_id:"Active"===a?2:1},r={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.put(T+"saveOrganization/",n,r).then((function(){w.a.config({placement:"bottomLeft"}),w.a.open({description:"Status of ".concat(e.name," has been changed successfully.")}),t.props.statusOnClicked()}))},t.onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})},t.state={data:[]},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.organizations;a.forEach((function(e){e.start_date=e.start_date.replaceAll("-"," / "),e.end_date=e.end_date.replaceAll("-"," / ")})),this.setState({data:a},(function(){e.onSearch("")}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.organizations!==e.organizations&&this.setState({data:e.organizations})}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].toUpperCase().includes(a.toUpperCase())}))})):e}},{key:"render",value:function(){var e=this,a=[{title:"Organization Name ",dataIndex:"",key:"name",width:"22%",render:function(e){return{children:r.a.createElement(ne,{record:e,orgName:!0}),props:{"data-title":"Organization Name"}}}},{title:"Organization Id",dataIndex:"",key:"identifier",width:"20%",render:function(e){return{children:r.a.createElement(ne,{record:e,orgId:!0}),props:{"data-title":"Organization Id"}}}},{title:"Start Date ",dataIndex:"start_date",key:"start_date",width:"20%",render:function(e){return{children:e,props:{"data-title":"Start date"}}}},{title:"End Date",dataIndex:"end_date",key:"end_date",width:"20%",render:function(e){return{children:e,props:{"data-title":"End date"}}}},{title:"Status",dataIndex:"",key:"status_id",width:"10%",render:function(a){return{children:1===a.status_id?r.a.createElement("div",{className:"primary-tag-rounded tag",onClick:function(){return e.statusClicked(a,"Active")}},r.a.createElement("span",{className:"circle mr-1"}),"Active"):r.a.createElement("div",{className:"secondary-tag-rounded tag",onClick:function(){return e.statusClicked(a,"InActive")}},"Inactive"),props:{"data-title":"Status"}}}},{title:"Actions",dataIndex:"",key:"",width:"10%",render:function(e){var a="/amcc/editorg/".concat(e.organization_id);return{children:r.a.createElement(i.b,{to:a},r.a.createElement("img",{src:me.a,alt:"Actions"})),props:{"data-title":"Actions"}}}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amCCUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(te,null),r.a.createElement(ge,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",null,"Organizations ")),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"pt-1 pb-3 px-3 px-lg-0 sm-direction-reverse"},r.a.createElement(j.a,{span:24,lg:18,className:"search-row mt-2 mt-lg-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:9,className:"search-box"},r.a.createElement(he,{placeholder:"Search",onSearch:this.onSearch})))),r.a.createElement(j.a,{span:24,lg:6,className:"d-flex align-items-center justify-content-end"},r.a.createElement(i.b,{to:"/amcc/createorg"},r.a.createElement(ie,{value:"Create Organization"}))))),r.a.createElement(se,{key:"manageOrg",rowKey:"identifier",columns:a,data:this.state.data}))))))}}]),a}(r.a.Component),fe=t(824),ve=t(388),be=t.n(ve),ye=t(5),Ne=t(44),Oe=t(7),we=t(829),_e=t(835),je=(t(81),t(830)),Se=t(826),Ce=t(837),ke=t(105),Ie=function(e){var a=Object(n.useState)(!1),t=Object(y.a)(a,2),l=t[0],s=t[1],c=e.children,i=e.label,o=e.value,m=l||o&&0!==o.length?"label label-float":"label";return r.a.createElement("div",{className:"float-label",onBlur:function(){return s(!1)},onFocus:function(){return s(!0)}},c,r.a.createElement("label",{className:m},i))},xe=function(e){var a=e.next,t=e.stepOneOrganizationInfo,l=e.handleStepOneOnChange,s=e.handleStepOneOnSelect,c=e.handleStepOneDatePickerChange,i=je.a.useForm(),o=Object(y.a)(i,1)[0],m=Object(n.useState)(!1),d=Object(y.a)(m,2),u=d[0],p=d[1],h=Se.a.RangePicker;return r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"validate_other",form:o},u&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Name",value:t.organizationName},r.a.createElement(je.a.Item,{className:"required",name:"organizationName"},r.a.createElement(N.a,{className:"input-control",id:"organizationName",htmlFor:"organizationName",defaultValue:t.organizationName,value:t.organizationName,onChange:function(e){return l(e)},autoComplete:"off",maxLength:80})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Id",value:t.organizationId},r.a.createElement(je.a.Item,{className:"required",name:"organizationId",validateStatus:"success"},r.a.createElement(N.a,{className:"input-control",id:"organizationId",htmlFor:"organizationId",defaultValue:t.organizationId,value:t.organizationId,onChange:function(e){return l(e)},autoComplete:"off",maxLength:20})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:t.status1},r.a.createElement(je.a.Item,{className:"required",name:"status1"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control w-100 w-lg-100",value:t.status1,htmlFor:"status1",onSelect:function(e){return s(e,"status1")}},r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive")))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Date",value:"date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(h,{className:"w-100 ",name:"s1Date",value:t.s1Date,onChange:function(e){return c(e,"s1Date")},disabledDate:function(e){return e&&e<pe()().startOf("day")}})))))),r.a.createElement(je.a.Item,null,r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault(),t.organizationName&&t.organizationId&&t.status1&&t.s1Date?(p(!1),a()):p(!0)}},"Next")))},De=t(832),Ae=(t(95),function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1,show:!1},t.showModal=function(){t.setState({visible:!0})},t.showBothModals=function(){t.setState({visible:!0,show:!0})},t.handleOnOk=function(){t.setState({show:!1})},t.handleOk=function(){t.setState({visible:!1}),t.props.seededUser?t.props.viaEdit?t.props.handleDelete(t.props.user.email):t.props.handleDelete(t.props.user.userId):t.props.deleteOrg&&t.props.handleDelete(t.props.org)},t.handleCancel=function(){t.setState({visible:!1}),t.props.deleteOrg&&t.props.handleCancel()},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.deleteOrg&&this.showModal()}},{key:"deleteHotline",value:function(){var e=this.props.history,a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.delete(T+"hotline/"+this.props.hotlineId,a).then((function(){e.push("/orgcc/hotlinedirectory")})).catch((function(e){}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.deleteOrg?r.a.createElement(r.a.Fragment,null):r.a.createElement(ce.a,{onClick:this.showBothModals},"Delete"),this.props.deleteOrg?r.a.createElement(De.a,{visible:this.state.visible,onOk:this.handleCancel,onCancel:this.handleOk,centered:!0,width:700,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Cancel",cancelText:"Delete"},r.a.createElement("p",null,"You are about to Delete the Organization"," ",r.a.createElement("strong",null,this.props.org),". Deleting Organization would Delete all records associated with it. Are you sure you want to Delete Organization ",r.a.createElement("strong",null,this.props.org),"?")):!this.props.deleteOrg&&this.props.viaEdit&&this.props.seededUsers.length>1?r.a.createElement(De.a,{visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Yes",cancelText:"No"},r.a.createElement("p",null,"Are you sure you want to delete ",this.props.user.firstName,"?")):!this.props.viaEdit&&this.props.seededUser?r.a.createElement(De.a,{visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Yes",cancelText:"No"},r.a.createElement("p",null,"Are you sure you want to delete ",this.props.user.firstName,"?")):!this.props.deleteOrg&&this.props.viaEdit&&1===this.props.seededUsers.length?r.a.createElement(De.a,{visible:this.state.show,onOk:this.handleOnOk,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{style:{display:"none"}},okText:"OK"},r.a.createElement("p",null,"There should be at least one seeded user.")):r.a.createElement(De.a,{visible:this.state.show,onOk:this.handleOnOk,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{style:{display:"none"}},okText:"OK"},r.a.createElement("p",null,"Are you sure you want to delete this?")))}}]),a}(n.Component)),Ue=t(149),Pe=t.n(Ue),Te=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.hide=function(){t.setState({visible:!1})},t.hide=function(){t.setState({visible:!1})},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props!==e&&this.state.visible&&this.hide()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{placement:"bottom",content:(e=this.props,r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null," ",e.seededUser?e.viaEdit?r.a.createElement(ce.a,{onClick:function(){return e.handleEditUser(e.user.email)}},"Edit"):r.a.createElement(ce.a,{onClick:function(){return e.handleEditUser(e.user.userId)}},"Edit"):r.a.createElement(ce.a,null,"Edit")),r.a.createElement("li",null,e.seededUser?r.a.createElement(Ae,{user:e.user,handleDelete:e.handleDelete,seededUsers:e.seededUsers,seededUser:!0,viaEdit:e.viaEdit}):r.a.createElement(Ae,null))))),trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},r.a.createElement("span",{className:"ico-grid-dots"},r.a.createElement("img",{src:Pe.a,alt:"DotIcon",className:"pr-4"}))));var e}}]),a}(r.a.Component),Fe=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).state={data:[]},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.seededUsers;this.setState({data:e})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.seededUsers!==e.seededUsers&&e.seededUsers.length>0&&this.setState({data:e.seededUsers})}},{key:"render",value:function(){var e=this,a=[{title:"First Name",dataIndex:"firstName",key:"firstName",width:"22%",render:function(e){return{children:e,props:{"data-title":"First Name"}}}},{title:"Last Name",dataIndex:"lastName",key:"lastName",width:"22%",render:function(e){return{children:e,props:{"data-title":"Last Name"}}}},{title:"Mobile",dataIndex:"mobile",key:"mobile",width:"22%",render:function(e){return{children:e.includes("+")?e:"+"+e,props:{"data-title":"Mobile"}}}},{title:"Email",dataIndex:"email",key:"email",width:"21%",render:function(e){return{children:e,props:{"data-title":"Email"}}}},{title:"Status",dataIndex:"status2",key:"status2",width:"10%",render:function(e){return{children:1===e||"1"===e?r.a.createElement("div",{className:"primary-tag-rounded tag"},r.a.createElement("span",{className:"circle mr-1"}),"Active"):r.a.createElement("div",{className:"secondary-tag-rounded tag"},"Inactive"),props:{"data-title":"Status"}}}},{title:"",dataIndex:"",key:"x",width:"5%",render:function(a){return r.a.createElement(Te,{handleEditUser:e.props.handleEditUser,handleDelete:e.props.handleDelete,user:a,seededUsers:e.props.seededUsers,seededUser:!0,viaEdit:e.props.viaEdit})}}];return r.a.createElement(_.a,{className:"content-center pt-0","data-test":"addSeededuser"},this.props.fromStepTwo?r.a.createElement(j.a,{className:"d-flex align-items-center justify-content-end"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(){return e.props.fromStepTwo?e.props.showAddSeededUserForm():e.props.addSeededUser()}},"Add Seeded User")):null,r.a.createElement(se,{rowKey:"unique_identifier",columns:a,data:this.state.data}))}}]),a}(r.a.Component),Me=(t(250),t(150)),Le=t.n(Me),Ye=function(e){var a,t,l,s,c,i=e.next,o=e.prev,m=e.stepTwoOrganizationInfo,d=e.handleStepTwoOnChange,u=e.handleStepTwoOnSelect,p=e.handleMobile,h=e.handleStepTwoDatePickerChange,g=e.addUser,E=e.seededUsers,f=e.showAddUserForm,v=e.showAddSeededUserForm,b=e.showEditUserForm,O=e.showEditSeededUserForm,w=e.cancelAddUser,S=e.cancelEditUser,C=e.editUser,k=e.deleteUser,I=Object(n.useState)(!1),x=Object(y.a)(I,2),D=x[0],A=x[1],U=Object(n.useState)(!1),P=Object(y.a)(U,2),T=P[0],F=P[1],M=Object(n.useState)(!1),L=Object(y.a)(M,2),Y=L[0],R=L[1],z=Object(n.useState)(!1),H=Object(y.a)(z,2),q=H[0],B=H[1];Object(n.useEffect)((function(){(f||f)&&(A(!1),F(!1),R(!1),B(!1))}),[f,b]);var V=function(e){e.preventDefault(),o()},G=function(e){m.firstName&&m.lastName&&m.status2&&m.mobile&&m.s2Date&&m.email&&m.password?(A(!1),T||Y||q||g(e)):A(!0)},W=Se.a.RangePicker;return 0===E.length||f||b?r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"validate_other"},D&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"First Name",value:m.firstName},r.a.createElement(je.a.Item,{name:"firstName",className:"required"},r.a.createElement(N.a,{id:"firstName",className:"input-control",defaultValue:m.firstName,htmlFor:"firstName",value:m.firstName,onChange:function(e){return d(e)},autoComplete:"off",maxLength:50})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Last Name",value:m.lastName},r.a.createElement(je.a.Item,{name:"lastName",className:"required"},r.a.createElement(N.a,(a={className:"input-control",id:"lastName",htmlFor:"lastName"},Object(ye.a)(a,"className","required"),Object(ye.a)(a,"defaultValue",m.lastName),Object(ye.a)(a,"value",m.lastName),Object(ye.a)(a,"onChange",(function(e){return d(e)})),Object(ye.a)(a,"autoComplete","off"),Object(ye.a)(a,"maxLength",50),a))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Temporary Password",value:m.password},r.a.createElement(je.a.Item,{name:"password",className:"pwd required"},r.a.createElement(N.a.Password,(t={className:"input-control",htmlFor:"password"},Object(ye.a)(t,"className","required"),Object(ye.a)(t,"id","password"),Object(ye.a)(t,"defaultValue",m.password),Object(ye.a)(t,"value",m.password),Object(ye.a)(t,"onChange",(function(e){return d(e)})),Object(ye.a)(t,"onBlur",(function(e){return function(e){/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/.test(e.target.value)?B(!1):B(!0)}(e)})),Object(ye.a)(t,"autoComplete","new-password"),t)),q&&r.a.createElement(Ce.a,{message:"Please enter a valid password.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Email Id",value:m.email},r.a.createElement(je.a.Item,{name:"email",className:"required"},r.a.createElement(N.a,(l={className:"input-control",id:"email",htmlFor:"email"},Object(ye.a)(l,"className","required"),Object(ye.a)(l,"defaultValue",m.email),Object(ye.a)(l,"value",m.email),Object(ye.a)(l,"onChange",(function(e){return d(e)})),Object(ye.a)(l,"onBlur",(function(e){return function(e){!/\S+@\S+\.\S+/.test(e.target.value)||e.target.value.length<6?F(!0):F(!1)}(e)})),Object(ye.a)(l,"autoComplete","off"),l)),T&&r.a.createElement(Ce.a,{message:"Please enter a valid email address.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Date",value:"date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(W,(s={className:"new w-100",name:"s2Date"},Object(ye.a)(s,"className","required"),Object(ye.a)(s,"value",m.s2Date),Object(ye.a)(s,"onChange",(function(e){return h(e,"s2Date")})),Object(ye.a)(s,"disabledDate",(function(e){return e&&e<pe()().startOf("day")})),s))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:m.status2},r.a.createElement(je.a.Item,{className:"required",name:"status2"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,(c={placeholder:"Status",className:"input-control w-100 w-lg-50",value:m.status2,htmlFor:"status2"},Object(ye.a)(c,"className","required"),Object(ye.a)(c,"onSelect",(function(e){return u(e,"status2")})),c),r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive")))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row phone-field"},r.a.createElement(Ie,{label:"Mobile",value:m.mobile},r.a.createElement(je.a.Item,{name:"mobile",className:"required"},r.a.createElement(Le.a,{country:"in",id:"mobile",htmlFor:"mobile",value:m.mobile,onChange:p,onBlur:function(){m.mobile.length>10?R(!1):R(!0)},autoComplete:"off"}),Y&&r.a.createElement(Ce.a,{message:"Please enter a valid mobile number.",type:"error",showIcon:!0})))))),r.a.createElement(je.a.Item,null,r.a.createElement("div",{className:"steps-action mt-5"},f?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(){return w()}},"Back"),r.a.createElement(ce.a,{type:"primary",onClick:function(){return G("viaAddUserButton")}},"Add User")):b?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(){return S()}},"Back"),r.a.createElement(ce.a,{type:"primary",onClick:function(){var e;m.firstName&&m.lastName&&m.status2&&m.mobile&&m.s2Date&&m.email&&m.password?(A(!1),T||Y||q||C(e)):A(!0)}},"Update")):null)),r.a.createElement(je.a.Item,null,f||b?null:r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:V},"Back"),f||b?null:r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(){return G("viaNext")}},"Next"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{seededUsers:E,showAddSeededUserForm:v,fromStepTwo:!0,handleEditUser:function(e){O(e,"viaStepTwo")},handleDelete:function(e){k(e,"viaStepTwo")}}),r.a.createElement(je.a,null,r.a.createElement(je.a.Item,null,r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:V},"Back"),r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault(),i()}},"Next")))))},Re=t(204),ze=function(e){var a,t=e.prev,l=e.loader,s=e.stepOneOrganizationInfo,c=e.handleStepOneOnChange,i=e.handleStepOneOnSelect,o=e.handleStepOneDatePickerChange,m=e.createNewOrganization,d=e.seededUsers,u=e.showEditSeededUserForm,p=e.deleteUser,h=e.addSeededUserFromThirdStep,g=je.a.useForm(),E=Object(y.a)(g,1)[0],f=Se.a.RangePicker,v=Object(n.useState)(!1),b=Object(y.a)(v,2),O=b[0],w=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"py-3 mb-0"},"Organization Details"),r.a.createElement("div",{className:"avatar-wrapper pt-2 pb-4"},r.a.createElement(z.a,null,null===(a=s.organizationName)||void 0===a?void 0:a.charAt(0)),r.a.createElement("span",{className:"md-name"},s.organizationName)),r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"validate_other",form:E},O&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Name",value:s.organizationName},r.a.createElement(je.a.Item,{className:"required",name:"organizationName"},r.a.createElement(N.a,{className:"input-control",htmlFor:"organizationName",id:"organizationName",defaultValue:s.organizationName,onChange:function(e){return c(e)},value:s.organizationName,autoComplete:"off",disabled:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Id",value:s.organizationId},r.a.createElement(je.a.Item,{className:"required",name:"organizationId",validateStatus:"success"},r.a.createElement(N.a,{className:"input-control",htmlFor:"organizationId",id:"organizationId",defaultValue:s.organizationId,onChange:function(e){return c(e)},value:s.organizationId,autoComplete:"off",disabled:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:s.status1},r.a.createElement(je.a.Item,{className:"required",name:"status1"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{placeholder:"Status",className:"input-control w-100 w-lg-100",value:s.status1,htmlFor:"status1",onSelect:function(e){return i(e,"status1")},disabled:!0},r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive")))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Select Date",value:"date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(f,{className:"w-100 ",name:"s1Date",defaultValue:s.s1Date,value:s.s1Date,onChange:function(e){return o(e,"s1Date")},disabledDate:function(e){return e&&e<pe()().startOf("day")},disabled:!0})))))),r.a.createElement(fe.a,{className:"w-100"}),r.a.createElement(Re.a,{spinning:l,size:"large"},r.a.createElement(j.a,{span:24,className:"d-flex justify-content-between align-items-center"},r.a.createElement("h6",{className:"py-3 mb-0"},"Seeded Users Details "),r.a.createElement("div",null," ",r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(){return h()}},"Add Seeded User"))),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(Fe,{seededUsers:d,handleEditUser:function(e){u(e,"viaStepThree")},handleDelete:function(e){p(e,"viaStepThree")},fromStepThree:!0}))),r.a.createElement(je.a.Item,null,r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(e){e.preventDefault(),t()}},"Back"),r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault(),d&&s.organizationName&&s.organizationId&&s.status1&&s.s1Date?(w(!1),m()):w(!0)}},"Create and Invite"))))))},He=O.a.Content,qe=we.a.Step,Be=[{title:"Organization Details",content:"First-content"},{title:"Seeded User Details",content:"Second-content"},{title:"Confirm Details",content:"Last-content"}],Ve=function(){var e=Object(n.useState)(0),a=Object(y.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)(!1),c=Object(y.a)(s,2),o=c[0],m=c[1],d=Object(n.useState)({organizationName:"",organizationId:"",status1:"",s1Date:""}),u=Object(y.a)(d,2),p=u[0],h=u[1],g=Object(n.useState)({firstName:"",lastName:"",userId:"",status2:"",email:"",password:"",s2Date:"",mobile:""}),E=Object(y.a)(g,2),f=E[0],v=E[1],b=Object(n.useState)([]),N=Object(y.a)(b,2),w=N[0],S=N[1],C=Object(n.useState)(!1),k=Object(y.a)(C,2),I=k[0],x=k[1],D=Object(n.useState)(!1),A=Object(y.a)(D,2),U=A[0],F=A[1],M=function(){x(!1),F(!1),l(t+1)},L=function(){x(!1),F(!1),l(t-1)},Y=function(e,a){var n=null===w||void 0===w?void 0:w.filter((function(a){return(null===a||void 0===a?void 0:a.userId)!==e}));S(n),0===n.length&&(v({firstName:"",lastName:"",userId:"",status2:"",email:"",password:"",s2Date:"",mobile:""}),"viaStepThree"===a&&l(t-1))},R=function(){x(!0),v({firstName:"",lastName:"",userId:"",status2:"",email:"",password:"",s2Date:"",mobile:""})},z=function(e,a){"viaStepThree"===a&&l(t-1),F(!0);var n={};w.forEach((function(a){a.userId===e&&(n=a)})),v(n)},H=function(e){h(Object(Oe.a)({},p,Object(ye.a)({},e.target.id,e.target.value)))},q=function(e,a){h(Object(Oe.a)({},p,Object(ye.a)({},a,e)))},B=function(e,a){h(Object(Oe.a)({},p,Object(ye.a)({},a,e)))},V=function(e){v(Object(Oe.a)({},f,Object(ye.a)({},e.target.id,e.target.value)))},G=function(e,a){v(Object(Oe.a)({},f,Object(ye.a)({},a,e)))},W=function(e,a){v(Object(Oe.a)({},f,Object(ye.a)({},a,e)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amCCUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(te,null),r.a.createElement(He,{className:""},r.a.createElement(_.a,{className:"pt-3"},r.a.createElement(_e.a,{separator:">"},r.a.createElement(i.c,{to:"/amcc/manageorganizations"},r.a.createElement(_e.a.Item,null,"Organizations")),r.a.createElement(_e.a.Item,null,"Create Organization"))),r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Create Organization")),r.a.createElement(we.a,{className:"mt-2",current:t},Be.map((function(e){return r.a.createElement(qe,{key:e.title,title:e.title})}))),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"steps-content org-form"},0==t?r.a.createElement(xe,{next:M,stepOneOrganizationInfo:p,handleStepOneOnChange:H,handleStepOneOnSelect:q,handleStepOneDatePickerChange:B}):1==t?r.a.createElement(Ye,{next:M,prev:L,stepTwoOrganizationInfo:f,handleStepTwoOnChange:V,handleStepTwoOnSelect:G,handleStepTwoDatePickerChange:W,handleMobile:function(e){v(Object(Oe.a)({},f,{mobile:e}))},addUser:function(e){"viaNext"===e&&l(t+1);var a=Math.floor(100*Math.random())+1,n=Object(Oe.a)({},f,{userId:a});S([].concat(Object(Ne.a)(w),[n])),x(!1)},editUser:function(){w.forEach((function(e){if(JSON.stringify(e)!==JSON.stringify(f)&&e.userId===f.userId){var a=w.indexOf(e),t=JSON.parse(JSON.stringify(w));t[a]=f,S(t)}})),F(!1)},deleteUser:Y,seededUsers:w,showAddUserForm:I,showAddSeededUserForm:R,showEditUserForm:U,showEditSeededUserForm:z,cancelAddUser:function(){x(!1)},cancelEditUser:function(){F(!1)}}):2==t?r.a.createElement(ze,{prev:L,createNewOrganization:function(){m(!0);var e=de(),a=[];w.map((function(e){var t={first_name:e.firstName,last_name:e.lastName,email:e.email,password:e.password,status_id:parseInt(e.status2),start_date:e.s2Date[0]?pe()(e.s2Date[0]).format("DD-MM-YYYY"):"",end_date:e.s2Date[1]?pe()(e.s2Date[1]).format("DD-MM-YYYY"):"",mobile_number:"+"+e.mobile,is_seeded_user:1};a.push(t)}));var t={organization:{name:p.organizationName,identifier:p.organizationId,status_id:parseInt(p.status1),start_date:p.s1Date[0]?pe()(p.s1Date[0]).format("DD-MM-YYYY"):"",end_date:p.s1Date[1]?pe()(p.s1Date[1]).format("DD-MM-YYYY"):""},seeded_users:a},n={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.post(T+"saveOrganization/",t,n).then((function(){m(!1),window.location="/amcc/manageorganizations"}))},stepOneOrganizationInfo:p,stepTwoOrganizationInfo:f,handleStepOneOnChange:H,handleStepOneOnSelect:q,handleStepOneDatePickerChange:B,handleStepTwoOnChange:V,handleStepTwoOnSelect:G,handleStepTwoDatePickerChange:W,seededUsers:w,showEditUserForm:U,deleteUser:Y,showEditSeededUserForm:z,addSeededUserFromThirdStep:function(){l(t-1),R()},loader:o}):r.a.createElement(r.a.Fragment,null)))))))))))},Ge=O.a.Content,We=function(){var e=r.a.useState(!1),a=Object(y.a)(e,2),t=a[0],n=a[1];return r.a.createElement(r.a.Fragment,null,!0===!t?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amCCUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(te,null),r.a.createElement(Ge,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Manage Organizations")),r.a.createElement("div",{className:"mid-content d-flex justify-content-center align-items-center"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"c-vector-area"},r.a.createElement("img",{src:be.a,alt:"Create Organization",className:"pr-4"})),r.a.createElement("p",{className:"text-center pt-3"},"Create a new Org Id for your client's organization"),r.a.createElement(_.a,{className:"d-flex justify-content-center"},r.a.createElement(fe.a,{className:"mt-1"})),r.a.createElement(j.a,{span:24,className:"d-flex align-items-center justify-content-center"},r.a.createElement(ce.a,{onClick:function(){n(!0)},type:"primary"},"Create Organization")))))))))):r.a.createElement(Ve,null))},Je={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},Ke=new(function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"orgId",value:function(){var e=JSON.parse(f("user"));return e&&e.user_data.organization_id?e.user_data.organization_id:{}}},{key:"getOrganizationData",value:function(){return P.a.get(T+"getOrganization/",Je)}},{key:"getEmployees",value:function(){var e=this.orgId();return P.a.get(T+"getEmployees/"+e+"/",Je)}},{key:"getHotlines",value:function(){return P.a.get(T+"hotline/",Je)}},{key:"getOpenlines",value:function(){return P.a.get(T+"openline/",Je)}},{key:"getAssignHotlines",value:function(e){return P.a.get(T+"getHotlineAssignEmpl/"+e,Je)}}]),e}());var Ze=Object(c.b)((function(e){return{manageOrgData:e.manageOrg.manageOrgData}}))((function(e){var a,t=Object(n.useState)(!1),l=Object(y.a)(t,2),s=l[0],c=l[1];Object(n.useEffect)((function(){(0,e.dispatch)((function(e){return Ke.getOrganizationData().then((function(a){return e({type:"MANAGEORG_SUCCESS",payload:{manageOrgData:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"MANAGEORG_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}))}),[s]);return(null===(a=e.manageOrgData)||void 0===a?void 0:a.length)>0?r.a.createElement(Ee,{organizations:e.manageOrgData,statusOnClicked:function(){c(!s)}}):r.a.createElement(We,null)})),$e=function(){return function(e){return Ke.getEmployees().then((function(a){return e({type:"MANAGEEMP_SUCCESS",payload:{manageEmpData:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"MANAGEEMP_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}},Qe=N.a.Search,Xe=(r.a.createElement(le.a,{style:{fontSize:16,color:"#1890ff"}}),ke.a.Option),ea=O.a.Content,aa=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})};var n=[{title:"First Name",dataIndex:"firstname",key:"firstname",width:"22%",render:function(e){return{children:e,props:{"data-title":"First Name"}}}},{title:"Last Name",dataIndex:"lastname",key:"lastname",width:"22%",render:function(e){return{children:e,props:{"data-title":"Last Name"}}}},{title:"Mobile Number",dataIndex:"Mobile_Number",key:"Mobile_Number",width:"20%",render:function(e){return{children:e,props:{"data-title":"Mobile Number"}}}},{title:"Access",dataIndex:"Access",key:"Access",render:function(e){var a="",t=!1;for(var n in e)1==e[n]&&("am_web"==n&&(n="AM WEB",t=!0),"org_cc_user"==n&&(n="Org CC",t=!0),"app_user"==n&&(t||(n="APP")),0==a.length?a+=n:"app_user"!==n&&(a.includes("APP")?a=n:a+=", "+n));return{children:a,props:{"data-title":"Access"}}},width:"20%"},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:function(){return{children:r.a.createElement("div",{className:"primary-tag-rounded tag"},r.a.createElement("span",{className:"circle mr-1"}),"Active"),props:{"data-title":"Status"}}}},{title:"Actions",dataIndex:"Actions",key:"x",width:"10%",render:function(){return{children:r.a.createElement(Te,null),props:{"data-title":"Actions"}}}}];return t.state={columns:n,data:[]},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)($e())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=this,t=e.manageEmpData;this.setState({data:t},(function(){a.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].toUpperCase().includes(a.toUpperCase())}))})):e}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0","data-test":"manageEmp"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(ea,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",null,"Manage Employees")),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"pt-1 pb-3 px-3 px-lg-0 sm-direction-reverse"},r.a.createElement(j.a,{span:24,lg:18,className:"search-row mt-2 mt-lg-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:9,className:"search-box"},r.a.createElement(Qe,{placeholder:"Search",onSearch:this.onSearch})),r.a.createElement(j.a,{span:24,lg:9,className:"ml-0 ml-lg-4 mt-2 mt-lg-0"},r.a.createElement(ke.a,{className:"w-100 w-md-75",defaultValue:"Permissions",disabled:!0},r.a.createElement(Xe,{value:"1",defaultValue:!0},"1"),r.a.createElement(Xe,{value:"2"},"2"))))),r.a.createElement(j.a,{span:24,lg:6,className:"d-flex align-items-center justify-content-end"},r.a.createElement(ie,{value:"Add Employee"})))),r.a.createElement(se,{rowKey:"unique_identifier",columns:this.state.columns,data:this.state.filterData}))))))}}]),a}(r.a.Component);var ta=Object(c.b)((function(e){return{manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(aa),na=t(151),ra=t.n(na),la=(t(251),function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.showModal=function(){window.open("https://www.anonymoose.co/platformprivacypolicy.pdf","_blank")},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,"See",r.a.createElement(ce.a,{type:"link",className:"link pl-1",onClick:this.showModal},"Privacy Policy"),r.a.createElement(De.a,{title:"Privacy Policy",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,className:"modal-lg privacy-txt",centered:!0},r.a.createElement(_.a,{className:"modal-icon py-4"},r.a.createElement("p",null,"THIS PRIVACY POLICY (\u201cPRIVACY POLICY\u201d) SETS FORTH HOW WE USE AND PROTECT THE PERSONAL INFORMATION COLLECTED WHILE USING OUR SERVICES. PLEASE READ THIS PRIVACY POLICY CAREFULLY. THIS PRIVACY POLICY IS APPLICABLE TO YOU (\u201cYOU\u201d, \u201cYOUR\u201d, \u201cUSER\u201d OR \u201cUSERS\u201d) IF YOU ARE USING, ACCESSING OUR SERVICES OR HAVE DOWNLOADED OR INSTALLED OUR PLATFORM. BY DOWNLOADING, CONTINUING TO USE OR ACCESSING THE PLATFORM OR THE SERVICES, YOU AGREE TO THE TERMS OF THIS PRIVACY POLICY. IF THE YOU DO NOT AGREE TO THIS PRIVACY POLICY, YOU MAY NOT USE, AVAIL OR ACCESS OUR SERVICES.",r.a.createElement("ol",{className:""},r.a.createElement("li",null,r.a.createElement("u",null,"Introduction"),r.a.createElement("ol",{className:"sub"},r.a.createElement("li",null,"EarthenLamps Inc, registered in Delaware with principal office located at 12265 Viewoak Drive, Saratoga, CA 95070 (",r.a.createElement("b",null,"\u201cCompany\u201d, \u201cwe\u201d, \u201cus\u201d, \u201cour\u201d"),"), has developed a platform comprising of a mobile application, dashboard and control center under a name \u201cAnonyMoose\u201d (",r.a.createElement("b",null,"\u201cSaaS PlaCorm\u201d or \u201cPlaCorm\u201d"),")and offers services that will enable employees of an organization to provide feedback, ideas, suggesZons, and to report incidents relaZng to harassment or microaggressions, or any other concern, privately and discreetly, to such organizaZon\u2019s leadership, management and designated individuals or departments",r.a.createElement("b",null,"(\u201cServices\u201d)"),"."),r.a.createElement("li",{className:""},"We are committed to data privacy and have made this Privacy Policy to describe the procedures we adhere to for collecting, using, and disclosing the Personal Information (defined below). We recommend Users to read this Privacy Policy carefully so that Users understand our approach towards the use of their Personal Information."))),r.a.createElement("li",null,r.a.createElement("u",null,"What kinds of information do we collect?"),r.a.createElement("ol",{className:"sub"},r.a.createElement("li",null,"To provide the Services, we require to process information about you. The type of information that we collect depends on how you use our platform."),r.a.createElement("li",null,r.a.createElement("b",null,"Personal Details:")," We may collect any personal information such as your name, contact number, email address, and designaZon, provided by your organization, or while you create and/or update your respecZve account and/or use of the Services. This information that can identify, or is capable of identifying a person, shall be referred to as ",r.a.createElement("b",null,"\u201cPersonal Information\u201d"),"."),r.a.createElement("li",null,r.a.createElement("b",null,"Device information:")," Whenever you access our Platform through Wi-Fi or the internet, we may also collect your browser name, usage, log related information, the type of electronic device, manufacturer, make, model, unique ID of the electronic device and other technical information about your means of connection to our Platform or Services, such as the operating system and other similar information. The device information will be used solely for the purpose of improving our Services and to provide You with better user experience."),r.a.createElement("li",null,"For the purposes of this Privacy Policy, such information in section 2.3 shall also be considered Personal Information."))),r.a.createElement("li",null,r.a.createElement("u",null,"How we use this information"),r.a.createElement("ol",{className:"sub"},r.a.createElement("li",null,"We use the information (which include the Personal Information) provided by you or collected by us in the following cases: (i) to provide User with the Services and to assist the User in the event the User needs any additional support; (ii) for creation or development of business intelligence or data analytics in relation to the Services provided by the Company; (iii) to understand usage patterns of our Platform or the Services; (iv) to improve usability of our Services and for Services maintenance; (v) to maintain and manage account of the organization; (vi) to prevent fraud and abuse (vii) to enhance the security of our the Platform and/ or the Services; (viii) to ensure that our Platform or the Services are not used for illegal purposes ; (ix) for internal record keeping; and (x) to comply with our legal or statutory obligations."),r.a.createElement("li",null,"ANONYMIZED DATA: We will also use your Personal Information collected by us to create aggregate anonymized data. We ensure that such anonymized data doesn\u2019t directly identify you or your Personal Information shared with us. We may use this anonymized data for any purpose including but not limited to, research, understand usage patterns, analytical purposes, and to improve our Services. By agreeing to this Privacy Policy, you provide us the right to use your Personal Information to create anonymized data and use it for our business purposes."))),r.a.createElement("li",null,r.a.createElement("u",null,"How the information is shared"),r.a.createElement("p",{className:"pl-4"},"In the course of providing Services or access of the Platform to you, we may share your information, which may also include your Personal Information, with certain parties, in only the following cases. The Company does not share your Personal Information with any member within your organization/company/enterprise. Accordingly, you expressly give your free consent to us to disclose or share your Personal Information in the following cases:"),r.a.createElement("ol",{className:"sub"},r.a.createElement("li",null,r.a.createElement("b",null,"Administrators:")," We may provide access to your Personal information to any of our authorized administrators for internal technical purpose, who shall be under confidentiality obligations towards the same. For the sake of clarity, such administrators shall not be part of your organization."),r.a.createElement("li",null,r.a.createElement("b",null,"Service Providers:")," We may share User\u2019s Personal Information with the service providers, who are working with us, or may work with us, in connection with the operation of the Services and assisting us in improving the Platform. Examples include service providers who are providing technical infrastructure services, analyzing how our Platform is used, providing customer service, facilitating payments or conducting surveys."),r.a.createElement("li",null,r.a.createElement("b",null,"Merger or Acquisi7on:")," We may transfer User\u2019s Personal Information if we are acquired by/we acquire or merge with another company or transfer a part of our business, to a third party. Any third party or resultant entity that receives the User\u2019s Personal Information pursuant to a merger, demerger, amalgamation reconstruction, change in control or business transfer shall have the right to continue to use User\u2019s Personal Information and such new entity shall abide with this privacy policy."),r.a.createElement("li",null,r.a.createElement("b",null,"Legal and Regulatory Authorities:")," We may be required to disclose User\u2019s information including Personal Information due to legal or regulatory requirements. In such instances, we reserve the right to disclose User\u2019s Personal Information as required in order to comply with our legal obligations, including but not limited to complying with court orders, warrants, or discovery requests. We may also disclose User\u2019s Personal Information to (a) law enforcement officers or others; (b) to comply with a judicial proceeding, court order, or legal process served on us ; (c) to enforce or apply this Privacy Policy or our other policies or agreements; (d) respond to claims that any Personal Information violates the rights of third-parties; or (e) protect the rights, property, or personal safety of Company, or the general public."),r.a.createElement("li",null,"User agrees and acknowledges that we may not be required to inform User prior to or after disclosures made according to this section."))),r.a.createElement("li",null,r.a.createElement("u",null,"How long your information is retained"),r.a.createElement("ol",{className:"sub"},r.a.createElement("li",null,"We endeavor to collect only such Information including Personal Information that is necessary for the purposes indicated here. We may retain such information on a case-by-case determination depending on matters such as the nature of the information, why it is collected and processed, and relevant legal or operational retention needs. For example, we may retain such information to pursue legitimate business interests, conduct audits, comply with (and demonstrate compliance with) legal obligations, resolve disputes and enforce our agreements."),r.a.createElement("li",null,"We may retain your non- Personal Information even after you have stopped using our Platform or the Services for the sole purpose of providing better Services and improving usage pattern on the Platform."))),r.a.createElement("li",null,r.a.createElement("u",null," Access to your content on the PlaCorm:"),r.a.createElement("p",{className:"pl-4"},"While you use our Platform, you may provide certain information including but not limited to images, location detail, documents, text, audio clip, video clip, organization\u2019s policies and training material to us (\u201cUser Content\u201d). The Company ensures that the User Content remain private, integral and secure. The Company may access such User Content only to abide by its legal obligations as provided in section 4.4 of this Privacy Policy.")),r.a.createElement("li",null,r.a.createElement("u",null,"Our Security Measures:"),r.a.createElement("p",{className:"pl-4"},"User\u2019s Personal Information is stored on our database which is hosted on the AWS cloud. Although there are appropriate \ufb01rewalls and protections, we cannot warrant the security of any Personal Information transmitted as our systems are not hack proof. Data pilferage due to unauthorized hacking, virus attacks, technical issues is possible, and we take no liability or responsibility for it. Users are required to be careful to avoid \u2018phishing\u2019 scams, where someone may send User an e-mail that looks like it is from the Company asking for User\u2019s Personal Information.")),r.a.createElement("li",null,r.a.createElement("u",null,"Hyperlinks:"),r.a.createElement("p",{className:"pl-4"},"The Platform may from time to time contain hyperlinks to other websites or mobile applications. Such links are provided for convenience only and we take no responsibility for the content and maintenance of or privacy compliance of any linked website. Any hyperlink on our Platform to another website does not imply our endorsement, support, or sponsorship of the operator of that website nor of the information and/or services which it provides. The Company is not a party to any transaction between you and such website.")),r.a.createElement("li",null,r.a.createElement("u",null,"Limitation of Liability:"),r.a.createElement("p",{className:"pl-4"},"NEITHER PARTY SHALL BE LIABLE TO THE OTHER FOR ANY INDIRECT, CONSEQUENTIAL, INCIDENTAL, EXEMPLARY OR SPECIAL DAMAGES, LOSS OF PROFIT, BUSINESS HOWSOEVER CAUSED, EVEN IF THE OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. THE MAXIMUM LIABLITY OF THE COMPANY FOR DIRECT DAMAGE OR LOSS SHALL BE LIMITED TO AN AMOUNT OF USD 1000 (US DOLLARS ONE THOUSAND ONLY). THE FOREGOING LIMITATIONS OF LIABILITY SHALL APPLY NOTWITHSTANDING THE FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED WARRANTY OR REMEDY HEREIN.")),r.a.createElement("li",null,r.a.createElement("u",null,"Reservation of Rights:"),r.a.createElement("p",{className:"pl-4"},"All rights not expressly granted in this Privacy Policy are reserved by the Company. Nothing contained in this Privacy Policy shall be construed as conferring by implication, estoppels or otherwise, any license or right under any copyright, patent, trademark or other intellectual property right of Company or any other person or to User.")),r.a.createElement("li",null,r.a.createElement("u",null,"Governing Laws and Disputes:"),r.a.createElement("p",{className:"pl-4"},"This Privacy Policy shall in all respects be governed by and construed and enforced in accordance with the laws of Delaware and the courts in Delaware shall have an exclusive jurisdiction to adjudicate any subject matter under this Privacy Policy without any con\ufb02ict of laws. Any dispute or di\ufb00erence arising between you and the Company as to the e\ufb00ect, validity or interpretation or any other matter under this Privacy Policy or as to their rights, duties or liabilities hereunder shall be referred to arbitration in accordance with the rules of the International Chamber of Commerce to the exclusive jurisdiction to venue of the courts of Delaware.")),r.a.createElement("li",null,r.a.createElement("u",null,"Changes to This Policy:"),r.a.createElement("p",{className:"pl-4"},"We may update this Privacy Policy from time to time. Users are encouraged to check this Privacy Policy on a regular basis to be aware of the changes made to it. The Company shall not be liable for any claims arising out of non-intimation of such change in this Privacy Policy. This Privacy Policy was last modi\ufb01ed on"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"border-bottom"}," ")," July, 2020."))),r.a.createElement("li",null,r.a.createElement("u",null,"Contact Us"),r.a.createElement("p",{className:"pl-4"},"If User has any questions, concerns or grievances regarding this Privacy Policy, User can email us at our grievance email-address"," ",r.a.createElement("a",{href:"mailto:info@anonymoose.co"},"info@anonymoose.co"))))))))}}]),a}(n.Component)),sa={wrapperCol:{span:24}},ca={wrapperCol:{span:24}},ia=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).handleLogin=t.handleLogin.bind(Object(R.a)(t)),t.onChangeUsername=t.onChangeUsername.bind(Object(R.a)(t)),t.onChangePassword=t.onChangePassword.bind(Object(R.a)(t)),t.state={email:"",password:"",page:"is_app_user",error:"false"},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(){var e=this;this.setState({loading:!0});var a=this.props,t=a.dispatch;a.history;t(Y(this.state.email,this.state.password,this.state.page)).then((function(){window.location.reload()})).catch((function(){e.setState({loading:!1,error:"true"})}))}},{key:"canSubmit",value:function(){var e=this.state,a=e.email,t=e.password;return a.length>0&&t.length>0}},{key:"render",value:function(){var e,a,t,n=this,l=this.props,s=l.isLoggedIn,c=(l.message,JSON.parse(f("user"))),i=null===c||void 0===c?void 0:null===(e=c.user_data)||void 0===e?void 0:e.is_amcc_user,m=null===c||void 0===c?void 0:null===(a=c.user_data)||void 0===a?void 0:a.is_org_cc_user,d=null===c||void 0===c?void 0:null===(t=c.user_data)||void 0===t?void 0:t.is_am_web_user;this.canSubmit();if(s){if(m)return r.a.createElement(o.a,{to:"/orgcc/manageemployees"});if(d)return r.a.createElement(o.a,{to:"/amweb/hotlinemessages"});if(i)return r.a.createElement(o.a,{to:"/amcc/manageorganizations"})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"px-4 py-1 py-lg-3 header"},r.a.createElement(k,null)),r.a.createElement(_.a,{className:"content-center mt-0 px-4"},r.a.createElement(j.a,{sm:24,lg:12,className:"vector-area justify-content-center mt-1"},r.a.createElement(j.a,{span:24,className:"text-center"},r.a.createElement("h5",{className:"text-center primary-text"},"Control Center and Insights Dashboard")),r.a.createElement(_.a,{className:"justify-content-center mt-3"},r.a.createElement("img",{src:ra.a,alt:"Annonymoose",className:"pr-0 pr-lg-4"})),r.a.createElement(_.a,{className:"pt-3"},r.a.createElement("p",{className:"w-100 text-center text-wgt-md mb-1 d-none d-lg-block"},"Raising Voice Anonymously Made Easy"))),r.a.createElement(j.a,{lg:{span:12},md:{span:24},xs:{span:24},className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:" col-md-24 col-lg-12 col-xl-10 login-box justify-content-center d-flex"},"true"==this.state.error&&r.a.createElement(Ce.a,{message:"Invalid Login! Please try again",type:"error",showIcon:!0}),r.a.createElement(_.a,{className:"mb-4 d-none d-lg-block"},r.a.createElement("h2",null,"Forgot Password"),r.a.createElement("p",{className:"mt-3 font-weight-bold"},"Enter your registered email address to request a password reset link.")),r.a.createElement(je.a,Object.assign({},sa,{onSubmit:this.handleLogin,ref:function(e){n.form=e},name:"basic",initialValues:{remember:!0}}),r.a.createElement(Ie,{label:"Email"},r.a.createElement(je.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your email!",type:"email"}]},r.a.createElement(N.a,{type:"Email",className:"input-control",placeholder:" ",value:this.state.email,onChange:this.onChangeUsername}))),r.a.createElement(je.a.Item,ca,r.a.createElement(ce.a,{type:"primary",htmlType:"submit",className:"primary-btn-lg w-100 mt-4"},"REQUEST PASSWORD RESET LINK")),r.a.createElement("div",{className:"justify-content-center d-flex"},r.a.createElement(ce.a,{type:"link",className:"link"},"Back to ",r.a.createElement("b",{className:"pl-1"},"Sign In"))))))))}}]),a}(n.Component),oa={wrapperCol:{span:24}},ma={wrapperCol:{span:24}},da=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).handleLogin=t.handleLogin.bind(Object(R.a)(t)),t.onChangeUsername=t.onChangeUsername.bind(Object(R.a)(t)),t.onChangePassword=t.onChangePassword.bind(Object(R.a)(t)),t.state={email:"",password:"",page:"is_app_user",error:"false"},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(){var e=this;this.setState({loading:!0});var a=this.props,t=a.dispatch;a.history;t(Y(this.state.email,this.state.password,this.state.page)).then((function(){window.location.reload()})).catch((function(){e.setState({loading:!1,error:"true"})}))}},{key:"canSubmit",value:function(){var e=this.state,a=e.email,t=e.password;return a.length>0&&t.length>0}},{key:"render",value:function(){var e,a,t,n=this,l=this.props,s=l.isLoggedIn,c=(l.message,JSON.parse(f("user"))),i=null===c||void 0===c?void 0:null===(e=c.user_data)||void 0===e?void 0:e.is_amcc_user,m=null===c||void 0===c?void 0:null===(a=c.user_data)||void 0===a?void 0:a.is_org_cc_user,d=null===c||void 0===c?void 0:null===(t=c.user_data)||void 0===t?void 0:t.is_am_web_user;this.canSubmit();if(s){if(m)return r.a.createElement(o.a,{to:"/orgcc/manageemployees"});if(d)return r.a.createElement(o.a,{to:"/amweb/hotlinemessages"});if(i)return r.a.createElement(o.a,{to:"/amcc/manageorganizations"})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"px-4 py-1 py-lg-3 header"},r.a.createElement(k,null)),r.a.createElement(_.a,{className:"content-center mt-0 px-4"},r.a.createElement(j.a,{sm:24,lg:12,className:"vector-area justify-content-center mt-1"},r.a.createElement(j.a,{span:24,className:"text-center"},r.a.createElement("h5",{className:"text-center primary-text"},"Control Center and Insights Dashboard")),r.a.createElement(_.a,{className:"justify-content-center mt-3"},r.a.createElement("img",{src:ra.a,alt:"Annonymoose",className:"pr-0 pr-lg-4"})),r.a.createElement(_.a,{className:"pt-3"},r.a.createElement("p",{className:"w-100 text-center text-wgt-md mb-1 d-none d-lg-block"},"Raising Voice Anonymously Made Easy"))),r.a.createElement(j.a,{lg:{span:12},md:{span:24},xs:{span:24},className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:" col-md-24 col-lg-12 col-xl-10 login-box justify-content-center d-flex"},"true"==this.state.error&&r.a.createElement(Ce.a,{message:"Invalid Login! Please try again",type:"error",showIcon:!0}),r.a.createElement(_.a,{className:"mb-4 d-none d-lg-block"},r.a.createElement("h2",null,"Reset Password"),r.a.createElement("p",{className:"mt-3 font-weight-bold"},"Set a new password for your account.")),r.a.createElement(je.a,Object.assign({},oa,{onSubmit:this.handleLogin,ref:function(e){n.form=e},name:"basic",initialValues:{remember:!0}}),r.a.createElement(Ie,{label:"Password"},r.a.createElement(je.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}]},r.a.createElement(N.a,{type:"password",className:"input-control",value:this.state.password,onChange:this.onChangePassword}))),r.a.createElement(Ie,{label:"Confirm Password"},r.a.createElement(je.a.Item,{name:"confirmpassword",rules:[{required:!0,message:"Please confirm your password!"}]},r.a.createElement(N.a,{type:"password",className:"input-control",value:this.state.password,onChange:this.onChangePassword}))),r.a.createElement(je.a.Item,ma,r.a.createElement(ce.a,{type:"primary",htmlType:"submit",className:"primary-btn-lg w-100 mt-4"},"RESET PASSWORD")))))))}}]),a}(n.Component),ua={wrapperCol:{span:24}},pa={wrapperCol:{span:24}},ha=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).handleLogin=t.handleLogin.bind(Object(R.a)(t)),t.onChangeUsername=t.onChangeUsername.bind(Object(R.a)(t)),t.onChangePassword=t.onChangePassword.bind(Object(R.a)(t)),t.state={email:"",password:"",page:"is_app_user",error:"false"},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(){var e=this;this.setState({loading:!0});var a=this.props,t=a.dispatch;a.history;t(Y(this.state.email,this.state.password,this.state.page)).then((function(){window.location.reload()})).catch((function(){e.setState({loading:!1,error:"true"})}))}},{key:"canSubmit",value:function(){var e=this.state,a=e.email,t=e.password;return a.length>0&&t.length>0}},{key:"render",value:function(){var e,a,t,n=this,l=this.props,s=l.isLoggedIn,c=(l.message,JSON.parse(f("user"))),i=null===c||void 0===c?void 0:null===(e=c.user_data)||void 0===e?void 0:e.is_amcc_user,m=null===c||void 0===c?void 0:null===(a=c.user_data)||void 0===a?void 0:a.is_org_cc_user,d=null===c||void 0===c?void 0:null===(t=c.user_data)||void 0===t?void 0:t.is_am_web_user,u=this.canSubmit();if(s){if(m)return r.a.createElement(o.a,{to:"/orgcc/manageemployees"});if(d)return r.a.createElement(o.a,{to:"/amweb/hotlinemessages"});if(i)return r.a.createElement(o.a,{to:"/amcc/manageorganizations"})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"px-4 py-1 py-lg-3 header"},r.a.createElement(k,null)),r.a.createElement(_.a,{className:"content-center mt-0 px-4"},r.a.createElement(j.a,{sm:24,lg:12,className:"vector-area justify-content-center mt-1"},r.a.createElement(j.a,{span:24,className:"text-center"},r.a.createElement("h5",{className:"text-center primary-text"},"Control Center and Insights Dashboard")),r.a.createElement(_.a,{className:"justify-content-center mt-3"},r.a.createElement("img",{src:ra.a,alt:"Annonymoose",className:"pr-0 pr-lg-4"})),r.a.createElement(_.a,{className:"pt-3"},r.a.createElement("p",{className:"w-100 text-center text-wgt-md mb-1 d-none d-lg-block"},"Raising Voice Anonymously Made Easy"),r.a.createElement("p",{className:"text-center text-center subtext px-5 mb-0 d-none d-lg-block"},'Login to manage AnonyMoose eco-system. This includes employees eligible to use the app and/or components such as Hotlines, Openlines, Polls and Surveys, Broadcast Messages and access to different features of the "Insights Dashboard", through set of assignable permissions.'))),r.a.createElement(j.a,{lg:{span:12},md:{span:24},xs:{span:24},className:"d-flex justify-content-center mt-2"},r.a.createElement("div",{className:" col-md-24 col-lg-12 col-xl-10 login-box justify-content-center d-flex"},"true"==this.state.error&&r.a.createElement(Ce.a,{message:"Invalid Login! Please try again",type:"error",showIcon:!0}),r.a.createElement(_.a,{className:"mb-4 d-none d-lg-block"},r.a.createElement("h2",null,"Sign In")),r.a.createElement(je.a,Object.assign({className:"floating-label"},ua,{onSubmit:this.handleLogin,ref:function(e){n.form=e},name:"basic",initialValues:{remember:!0}}),r.a.createElement(Ie,{label:"Email",value:this.state.email},r.a.createElement(je.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your email!",type:"email"}]},r.a.createElement(N.a,{type:"Email",className:"input-control",placeholder:" ",value:this.state.email,onChange:this.onChangeUsername}))),r.a.createElement(Ie,{label:"Password",value:this.state.password},r.a.createElement(je.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}]},r.a.createElement(N.a,{type:"password",className:"input-control",value:this.state.password,onChange:this.onChangePassword}))),r.a.createElement("div",{className:"forgot-pwd"},r.a.createElement("a",{href:"#"},"Forgot Password")),r.a.createElement(je.a.Item,pa,r.a.createElement(ce.a,{disabled:!u,type:"primary",htmlType:"submit",className:"primary-btn-lg w-100 mt-4",onClick:function(){n.handleLogin()}},"SIGN IN")))))),r.a.createElement(_.a,{className:"footer-content position-fixed"},r.a.createElement(la,null)))}}]),a}(n.Component);var ga=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))(ha),Ea=O.a.Sider,fa=(O.a.Header,O.a.Content,function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={collapsed:!1},t.toggle=function(){t.setState({collapsed:!t.state.collapsed})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(this.state.collapsed?Z.a:$.a,{className:"trigger d-lg-none d-block",onClick:this.toggle}),r.a.createElement(Ea,{className:this.state.collapsed?" d-lg-block w-md-100 sider-width":"d-none d-lg-block w-md-100 sider-width",trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement(K.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(K.a.Item,{key:"1",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-hotlines"}))}," ",r.a.createElement(i.b,{to:"/amweb/hotlinemessages"},"Hotlines Messages")),r.a.createElement(K.a.Item,{key:"2",icon:r.a.createElement("span",{className:"icon-circle"},r.a.createElement("span",{className:"icon icon-polls"}))}," ",r.a.createElement(i.b,{to:"/amweb/openlinemessages"},"Openline Messages"))),r.a.createElement("div",{className:"btm-div"},r.a.createElement("a",{href:"/",className:"px-2",disabled:!0},"Info"),r.a.createElement("a",{href:"/",className:"px-2",disabled:!0},"Help"))))}}]),a}(r.a.Component)),va=O.a.Content,ba=function(){var e=w.a.useNotification(),a=Object(y.a)(e,2),t=a[0],l=a[1],s=f("userType"),c=Object(n.useState)({currentPwd:"",newPwd:"",confirmPwd:""}),i=Object(y.a)(c,2),o=i[0],m=i[1],d=function(e){m(Object(Oe.a)({},o,Object(ye.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null," ",l,r.a.createElement(_.a,{className:"inner-header"},"AM WEB"===s?r.a.createElement(J,{amWEBUser:!0}):"AM CC"===s?r.a.createElement(J,{amCCUser:!0}):"Org CC"===s?r.a.createElement(J,{amORGUser:!0}):null),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,"AM WEB"===s?r.a.createElement(fa,null):"Org CC"===s?r.a.createElement(X,null):"AM CC"===s?r.a.createElement(te,null):null,r.a.createElement(va,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Change Password")),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement(je.a,{className:"input-md floating-label w-100"},r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32},className:"d-block"},r.a.createElement(j.a,{span:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Current Password",value:o.currentPwd},r.a.createElement(je.a.Item,{name:"currentpassword",className:"pwd required",rules:[{required:!0,message:"Please enter your current password!"}]},r.a.createElement(N.a.Password,{htmlFor:"currentpassword",id:"currentPwd",value:o.currentPwd,onChange:d})))),r.a.createElement(j.a,{span:8,className:"gutter-row"},r.a.createElement(Ie,{label:"New Password",value:o.newPwd},r.a.createElement(je.a.Item,{name:"newpassword",className:"pwd required",rules:[{required:!0,message:"Please enter your new password!"}]},r.a.createElement(N.a.Password,{htmlFor:"newpassword",id:"newPwd",value:o.newPwd,onChange:d})))),r.a.createElement(j.a,{span:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Confirm Password",value:o.confirmPwd},r.a.createElement(je.a.Item,{name:"confirmpassword",className:"pwd confirpwd required",rules:[{required:!0,message:"Please confirm your password!"}]},r.a.createElement(N.a.Password,{htmlFor:"confirmpassword",id:"confirmPwd",value:o.confirmPwd,onChange:d})))))),r.a.createElement(je.a.Item,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(){var e=de(),a={old_password:o.currentPwd,new_password:o.newPwd,confirm_password:o.confirmPwd},n={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.patch(T+"changepassword/",a,n).then((function(e){t.info({description:"Your Password has been changed successfully.",placement:"bottomLeft"})}))}},"Submit")))))))))))))},ya=(t(334),t(71)),Na=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1,iconContent:"",ImageId:""},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(){t.setState({visible:!1}),t.props.addIcon(t.state.iconContent,t.state.ImageId)},t.handleCancel=function(){t.setState({visible:!1})},t.onSelectIcon=function(e){t.setState({iconContent:e.currentTarget.innerHTML,ImageId:e.currentTarget.id})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{type:"link",className:"link pl-0",onClick:this.showModal},r.a.createElement("span",{className:"icon icon-add-filled"}),"Add Icon"),r.a.createElement(De.a,{className:"modal-icon",title:"Add Icon",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:500,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Add",cancelText:"Cancel"},r.a.createElement(_.a,{className:"py-4","data-test":"AddIcon"},r.a.createElement("div",{className:"1"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:1,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Sexual Harrasment"},r.a.createElement("span",{className:"icon icon-sexual-harassment-1"}))),r.a.createElement("div",{className:"2"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:2,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Violence"},r.a.createElement("span",{className:"icon icon-violence"}))),r.a.createElement("div",{className:"3"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:3,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Racism"},r.a.createElement("span",{className:"icon icon-racism"}))),r.a.createElement("div",{className:"4"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:4,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Cyber Bullying"},r.a.createElement("span",{className:"icon icon-cyber-bullying"}))),r.a.createElement("div",{className:"5"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:5,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Fight"},r.a.createElement("span",{className:"icon icon-fight"}))),r.a.createElement("div",{className:"6"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:6,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Discrimination"},r.a.createElement("span",{className:"icon icon-discrimination"}))),r.a.createElement("div",{className:"7"===this.state.ImageId?"col-3 col-lg-2 selected":"col-3 col-lg-2",id:7,onClick:this.onSelectIcon},r.a.createElement(ya.a,{title:"Slap"},r.a.createElement("span",{className:"icon icon-slap"}))))))}}]),a}(n.Component),Oa=t(89),wa=t.n(Oa),_a=t(843),ja=t(218),Sa=t.n(ja),Ca=ke.a.Option,ka=function(e){var a=e.next,t=e.stepOneHotLineInfo,l=e.handleStepOneOnChange,s=e.handleStepOneOnSelect,c=e.handleStepOneDatePickerChange,i=e.addIcon,o=e.getIconText,m=Object(n.useState)({iconText:""}),d=Object(y.a)(m,2),u=(d[0],d[1],Object(n.useState)(!1)),p=Object(y.a)(u,2),h=p[0],g=p[1],E=Object(n.useState)(!0),f=Object(y.a)(E,2),v=(f[0],f[1]),b=je.a.useForm(),O=Object(y.a)(b,1)[0],w=Object(n.useState)(""),_=Object(y.a)(w,2),j=_[0],S=_[1],C=Se.a.RangePicker;return r.a.createElement(je.a,{"data-test":"createHotlineStepOne",className:"input-md w-md-100 w-75 floating-label",name:"validate_other",form:O},h&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(Ie,{label:"Directory Name",value:t.directoryName},r.a.createElement(je.a.Item,{className:"required",name:"directoryName",rules:[{required:!0,message:"Please enter directory name"}]},r.a.createElement(Sa.a,{showCount:!0,maxLength:80,value:t.directoryName,onChange:function(e){return l(e)},onBlur:function(e){return function(e){var a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.post(T+"checkhotline/",{hotline_name:t.directoryName},a).then((function(e){e.data&&S(e.data[0])}))}()},id:"directoryName",className:"input-control",htmlFor:"directoryName",autoComplete:"off"}),"status: false"===j&&t.directoryName.length>0&&r.a.createElement(_a.a,{className:"successCheck",twoToneColor:"#52c41a"}),"status: true"==j&&r.a.createElement(Ce.a,{message:"Sorry! This hotline already exists in the system. Please use a different name.",type:"error",showIcon:!0}))),r.a.createElement(Ie,{label:"Description",value:t.description},r.a.createElement(je.a.Item,{className:"required",name:"description",rules:[{required:!0,message:"Please enter description"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"input-control",value:t.description,onChange:function(e){return l(e)},id:"description",htmlFor:"description",autoComplete:"off"})))),r.a.createElement(Ie,{label:"Date",value:"sDate"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper"},r.a.createElement(C,{className:"datepicker w-100 w-lg-50 mr-0 mr-lg-5 required",name:"sDate",value:t.sDate,onChange:function(e){return c(e,"sDate")},disabledDate:function(e){return e&&e<pe()().startOf("day")},rules:[{required:!0,message:"Please select start date"}]}))),r.a.createElement(Ie,{label:"Status",value:t.status},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please select status"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control w-100 w-lg-50",value:t.status,htmlFor:"status",onSelect:function(e){return s(e,"status")}},r.a.createElement(Ca,{value:"5"},"Active"),r.a.createElement(Ca,{value:"4"},"Inactive"))))),r.a.createElement(je.a.Item,{className:""},r.a.createElement(je.a.Item,{className:"upload-control",name:"upload",valuePropName:"fileList"},console.log(t.iconHtml),r.a.createElement(Na,{"data-test":"addIconComponent",addIcon:i}),o(t.hotlineIconId)&&r.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},r.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},r.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},r.a.createElement("span",{className:"d-inline-flex align-items-center"},r.a.createElement("a",{className:"ant-upload-list-item-thumbnail"},wa()(t.iconHtml)),r.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:o(t.hotlineIconId)},o(t.hotlineIconId)))))))),r.a.createElement(je.a.Item,null,r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault(),t.directoryName&&t.description&&t.iconHtml&&t.status&&t.sDate?(g(!1),v(!1),a()):g(!0)},"data-test":"stepOneNext"},"Next")))},Ia=t(179),xa=function(e){var a=e.handleCheck,t=e.selectedRow,l=e.stepOneHotLineValues,s=e.permissions,c=e.getCheckValues,i=Object(n.useState)(!1),o=Object(y.a)(i,2),m=o[0],d=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{type:"primary",onClick:function(){return A.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0);case 1:case"end":return e.stop()}}))}},"Assign"),r.a.createElement(De.a,{className:"modal-checkbox",visible:m,onOk:function(){return d(!1),void c()},onCancel:function(){d(!1)},centered:!0,width:590,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Done",cancelText:"Cancel"},r.a.createElement("div",null,"Assign Permissions for ",r.a.createElement("b",null,l.directoryName)," ","Hotline",r.a.createElement("br",null)," ",r.a.createElement("span",{className:"font-wgt-md"}," ")," "),r.a.createElement("div",null,r.a.createElement(_.a,{className:"mt-2 mt-lg-5"},r.a.createElement(j.a,{span:6}),r.a.createElement(j.a,{span:14,className:"small text-center"},"Reply to Messages, Add Notes, Status & Urgency level")),t&&t.map((function(e){var t=s.find((function(a){return a.user_id===e.user_id}));return r.a.createElement(_.a,{className:"mt-3 d-flex justify-content-center"},r.a.createElement(j.a,{span:12},"".concat(e.firstname," ").concat(e.lastname)),r.a.createElement(j.a,{span:10},r.a.createElement(Ia.a,{checked:!(!t||1!==t.can_respond),disabled:!0,onChange:function(t){return a(e)}})))})))))},Da=t(219),Aa=t.n(Da),Ua=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.employeeData,n=t.filterIt(a,e);t.setState({filterData:n})},t.start=function(){t.setState({showAssigntoModal:!0})},t.stepTwoPrev=function(){t.props.prev()},t.stepTwoNext=function(){0!==t.props.stepTwoHotLine.chekedValues.length?t.props.next():t.setState({showAlert:!0})},t.state={employeeData:"",showAssigntoModal:"false",showAlert:!1},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)($e())}},{key:"componentDidUpdate",value:function(e){var a=this,t=this.props.manageEmpData;e.manageEmpData!=t&&this.setState({employeeData:t},(function(){a.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].toUpperCase().includes(a.toUpperCase())}))})):e}},{key:"render",value:function(){var e=this,a={selectedRowKeys:this.props.stepTwoHotLine.selectedRowKeys,onChange:this.props.handleStepTwoOnSelect},t=[{title:"First Name",dataIndex:"firstname",key:"firstname",width:"22%"},{title:"Last Name",dataIndex:"lastname",key:"lastname",width:"22%"},{title:"Mobile Number",dataIndex:"Mobile_Number",key:"Mobile_Number",width:"21%"},{title:"Access",dataIndex:"Access",render:function(e){var a="";for(var t in e)1==e[t]&&("am_web"==t&&(t="AM WEB"),"org_cc_user"==t&&(t="Org CC"),"app_user"==t&&(t="APP"),0==a.length?a+=t:a+=", "+t);return r.a.createElement("span",null,a)},width:"20%"},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(){return r.a.createElement("div",{className:"primary-tag-rounded tag"},r.a.createElement("span",{className:"circle mr-1"}),"Active")}}];return r.a.createElement("div",null,r.a.createElement(j.a,{"data-test":"createHotlineStepTwo",span:24},r.a.createElement(_.a,{className:"pt-1 pb-3 px-3 px-lg-0 sm-direction-reverse"},r.a.createElement(j.a,{span:24,lg:18,className:"search-row mt-2 mt-lg-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:9,className:"search-box"},r.a.createElement(Aa.a,{placeholder:"Search User",onSearch:this.onSearch})))))),this.state.showAlert&&r.a.createElement(Ce.a,{message:"Please select user(s) and assign required permission(s) using Assign button.",type:"error",showIcon:!0}),r.a.createElement("div",{id:"no-more-tables"},r.a.createElement(re.a,{rowSelection:a,columns:t,dataSource:this.state.filterData,rowKey:"unique_identifier"})),r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",style:{margin:"0 8px"},onClick:function(){return e.stepTwoPrev()},"data-test":"steptwoPrev"},"Back"),r.a.createElement(ce.a,{className:"md",type:"primary",onClick:function(){return e.stepTwoNext()},"data-test":"steptwoNext"},"Next")))}}]),a}(r.a.Component);var Pa=Object(c.b)((function(e){return{manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(Ua),Ta=N.a.TextArea,Fa=function(e){var a,t=e.prev,n=e.createNewHotLine,l=e.stepOneHotLine,s=e.stepTwoHotLine,c=e.getIconText,i=je.a.useForm(),o=Object(y.a)(i,1)[0],m=s.selectedRows.map((function(e){return e.firstname+" "+e.lastname})),d=Se.a.RangePicker;return r.a.createElement(je.a,{"data-test":"createHotlineStepThree",className:"input-md w-md-100 w-75",name:"validate_other",form:o},r.a.createElement(je.a.Item,{name:"directoryName"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ta,{showCount:!0,disabled:!0,maxLength:80,value:l.directoryName,id:"directoryName",className:"input-control textarea-input",placeholder:"Directory Name",htmlFor:"directoryName"}))),r.a.createElement(je.a.Item,{name:"description"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ta,{disabled:!0,className:"input-control textarea-md",value:l.description,id:"description",placeholder:"Description",htmlFor:"description"}))),r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper"},r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{className:"datepicker w-100 w-lg-50 mr-0 mr-lg-5",name:"sdate",value:l.sDate,rules:[{readOnly:!0,required:!0,message:"Please select start date"}],disabled:!0}))),r.a.createElement("div",{className:"d-block d-lg-flex"},r.a.createElement("div",{className:"w-100 w-lg-50 mr-0 mr-lg-5"},r.a.createElement(je.a.Item,{name:"status"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control",placeholder:"Status",value:l.status,htmlFor:"status",disabled:!0},r.a.createElement(ke.a.Option,{value:"5"},"Active"),r.a.createElement(ke.a.Option,{value:"4"},"Inactive")," ")))),r.a.createElement("div",{className:"w-100 w-lg-50 mr-0 mr-lg-5"},r.a.createElement(je.a.Item,{name:"userNames"},r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"input-control",placeholder:"Assigned to",htmlFor:"assigned to",id:m,disabled:!0,value:m.join(", ")}))))),r.a.createElement(je.a.Item,{className:"w-100 w-lg-50"},r.a.createElement(je.a.Item,{className:"upload-control"},r.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},r.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},r.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},r.a.createElement("span",{className:"d-inline-flex align-items-center"},r.a.createElement("a",{className:"ant-upload-list-item-thumbnail",href:"#",rel:""},wa()(l.iconHtml)),r.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:"women safety"},c(l.hotlineIconId)))))))),r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,(a={type:"secondary",className:"mr-4"},Object(ye.a)(a,"type","secondary"),Object(ye.a)(a,"style",{margin:"0 8px"}),Object(ye.a)(a,"htmlType","submit"),Object(ye.a)(a,"onClick",(function(e){e.preventDefault(),t()})),Object(ye.a)(a,"data-test","stepThreePrev"),a),"Back"),r.a.createElement(ce.a,{type:"primary",className:"md",htmlType:"submit",onClick:function(e){n()},"data-test":"stepThreeNext"},"Create")))},Ma=O.a.Content,La=we.a.Step,Ya=[{title:"Add Details",content:"First-content"},{title:"Assign Employee",content:"Second-content"},{title:"Create Directory",content:"Last-content"}],Ra=function(){var e=Object(n.useState)(0),a=Object(y.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)({directoryName:"",description:"",status:"",sDate:"",tDate:"",hotlineIconId:"",iconHtml:""}),c=Object(y.a)(s,2),o=c[0],m=c[1],d=Object(n.useState)({selectedRows:"",selectedRowKeys:[],chekedValues:[]}),u=Object(y.a)(d,2),p=u[0],h=u[1],g=function(){l(t+1)},E=function(){l(t-1)},v=function(e){switch(e){case"1":return"Sexual Harassment";case"2":return"Violence";case"3":return"Racism";case"4":return"Cyber Bullying";case"5":return"Fight";case"6":return"Discrimination";case"7":return"Slap";default:return""}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0","data-test":"hotlineCreation"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(Ma,{className:""},r.a.createElement(_.a,{className:"pt-3"},r.a.createElement(_e.a,{separator:">"},r.a.createElement(i.c,{to:"/orgcc/hotlinedirectory"},r.a.createElement(_e.a.Item,null,"Hotline Directory")),r.a.createElement(_e.a.Item,null,"Create Hotline Directory"))),r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Create Hotline Directory Entries")),r.a.createElement(we.a,{className:"mt-2",current:t},Ya.map((function(e){return r.a.createElement(La,{key:e.title,title:e.title})}))),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"steps-content"},0==t?r.a.createElement(ka,{next:g,stepOneHotLineInfo:o,handleStepOneOnChange:function(e){m(Object(Oe.a)({},o,Object(ye.a)({},e.target.id,e.target.value)))},handleStepOneOnSelect:function(e,a){m(Object(Oe.a)({},o,Object(ye.a)({},a,e)))},handleStepOneDatePickerChange:function(e,a){m(Object(Oe.a)({},o,Object(ye.a)({},a,e)))},addIcon:function(e,a){m(Object(Oe.a)({},o,{hotlineIconId:a,iconHtml:e}))},getIconText:v,"data-test":"CreateHotlineStepOne"}):1==t?r.a.createElement(Pa,{next:g,prev:E,stepOneHotLine:o,stepTwoHotLine:p,handleStepTwoOnSelect:function(e,a){var t,n=[],r=JSON.parse(f("user")),l=a.filter((function(e){var a,t=e.user_id;return!(null===(a=n)||void 0===a?void 0:a.some((function(e){return e.user_id===t})))})).reduce((function(e,a){return e.push({user_id:a.user_id,can_respond:1,can_view_reports:0,created_by:r.user_details.org_user_id}),e}),[]);n=null===(t=n)||void 0===t?void 0:t.concat(l),h(Object(Oe.a)({},p,{selectedRowKeys:e,selectedRows:a,chekedValues:n}))}}):2==t?r.a.createElement(Fa,{prev:E,createNewHotLine:function(){var e,a,t,n;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e=JSON.parse(f("user")),a=de(),t={create_hotline:{name:o.directoryName,help_text:o.description,start_date:o.sDate[0]?pe()(o.sDate[0]).format("DD-MM-YYYY"):"",end_date:o.sDate[1]?pe()(o.sDate[1]).format("DD-MM-YYYY"):"",status_id:o.status,hotline_icon_id:parseInt(o.hotlineIconId),created_by:e.user_details.org_user_id},permissions:p.chekedValues},n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},P.a.post(T+"hotline/",t,n).then((function(){window.location="/orgcc/hotlinedirectory"}));case 5:case"end":return r.stop()}}))},stepOneHotLine:o,stepTwoHotLine:p,getIconText:v}):"")))))))))},za=(t(362),t(152)),Ha=t.n(za),qa=O.a.Content,Ba=function(){var e=Object(n.useState)(!1),a=Object(y.a)(e,2),t=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,!0===!t?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(qa,{"data-test":"Directory",className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Hotline Directory")),r.a.createElement("div",{className:"mid-content d-flex justify-content-center align-items-center"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"c-vector-area"},r.a.createElement("img",{src:Ha.a,alt:"Create Hotline",className:"pr-4"})),r.a.createElement("p",{className:"text-center pt-3"},"Create Hotline entries and assign them to managers,",r.a.createElement("br",null),"head of departments or leadership."),r.a.createElement(_.a,{className:"d-flex justify-content-center"},r.a.createElement(fe.a,{className:"mt-1"})),r.a.createElement(j.a,{span:24,className:"d-flex align-items-center justify-content-center"},r.a.createElement(ce.a,{"data-test":"createHotline",onClick:function(){l(!0)},type:"primary"},"Create")))))))))):r.a.createElement(Ra,null))},Va=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(){t.setState({visible:!1}),t.deleteHotline()},t.handleCancel=function(){t.setState({visible:!1})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"deleteHotline",value:function(){var e=this,a=(this.props.history,{headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}});P.a.delete(T+"hotline/"+this.props.hotlineId,a).then((function(){e.props.deleteHandle(e.props.hotlineName),window.location="/orgcc/hotlinedirectory"})).catch((function(e){}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{onClick:this.showModal},"Delete"),r.a.createElement(De.a,{title:"Delete Hotline",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Yes",cancelText:"No"},r.a.createElement("p",null,"Are you sure you want to delete this hotline?")))}}]),a}(n.Component),Ga=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.hide=function(){t.setState({visible:!1})},t.hide=function(){t.setState({visible:!1})},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{placement:"bottom",content:(e=this.props.data,r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement(i.b,{to:{pathname:"/orgcc/edithotline",state:e}},r.a.createElement("li",null,r.a.createElement("a",{href:"/orgcc/edithotline"},"Edit")," ")),r.a.createElement("li",null,r.a.createElement(Va,{hotlineId:e.hotline_id,hotlineName:e.name,deleteHandle:e.deleteHandle}))))),trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},r.a.createElement("span",{className:"ico-grid-dots"},r.a.createElement("img",{src:Pe.a,alt:"DotIcon",className:"pr-4"}))));var e}}]),a}(r.a.Component),Wa=function(e){var a=e.data,t=e.deleteRecord,l=e.handleCheck,s=Object(n.useState)(),c=Object(y.a)(s,2),i=c[0],o=c[1];Object(n.useEffect)((function(){m()}),[a]);var m=function(){o(a)},d=[{title:"Name",dataIndex:"first_name",key:"first_name",width:"30%"},{title:"Respond",dataIndex:"can_respond",key:"can_respond",width:"20%",editable:!0,render:function(e,a){return r.a.createElement(j.a,{span:12,className:"d-flex justify-content-end changeColor"},r.a.createElement(Ia.a,{value:"reports",checked:e,onChange:function(e){return l(a)},disabled:!0}))}},{title:"Action",dataIndex:"user_id",key:"user_id",width:"20%",render:function(e,a){return r.a.createElement("span",{onClick:function(e){!function(e,a){a.preventDefault(),t(e)}(a,e)},className:"uploaded-icon icon icon-close d-inline-flex justify-content-end align-items-center"})}}];return r.a.createElement("div",{className:"no-bordered-grid"},r.a.createElement(re.a,{className:"no-bg-table",rowClassName:function(){return"editable-row"},columns:d,dataSource:i,rowKey:"rowkey"}))},Ja=t(825),Ka=(t(363),function(e){var a=e.searchData,t=e.addAssignUser,l=e.data,s=Object(n.useState)(!1),c=Object(y.a)(s,2),i=c[0],o=c[1],m=Object(n.useState)(""),d=Object(y.a)(m,2),u=d[0],p=d[1],h=Object(n.useState)(""),g=Object(y.a)(h,2),E=g[0],f=g[1];return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(Ce.a,{"data-test":"alert",message:"".concat(u," is already assigned for this hotline."),type:"error",showIcon:!0}),r.a.createElement(Ja.a,{"data-test":"Searchuser",value:E,options:a,placeholder:"Search Employee",filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())},onSelect:function(e,a){return function(e,a){l.filter((function(e){return e.user_id===a.user_id})).length>0?(o(!0),p(e),f("")):t(e,a)}(e,a)},onChange:function(){return o(!1),void p("")}}))}),Za=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1,assignedHotLines:"",hotLineName:"",assignedEmp:""},t.showModal=function(){t.setState({visible:!0,employeeData:[],hotLineName:t.props.selectedRows.name,hotlineId:t.props.selectedRows.hotline_id}),(0,t.props.dispatch)($e()),t.getAssignedEmployee()},t.getAssignedEmployee=function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getHotlineAssignEmpl/"+t.props.selectedRows.hotline_id,e).then((function(e){t.setState({assignedHotLines:e.data})}))},t.handleOk=function(e){t.setState({visible:!1});var a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.post(T+"hotlineAssignEmpl/",t.state.assignedEmp,a).then((function(e){t.getAssignedEmployee(),t.setState({assignedEmp:""})})).catch((function(e){}))},t.handleCheck=function(e){var a=Object(Ne.a)(t.state.assignedHotLines),n=a.findIndex((function(a){return a.user_id===e.user_id}));a[n]=Object(Oe.a)({},a[n],{can_respond:!e.can_respond}),t.setState({assignedHotLines:a});var r=Object(Ne.a)(t.state.assignedEmp),l=r.findIndex((function(a){return a.user_id===e.user_id}));r[l]=Object(Oe.a)({},r[l],{can_respond:!e.can_respond}),t.setState({assignedEmp:r})},t.handleCancel=function(){t.setState({visible:!1})},t.deleteRecord=function(e){e.user_id;var a=t.state.assignedEmp&&t.state.assignedEmp.filter((function(a){return a.user_id!==e.user_id}));t.setState({assignedEmp:a});var n={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},data:JSON.stringify({user_id:e.user_id})};P.a.delete(T+"getHotlineAssignEmpl/"+e.hotline_id,n).then((function(){t.getAssignedEmployee()})).catch((function(e){}))},t.addUser=function(e,a){var n=JSON.parse(f("user")),r=t.state,l=r.assignedHotLines,s=r.assignedEmp,c={hotline_id:t.state.hotlineId,user_id:parseInt(a.user_id),can_respond:!0,can_view_reports:!1,first_name:a.value},i={hotline_id:t.state.hotlineId,user_id:parseInt(a.user_id),can_respond:!0,can_view_reports:!1,created_by:n.user_details.org_user_id};t.setState({assignedHotLines:[].concat(Object(Ne.a)(l),[c]),assignedEmp:[].concat(Object(Ne.a)(s),[i])})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var a=this.props.manageEmpData,t=[];if(e.manageEmpData!=a){for(var n=0;n<a.length;n++)t.push({value:a[n].firstname.concat(" ",a[n].lastname),user_id:a[n].user_id});this.setState({employeeData:t})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{onClick:this.showModal},"Show"),r.a.createElement(De.a,{className:"modal-checkbox",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:590,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Done",cancelText:"Cancel"},r.a.createElement("div",null,"Employees with permissions to ",this.state.hotLineName),r.a.createElement(_.a,{className:"mt-2 mt-lg-5 mb-3 thead-outer"},r.a.createElement(j.a,{span:10},"Reply to Messages, Add Notes, Status & Urgency level")),r.a.createElement(Wa,{data:this.state.assignedHotLines,deleteRecord:this.deleteRecord,handleCheck:this.handleCheck}),r.a.createElement(_.a,{className:"mb-2 autocomplete"},r.a.createElement(j.a,{span:24},r.a.createElement(Ka,{searchData:this.state.employeeData,addAssignUser:this.addUser,data:this.state.assignedHotLines}),r.a.createElement("small",null,"Hit enter to add")))))}}]),a}(n.Component);var $a=Object(c.b)((function(e){return{assignhotlines:e.assignedHotline.assignhotlines,manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(Za),Qa=N.a.Search,Xa=(r.a.createElement(le.a,{style:{fontSize:16,color:"#1890ff"}}),O.a.Content),et=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).deleteHandle=function(e){w.a.config({placement:"bottomLeft"}),w.a.open({description:"".concat(e," has been deleted successfully.")})},t.onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})};var n=[{title:"Hotline Name",dataIndex:"name",key:"name",width:"22%",render:function(e){return{children:e,props:{"data-title":"Hotline Name"}}}},{title:"Start Date",dataIndex:"start_date",key:"start_date",width:"22%",render:function(e){return{children:e,props:{"data-title":"Start Date"}}}},{title:"End Date",dataIndex:"end_date",key:"end_date",width:"21%",render:function(e){return{children:e,props:{"data-title":"End Date"}}}},{title:"Permissions",dataIndex:"",key:"x",width:"20%",render:function(e){return{children:r.a.createElement("div",null,r.a.createElement($a,{selectedRows:e})),props:{"data-title":"Permissions"}}}},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(e){return{children:5===e.status_id?r.a.createElement("div",{className:"primary-tag-rounded tag"},r.a.createElement("span",{className:"circle mr-1"}),"Active"):r.a.createElement("div",{className:"secondary-tag-rounded tag"},"Inactive"),props:{"data-title":"Status"}}}},{title:"",dataIndex:"",key:"x",width:"5%",render:function(e){return{children:r.a.createElement(Ga,{data:e,deleteHandle:t.deleteHandle}),props:{"data-title":"Action"}}}}];return t.state={columns:n,data:[]},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.hotlines;a.forEach((function(e){e.start_date=pe()(e.start_date).utc().local().format("MM / DD / YYYY"),e.end_date=pe()(e.end_date).utc().local().format("MM / DD / YYYY")})),this.setState({data:a},(function(){e.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].toUpperCase().includes(a.toUpperCase())}))})):e}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(Xa,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",null,"Hotline Directory")),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"pt-1 pb-3 px-3 px-lg-0 sm-direction-reverse"},r.a.createElement(j.a,{span:24,lg:18,className:"search-row mt-2 mt-lg-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:9,className:"search-box"},r.a.createElement(Qa,{placeholder:"Search",onSearch:this.onSearch})))),r.a.createElement(j.a,{span:24,lg:6,className:"d-flex align-items-center justify-content-end"},r.a.createElement(i.b,{to:"/orgcc/createhotline"},r.a.createElement(ie,{value:"Create Hotline"}))))),r.a.createElement(se,{rowKey:"hotline_id",columns:this.state.columns,data:this.state.filterData}))))))}}]),a}(r.a.Component);var at=Object(c.b)((function(e){return{hotlinesdata:e.hotlinedata.hotlinesdata}}))((function(e){return Object(n.useEffect)((function(){(0,e.dispatch)((function(e){return Ke.getHotlines().then((function(a){return e({type:"HOTLINE_SUCCESS",payload:{hotlinesdata:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"HOTLINE_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}))}),[]),e.hotlinesdata.length>0?r.a.createElement(et,{hotlines:e.hotlinesdata}):r.a.createElement(Ba,null)})),tt=t(831),nt=t(836),rt=t(415),lt=(t(364),t(785),t(102)),st=function(e){var a=Object(n.useState)([]),t=Object(y.a)(a,2),l=t[0],s=t[1],c=Object(n.useState)([]),i=Object(y.a)(c,2),o=i[0],m=i[1],d=Object(n.useState)([]),u=Object(y.a)(d,2),p=u[0],h=u[1],g=Object(n.useState)([]),E=Object(y.a)(g,2),v=E[0],b=E[1],N=Object(n.useState)([]),O=Object(y.a)(N,2),w=O[0],S=O[1],C=Object(n.useState)([]),k=Object(y.a)(C,2),I=k[0],x=k[1],D=Object(n.useState)([]),A=Object(y.a)(D,2),U=A[0],F=A[1],M=Object(n.useState)([]),L=Object(y.a)(M,2),Y=L[0],R=L[1],z=Object(n.useState)([]),H=Object(y.a)(z,2),q=H[0],B=H[1],V=Object(n.useState)([]),G=Object(y.a)(V,2),W=G[0],J=G[1],K=Object(n.useState)([]),Z=Object(y.a)(K,2),$=Z[0],Q=Z[1],X=Object(n.useState)([]),ee=Object(y.a)(X,2),ae=ee[0],te=ee[1],ne=Object(n.useState)([]),re=Object(y.a)(ne,2),le=re[0],se=re[1];Object(n.useEffect)((function(){var e=de(),a=JSON.parse(f("user")),t={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getUserallHotlines/"+a.user_data.user_id,t).then((function(e){var a=[];e.data.map((function(e){return a.push({label:e.hotline_name,value:e.hotline_id})})),b(a)}))}),[]),Object(n.useEffect)((function(){void 0===e.removeFilter.type||e.visible||ue(!1)}),[o,l,p]),Object(n.useEffect)((function(){if("urgencyLevel"===e.removeFilter.type){var a=$.filter((function(a){return a.value!==e.removeFilter.value})),t=o.filter((function(a){return a!==e.removeFilter.value}));m(t),Q(a)}if("urgencyHotline"===e.removeFilter.type){var n=ae.filter((function(a){return a.value!==e.removeFilter.value})),r=p.filter((function(a){return a!==e.removeFilter.value}));h(r),te(n)}if("urgencyStatus"===e.removeFilter.type){var c=le.filter((function(a){return a.value!==e.removeFilter.value})),i=l.filter((function(a){return a!==e.removeFilter.value}));s(i),se(c)}}),[e.removeFilter]);var ie=[{label:"Low",value:1},{label:"Medium",value:2},{label:"High",value:3}],oe=[{label:"New",value:1},{label:"Open",value:2},{label:"Closed",value:3}],me=v,ue=function(a){var t=Object(Oe.a)({},l.length>0&&{status_id:l},{},o.length>0&&{urgency_level_id:o},{},p.length>0&&{hotline_id:p});F(l),S(o),x(p),B(ae),J(le),R($);var n=de(),r=JSON.parse(f("user")),s={headers:{Authorization:n,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},c=T+"hotlineResponderConversation/?user_id="+r.user_details.org_user_id,i=""===e.searchString?c+"&filter="+JSON.stringify(t):c+"&filter="+JSON.stringify(t)+"&search="+e.searchString;P.a.get(i,s).then((function(a){e.loadFilteredConversations(a.data,"apply",$,le,ae)})),a&&e.hide()};return r.a.createElement("div",null,r.a.createElement(j.a,{span:24,style:{width:"325px"}},r.a.createElement("div",{className:""},r.a.createElement(_.a,{className:"filter-wrapper align-items-center px-3 py-2"},r.a.createElement(j.a,{span:"12"},r.a.createElement("h6",null,"Filter")),r.a.createElement(j.a,{span:"12",className:"d-flex justify-content-end"},r.a.createElement(ce.a,{type:"link",className:"link pl-0 pt-0",onClick:function(){return function(){var a=de(),t=JSON.parse(f("user")),n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},r=T+"hotlineResponderConversation/?user_id="+t.user_details.org_user_id;P.a.get(r,n).then((function(a){e.loadFilteredConversations(a.data,"reset",[],[],[]),m([]),Q([]),s([]),se([]),te([]),h([])})),e.hide()}()}},"Reset"))),r.a.createElement(fe.a,{className:"mt-0 mb-1 w-100"}),r.a.createElement(lt.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:450,thumbMinSize:30,universal:!0},r.a.createElement(_.a,{className:"filter-wrapper align-items-center px-3 py-2"},r.a.createElement("div",{className:"w-100 mb-4"},r.a.createElement(j.a,{span:"24",className:"filter-type mb-3"},r.a.createElement("h6",null,"Urgency level")),r.a.createElement(j.a,{span:"24"},r.a.createElement(Ia.a.Group,{className:"d-flex flex-column flex-gap",name:"urgencyLevel",options:ie,value:o,onChange:function(e){var a=$;e.length>0?e.map((function(e){a.find((function(a){return a.value===e}))?a=a.filter((function(a){return a.value===e})):a.push(ie.find((function(a){return a.value===e})))})):a=[],Q(a),m(e)}}))),r.a.createElement("div",{className:"w-100 mb-4"},r.a.createElement(j.a,{span:"24",className:"filter-type mb-3"},r.a.createElement("h6",null,"Status")),r.a.createElement(j.a,{span:"24"},r.a.createElement(Ia.a.Group,{className:"d-flex flex-column flex-gap",name:"status",value:l,options:oe,onChange:function(e){var a=le;e.length>0?e.map((function(e){a.find((function(a){return a.value===e}))?a=a.filter((function(a){return a.value===e})):a.push(oe.find((function(a){return a.value===e})))})):a=[],se(a),s(e)}}))),r.a.createElement("div",{className:"w-100 mb-4"},r.a.createElement(j.a,{span:"24",className:"filter-type mb-3"},r.a.createElement("h6",null,"Hotline")),r.a.createElement(j.a,{span:"24"},r.a.createElement(Ia.a.Group,{className:"d-flex flex-column flex-gap",name:"hotline",options:me,value:p,onChange:function(e){var a=ae;e.length>0?e.map((function(e){a.find((function(a){return a.value===e}))?a=a.filter((function(a){return a.value===e})):a.push(me.find((function(a){return a.value===e})))})):a=[],te(a),h(e)}})))))),r.a.createElement(_.a,null,r.a.createElement(j.a,{span:"24",className:"btn-row actions"},r.a.createElement(ce.a,{type:"primary",className:"mr-2",onClick:function(){return ue(!0)}},"Apply"),r.a.createElement(ce.a,{type:"secondary",onClick:function(a){m(w),s(U),h(I),Q(Y),se(W),te(q),e.hide()}},"Cancel")))))},ct=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.hide=function(){t.setState({visible:!1})},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{placement:"bottom",content:r.a.createElement(st,{hide:this.hide,searchString:this.props.searchString,removeFilter:this.props.removeFilter,loadFilteredConversations:this.props.loadFilteredConversations,visible:this.state.visible}),trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},r.a.createElement("span",{className:"icon icon-filter"})))}}]),a}(r.a.Component),it=t(392),ot=t.n(it),mt=N.a.TextArea,dt=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).showModal=function(){t.setState({visible:!0})},t.handleOk=function(){t.setState({visible:!1});var e=de(),a=JSON.parse(f("user")),n={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},r={note_text:t.state.noteText,conversation_id:t.props.convoId,created_by:a.user_details.org_user_id};P.a.post(T+"addNotes/",r,n).then((function(e){200===e.status&&(t.setState({noteText:""}),t.formRef.current.resetFields(),t.props.getNoteData(e.data.conversation_id))}))},t.handleCancel=function(){t.setState({visible:!1,noteText:""}),t.formRef.current.resetFields()},t.handleChange=function(e){t.setState({noteText:e.target.value})},t.formRef=r.a.createRef(),t.state={visible:!1,noteText:""},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0"},r.a.createElement("span",{className:"icon icon-add-filled"}),"Take a note.."),r.a.createElement(De.a,{className:"note-modal",title:"Take a Note",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:500,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Add",cancelText:"Cancel"},r.a.createElement(_.a,{className:"pt-2","data-test":"NoteModal"},r.a.createElement(je.a,{className:"input-md w-100",name:"validate-other",ref:this.formRef},r.a.createElement(je.a.Item,{className:"mb-0",name:"send message"},r.a.createElement(mt,{className:"input-control",placeholder:"Add note here...",htmlFor:"send message",value:this.state.noteText,onChange:function(a){return e.handleChange(a)}}))))))}}]),a}(r.a.Component),ut=tt.a.Paragraph,pt=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={expand:!1,counter:0,notesData:[],conversationId:""},t.typoExpand=function(){t.setState({expand:!0,counter:t.state.expand?t.state.counter+1:t.state.counter+0})},t.typoClose=function(){t.setState({expand:!1,counter:t.state.expand?t.state.counter+1:t.state.counter+0})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"renderParagraph",value:function(e){return r.a.createElement("div",{className:"note-wrapper m-2",key:this.state.counter},r.a.createElement("span",{className:"note-user"},pe()(e.created_on).utc().local().format("MM:DD:YY \u2022 hh:mm A \u2022")," ",e.first_name," ",e.last_name),r.a.createElement(ut,{ellipsis:{rows:3,expandable:!0,symbol:"Show more",onExpand:this.typoExpand}},e.note_text))}},{key:"render",value:function(){var e=this;return this.props.addedNote.map((function(a){return r.a.createElement("div",{className:"show-less","data-test":"addedNotes"},e.renderParagraph(a),e.state.expand&&r.a.createElement("a",{"data-test":"showLess",className:"d-flex justify-content-end",onClick:e.typoClose},"Show less"))}))}}]),a}(n.Component),ht=(tt.a.Paragraph,function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).onChange=function(e){t.setState({rows:e})},t.state={rows:1,notes:[],conversationId:""},t.getNotes=t.getNotes.bind(Object(R.a)(t)),t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({conversationId:this.props.conversation_id}),this.getNotes(this.props.conversation_id)}},{key:"getNotes",value:function(e){var a=this,t={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},params:{conversation_id:e}};P.a.get(T+"getNotes/",t).then((function(e){a.setState({notes:e.data})}))}},{key:"render",value:function(){var e=this,a=this.state.notes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"rgt-panel",className:this.props.class,"data-test":"Notes"},r.a.createElement("p",null,r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"filter-wrapper align-items-center justify-content-between px-3 pt-3"},r.a.createElement(j.a,{span:"12"},r.a.createElement("h6",null,"Notes")),r.a.createElement(ce.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0 align-items-center d-flex"},r.a.createElement("span",{className:"icon icon-close small",onClick:function(a){return e.props.notesClicked(a)}}))),r.a.createElement(fe.a,{className:"my-2 w-100"}),r.a.createElement(j.a,{span:"24",className:"px-3"},r.a.createElement(dt,{convoId:this.props.conversation_id,getNoteData:this.getNotes}),r.a.createElement(_.a,{className:"added-notes"},r.a.createElement(pt,{addedNote:a}))))))))}}]),a}(n.Component)),gt=t(838),Et=[{id:1,name:"Updated the Status to"},{id:2,name:"Updated the Urgency level to"},{id:3,name:"Added new Note"},{id:4,name:"View Hotline Converations"}],ft=[{id:1,name:"New"},{id:2,name:"Open"},{id:3,name:"Closed"}],vt=[{id:1,name:"Low"},{id:2,name:"Medium"},{id:3,name:"High"}],bt=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(u.a)(this,Object(p.a)(a).call(this))).state={myclass:"",activity:[]},e.divclicked=e.divclicked.bind(Object(R.a)(e)),e}return Object(h.a)(a,e),Object(d.a)(a,[{key:"divclicked",value:function(){""===this.state.myclass?this.setState({myclass:"rgt-panel"}):this.setState({myclass:""})}},{key:"componentDidMount",value:function(){this.getAcitivity(this.props.conversation_id)}},{key:"getAcitivity",value:function(e){var a=this,t={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getconversationActivity/?conversation_id="+e,t).then((function(e){a.setState({activity:e.data})}))}},{key:"mapAuditLog",value:function(e){var a="";return Et.map((function(t){t.id===e.audit_log_event_id&&(a=t.name,e.status_value&&ft.map((function(t){e.status_value==t.id&&(a=a+" <b>"+t.name+"</b>")})),e.urgency_level_value&&vt.map((function(t){e.urgency_level_value==t.id&&(a=a+" <b>"+t.name+"</b>")})))})),a}},{key:"render",value:function(){var e=this,a=this.state.activity;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"rgt-panel",className:this.props.class},r.a.createElement("p",null,r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"filter-wrapper align-items-center justify-content-between px-3 pt-3"},r.a.createElement(j.a,{span:"12"},r.a.createElement("h6",null,"Activity")),r.a.createElement(ce.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0 align-items-center d-flex"},r.a.createElement("span",{className:"icon icon-close small",onClick:function(a){return e.props.activityClicked(a)}}))),r.a.createElement(fe.a,{className:"my-2 w-100"}),r.a.createElement(lt.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:450,thumbMinSize:30,universal:!0},r.a.createElement(j.a,{span:"24",className:"px-3 pt-2"},r.a.createElement(gt.a,null,a.map((function(a){return r.a.createElement(gt.a.Item,null,r.a.createElement("span",{className:"note-user"},pe()(a.created_on).utc().local().format("MM:DD:YY \u2022 hh:mm A\u2022")," ",a.name),r.a.createElement("br",null),wa()(e.mapAuditLog(a)))}))))))))))}}]),a}(n.Component),yt=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(u.a)(this,Object(p.a)(a).call(this))).state={myclass:"",assigneEmp:[]},e.divclicked=e.divclicked.bind(Object(R.a)(e)),e}return Object(h.a)(a,e),Object(d.a)(a,[{key:"divclicked",value:function(){""===this.state.myclass?this.setState({myclass:"rgt-panel"}):this.setState({myclass:""})}},{key:"componentDidMount",value:function(){this.getAssigne(this.props.hotline_id)}},{key:"getAssigne",value:function(e){var a=this,t={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getHotlineAssignee/"+e,t).then((function(e){a.setState({assigneEmp:e.data})}))}},{key:"render",value:function(){var e=this,a=this.state.assigneEmp;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"rgt-panel",className:this.props.class},r.a.createElement("p",null,r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"filter-wrapper align-items-center justify-content-between px-3 pt-3"},r.a.createElement(j.a,{span:"12"},r.a.createElement("h6",null,"Assigned To")),r.a.createElement(ce.a,{onClick:this.showModal,type:"link",className:"link pl-0 pt-0 align-items-center d-flex"},r.a.createElement("span",{className:"icon icon-close small",onClick:function(a){return e.props.assigneClicked(a)}}))),r.a.createElement(fe.a,{className:"my-2 w-100"}),r.a.createElement(j.a,{span:"24",className:"px-3 pt-2 assignees d-flex flex-column flex-gap"},a.map((function(e){return r.a.createElement(rt.a,null,e["Assigned User_name"])}))))))))}}]),a}(n.Component),Nt=t(158),Ot=N.a.TextArea,wt=[{id:1,name:"New"},{id:2,name:"Open"},{id:3,name:"Closed"}],_t=[{id:1,name:"Low"},{id:2,name:"Medium"},{id:3,name:"High"}],jt=function(e){var a,t,l=e.conversation,s=e.urgencyLevel,c=e.status,i=e.onChangeUrgencyLevel,o=e.onChangeStatus,m=e.searchString,d=e.newState,u=e.setCounter,p=e.socket,h=e.chatdiv,g=je.a.useForm(),E=Object(y.a)(g,1)[0],v=Object(n.useState)([]),b=Object(y.a)(v,2),N=b[0],O=b[1],w=Object(n.useState)(""),S=Object(y.a)(w,2),C=S[0],k=S[1],I=Object(n.useState)({noteDivClicked:!1,myClass:""}),x=Object(y.a)(I,2),D=x[0],U=x[1],F=Object(n.useState)({activityDivClicked:!1,myClass:""}),M=Object(y.a)(F,2),L=M[0],Y=M[1],R=Object(n.useState)({assigneDivClicked:!1,myClass:""}),z=Object(y.a)(R,2),H=z[0],q=z[1],B=Object(n.useState)(!1),V=Object(y.a)(B,2),G=V[0],W=V[1];Object(n.useEffect)((function(){J(),Z();var e=document.getElementById("activityId"),a=document.getElementById("noteId"),t=document.getElementById("assigneId");""!=H.myClass&&(q({myClass:"",assigneDivClicked:!1}),t.classList.remove("selected")),""!=D.myClass&&(U({myClass:"",noteDivClicked:!1}),a.classList.remove("selected")),""!=L.myClass&&(Y({myClass:"",activityDivClicked:!1}),e.classList.remove("selected"))}),[l.conversation_id,d]),Object(n.useEffect)((function(){if(N.length>0){var e=document.getElementsByClassName("hotline_message")[document.getElementsByClassName("hotline_message").length-1];e&&e.scrollIntoView(!1,{block:"end"})}}),[N]);var J=function(){var e,a,t,n,r,s;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:e=de(),a=JSON.parse(f("user")),t={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},n="",n=l.conversation_id.includes("<mark")?null===(r=l.conversation_id)||void 0===r?void 0:r.toString().replace(/(<([^>]+)>)/gi,""):l.conversation_id,s={conversation_id:n,user_id:a.user_details.org_user_id},P.a.post(T+"hotlineConvoMessages/",s,t).then((function(e){return A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:O(e.data);case 1:case"end":return a.stop()}}))}));case 7:case"end":return c.stop()}}))},K=function(){var e=de(),a=JSON.parse(f("user"));if(C){var t,n={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},r="";if(l.conversation_id.includes("<mark"))r=null===(t=l.conversation_id)||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,"");else r=l.conversation_id;var s={user_id:a.user_details.org_user_id,hotline_id:l.hotline_id,conversation_id:r,message:C,created_by:a.user_details.org_user_id};P.a.post(T+"receiveHotlineMessage/",s,n).then((function(e){201===e.status&&(1!==e.data.status_id&&3!==e.data.status_id||o(2,r),u(e),k(""),p.send(JSON.stringify(e.data)))}))}E.setFieldsValue({chatArea:""})},Z=function(){O((function(e){var a,t,n=[];if(e&&e.length&&(null===(a=d.conversation_id)||void 0===a?void 0:a.toString().replace(/(<([^>]+)>)/gi,""))===(null===(t=e[0].conversation_id)||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,""))){var r=e.filter((function(e){var a,t;return(null===(a=e.conversation_id)||void 0===a?void 0:a.toString().replace(/(<([^>]+)>)/gi,""))===(null===(t=d.conversation_id)||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,""))}));n=[].concat(Object(Ne.a)(r),[d])}else n=Object(Ne.a)(e);return n}))},$=function(e){var a=document.getElementById("noteId");Nt.isMobile&&W(!0),""!=L.myClass&&Y({myClass:"",activityDivClicked:!1}),""!=H.myClass&&q({myClass:"",assigneDivClicked:!1}),""===D.myClass?(a.classList.add("selected"),U({myClass:"rgt-panel",noteDivClicked:!0})):(a.classList.remove("selected"),U({myClass:"",noteDivClicked:!1})),document.getElementById("activityId").classList.remove("selected"),document.getElementById("assigneId").classList.remove("selected")},Q=function(e){var a=document.getElementById("activityId");Nt.isMobile&&W(!0),""!=D.myClass&&U({myClass:"",noteDivClicked:!1}),""!=H.myClass&&q({myClass:"",assigneDivClicked:!1}),""===L.myClass?(a.classList.add("selected"),Y({myClass:"rgt-panel",activityDivClicked:!0})):(a.classList.remove("selected"),Y({myClass:"",activityDivClicked:!1})),document.getElementById("noteId").classList.remove("selected"),document.getElementById("assigneId").classList.remove("selected")},X=function(e){var a=document.getElementById("assigneId");Nt.isMobile&&W(!0),""!=D.myClass&&U({myClass:"",noteDivClicked:!1}),""!=L.myClass&&Y({myClass:"",activityDivClicked:!1}),""===H.myClass?(a.classList.add("selected"),q({myClass:"rgt-panel",assigneDivClicked:!0})):(a.classList.remove("selected"),q({myClass:"",assigneDivClicked:!1})),document.getElementById("activityId").classList.remove("selected"),document.getElementById("noteId").classList.remove("selected")},ee=function(e){return{__html:e}};if(m){var ae,te,ne,re,le;if(l.responder_conversation_name.includes("</mark>"))l.responder_conversation_name=null===(te=l.responder_conversation_name)||void 0===te?void 0:te.toString().replace(/(<([^>]+)>)/gi,""),l.responder_conversation_name=l.responder_conversation_name.replace(new RegExp(m,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")}));if(l.hotline_name.includes("</mark>"))l.hotline_name=null===(ne=l.hotline_name)||void 0===ne?void 0:ne.toString().replace(/(<([^>]+)>)/gi,""),l.hotline_name=l.hotline_name.replace(new RegExp(m,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")}));if(null===(ae=l.conversation_id)||void 0===ae?void 0:ae.toString().includes("</mark>"))l.conversation_id=null===(re=l.conversation_id)||void 0===re?void 0:re.toString().replace(/(<([^>]+)>)/gi,""),l.conversation_id=null===(le=l.conversation_id)||void 0===le?void 0:le.toString().replace(new RegExp(m,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")}));N.map((function(e){var a;e.message.includes("</mark>")?(e.message=null===(a=e.message)||void 0===a?void 0:a.toString().replace(/(<([^>]+)>)/gi,""),e.message=e.message.replace(new RegExp(m,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")}))):(e.message=e.message.replace(/(?:\r\n|\r|\n)/g,"<br />"),e.message=e.message.replace(new RegExp(m,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})));return Object(Oe.a)({},e,{message:e.message})}))}else{var se,ce,ie;l.responder_conversation_name=null===(se=l.responder_conversation_name)||void 0===se?void 0:se.toString().replace(/(<([^>]+)>)/gi,""),l.hotline_name=null===(ce=l.hotline_name)||void 0===ce?void 0:ce.toString().replace(/(<([^>]+)>)/gi,""),l.conversation_id=null===(ie=l.conversation_id)||void 0===ie?void 0:ie.toString().replace(/(<([^>]+)>)/gi,""),N.map((function(e){var a;return e.message=null===(a=e.message)||void 0===a?void 0:a.toString().replace(/(?:\r\n|\r|\n)/g,"<br />"),Object(Oe.a)({},e,{message:e.message})}))}var oe=N.length-l.unread_messages_count;return r.a.createElement(j.a,{span:24,lg:18,className:h?"chat-section d-lg-flex":"chat-section d-lg-flex d-none","data-test":"messages"},r.a.createElement(j.a,{span:24,className:"h-100"},r.a.createElement(_.a,{className:"top-filter-pan p-2 p-lg-4 d-flex align-items-center"},r.a.createElement(j.a,{span:24,lg:10},r.a.createElement("div",{className:""},r.a.createElement("h6",{dangerouslySetInnerHTML:ee(l.responder_conversation_name)}),r.a.createElement("p",{style:{margin:0,display:"inline",float:"left"},dangerouslySetInnerHTML:ee(l.hotline_name)}),"\xa0|\xa0",r.a.createElement("p",{style:{margin:0,display:"inline",float:"center"},dangerouslySetInnerHTML:ee(l.conversation_id)}))),r.a.createElement(j.a,{span:24,lg:14},r.a.createElement("div",{className:"d-flex justify-content-end pt-3 pt-sm-1 pt-md-0"},r.a.createElement("div",{className:"selection-panel pr-3"},r.a.createElement("label",null,"Urgency level"),r.a.createElement(ke.a,{bordered:!1,value:s,onChange:function(e){var a;return i(e,null===(a=l.conversation_id)||void 0===a?void 0:a.toString().replace(/(<([^>]+)>)/gi,""))}},_t.map((function(e){return r.a.createElement(Option,{value:e.id},e.name)})))),r.a.createElement("div",{className:"selection-panel pr-3"},r.a.createElement("label",null,"Status"),r.a.createElement(ke.a,{bordered:!1,value:c,onChange:function(e){var a;return o(e,null===(a=l.conversation_id)||void 0===a?void 0:a.toString().replace(/(<([^>]+)>)/gi,""))}},wt.map((function(e){return 2!==c&&3!==c||1!==e.id?r.a.createElement(Option,{value:e.id},e.name):r.a.createElement(Option,{value:e.id,disabled:!0},e.name)})))),r.a.createElement("div",{className:"icon-row d-flex align-items-center"},r.a.createElement(j.a,{span:24,md:8},r.a.createElement("span",{id:"noteId",className:"icon icon-create",onClick:function(e){return $()}})),r.a.createElement(j.a,{span:24,md:8},r.a.createElement("span",{id:"activityId",className:"icon icon-activity",onClick:function(e){return Q()}})),r.a.createElement(j.a,{span:24,md:8},r.a.createElement("span",{id:"assigneId",className:"icon icon-assign",onClick:function(e){return X()}})))))),r.a.createElement(_.a,{className:"row-hgt"},r.a.createElement("div",{className:D.noteDivClicked||L.activityDivClicked||H.assigneDivClicked?G?"w-75 d-none":"w-75":"w-100"},r.a.createElement("div",{className:"msg_main"},r.a.createElement(lt.Scrollbars,{autoHeightMax:450,universal:!0},r.a.createElement(j.a,{span:24,className:"msg-history p-4"},N.map((function(e,a){return r.a.createElement("div",null,oe===a?r.a.createElement(fe.a,{plain:!0},"Last Read"):null,r.a.createElement("div",{className:e.is_responder_message?"outgoing-msg hotline_message mb-3":"incoming-msg hotline_message mb-2"},r.a.createElement("div",{className:e.is_responder_message?"sent-msg":"received-msg"},r.a.createElement("p",{ellipsis:!0,dangerouslySetInnerHTML:ee(e.message)}),r.a.createElement("span",{className:"time-date"}," ",pe()(e.created_on).isSame(pe()(),"day")?pe()(e.created_on).utc().local().format("hh:mm A"):pe()(e.created_on).utc().local().format("MM:DD:YY | hh:mm A "),e.is_responder_message&&" | ".concat(e.first_name," ").concat(e.last_name)))))}))))),r.a.createElement(j.a,{span:24,className:D.noteDivClicked||L.activityDivClicked||H.assigneDivClicked?"send-msg w-75":"send-msg w-100"},r.a.createElement("div",{className:"type-msg"},r.a.createElement(je.a,{className:"input-md w-100",name:"validate-other",form:E},r.a.createElement(Ot,{className:"input-control",id:"chatArea",placeholder:"Replying as Hotline representative",onChange:function(e){return function(e){k(e.target.value)}(e)},value:C,onKeyDown:function(e){if(e.altKey&&13===e.keyCode){var a=document.querySelector(".input-control");a.value=a.value+"\r\n"}e.altKey||13!==e.keyCode||(e.preventDefault(),K())}})),r.a.createElement("span",{className:"ml-3 send",onClick:function(){return K()}},r.a.createElement("img",{src:ot.a,alt:"send message"}))))),r.a.createElement("div",{className:"w-25 d-flex justify-content-end width-sm-100"},D.noteDivClicked?r.a.createElement(ht,{class:D.myClass,conversation_id:null===(a=l.conversation_id)||void 0===a?void 0:a.toString().replace(/(<([^>]+)>)/gi,""),notesClicked:function(){return $()}}):null,L.activityDivClicked?r.a.createElement(bt,{class:L.myClass,conversation_id:null===(t=l.conversation_id)||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,""),activityClicked:function(){return Q()}}):null,H.assigneDivClicked?r.a.createElement(yt,{class:H.myClass,hotline_id:l.hotline_id,assigneClicked:function(){return X()}}):null))))},St=t(397),Ct=t.n(St),kt=t(844),It=tt.a.Paragraph,xt=N.a.Search,Dt=O.a.Content,At=function(){var e=Object(n.useState)([]),a=Object(y.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)([]),c=Object(y.a)(s,2),i=c[0],o=c[1],m=Object(n.useState)(!0),d=Object(y.a)(m,2),u=d[0],p=d[1],h=Object(n.useState)([]),g=Object(y.a)(h,2),b=g[0],N=g[1],w=Object(n.useState)([]),S=Object(y.a)(w,2),C=S[0],k=S[1],I=Object(n.useState)([]),x=Object(y.a)(I,2),D=x[0],A=x[1],U=Object(n.useState)({}),F=Object(y.a)(U,2),M=F[0],L=F[1],Y=Object(n.useState)(""),R=Object(y.a)(Y,2),z=R[0],H=R[1],q=Object(n.useState)(""),B=Object(y.a)(q,2),V=B[0],G=B[1],W=Object(n.useState)(""),K=Object(y.a)(W,2),Z=K[0],$=K[1],Q=Object(n.useState)(""),X=Object(y.a)(Q,2),ee=X[0],ae=X[1],te=Object(n.useState)(null),ne=Object(y.a)(te,2),re=ne[0],le=ne[1],se=Object(n.useState)({}),ce=Object(y.a)(se,2),ie=ce[0],oe=ce[1],me=Object(n.useState)(0),ue=Object(y.a)(me,2),he=ue[0],ge=ue[1],Ee=Object(n.useState)([]),fe=Object(y.a)(Ee,2),ve=fe[0],be=fe[1],ye=Object(n.useState)(!1),we=Object(y.a)(ye,2),_e=we[0],Se=we[1],Ce=Object(n.useState)(!1),ke=Object(y.a)(Ce,2),Ie=ke[0],xe=ke[1],De=Object(n.useRef)(null),Ae=je.a.useForm(),Ue=Object(y.a)(Ae,1)[0];Object(n.useEffect)((function(){qe(),Pe(),Ye()}),[]),Object(n.useEffect)((function(){var e=[],a=[];null===ve||void 0===ve||ve.map((function(a){var t=a.conversation_id,n="";n=(null===t||void 0===t?void 0:t.includes("</mark>"))?null===t||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,""):t,e.push(n)})),a=e.includes(null===ie||void 0===ie?void 0:ie.conversation_id)?ve:[].concat(Object(Ne.a)(ve),[ie]),be(a),Le(ie,ve)}),[ie,ve]);var Pe=function(){De.current=new WebSocket("ws://10.0.6.10:8000/ws/hotlineMessages/"),De.current.onopen=function(){le(De.current)},De.current.onmessage=function(e){console.log("WEBSOCKET Event Received!",e);var a=JSON.parse(e.data);oe(a),Te(a)},De.current.onclose=function(){console.log("WEBSOCKET Closed!")},De.current.onerror=function(e){console.log("WEBSOCKET Error!",e)}},Te=function(e){var a=JSON.parse(f("user"));e.accessed_users.includes(a.user_data.user_id)&&l((function(t){var n=f("urgencyLevels")&&f("urgencyLevels").split(","),r=f("status")&&f("status").split(","),l=f("hotline")&&f("hotline").split(","),s=f("searchBy")&&f("searchBy").toString(),c=[];t.map((function(e){var a=e.conversation_id,t="";t=a.includes("</mark>")?a.toString().replace(/(<([^>]+)>)/gi,""):a,c.push(t)}));e.conversation_id,a.user_details.org_user_id;var i=e,o=t,m=!1,d=!1,u=!1,p=!1,h=[],g={urgency:"",status:"",hotline:"",searchBy:""};null!==n&&(null===n||void 0===n?void 0:n.length)>0&&(m=!0,g=Object(Oe.a)({},g,{urgency:n})),null!==r&&(null===r||void 0===r?void 0:r.length)>0&&(d=!0,g=Object(Oe.a)({},g,{status:r})),null!==l&&(null===l||void 0===l?void 0:l.length)>0&&(u=!0,g=Object(Oe.a)({},g,{hotline:l})),null!==s&&(null===s||void 0===s?void 0:s.length)>0&&(p=!0,g=Object(Oe.a)({},g,{searchBy:s})),(m||d||u||p)&&(o=ze(g,e,o,c)),p&&(h=[e.conversation_id,e.responder_conversation_name,e.hotline_name,e.message].map((function(e){return e.toLowerCase().includes(s.toLowerCase())}))),p||m||d||u||c.includes(e.conversation_id)||(o=[].concat(Object(Ne.a)(o),[e]));var E=o.map((function(t){return t.conversation_id.toString().replace(/(<([^>]+)>)/gi,"")===e.conversation_id&&e.created_by!==a.user_data.user_id?(t.responder_conversation_name.includes("</mark>")&&(i=Object(Oe.a)({},i,{responder_conversation_name:t.responder_conversation_name})),t.conversation_id.includes("</mark>")&&(i=Object(Oe.a)({},i,{conversation_id:t.conversation_id})),t.hotline_name.includes("</mark>")&&(i=Object(Oe.a)({},i,{hotline:{name:t.hotline_name}})),i=Object(Oe.a)({},i,{unread_messages_count:t.unread_messages_count+1})):t.conversation_id.toString().replace(/(<([^>]+)>)/gi,"")===e.conversation_id&&e.created_by===a.user_data.user_id?(t.responder_conversation_name.includes("</mark>")&&(i=Object(Oe.a)({},i,{responder_conversation_name:t.responder_conversation_name})),t.conversation_id.includes("</mark>")&&(i=Object(Oe.a)({},i,{conversation_id:t.conversation_id})),t.hotline_name.includes("</mark>")&&(i=Object(Oe.a)({},i,{hotline:{name:t.hotline_name}})),i):t}));m||d||u||p||Me(e,o);return m&&!n.includes(e.urgency_level_id.toString())?E:d&&!r.includes(e.status_id.toString())?E:u&&!l.includes(e.hotline_id.toString())?E:p&&!h.includes(!0)?E:Fe(E,e,i)}))},Fe=function(e,a,t){var n=0,r=e;return e.map((function(t){if((null===t||void 0===t?void 0:t.conversation_id.toString().replace(/(<([^>]+)>)/gi,""))===(null===a||void 0===a?void 0:a.conversation_id))return n=e.indexOf(t)})),r.splice(n,1),[t].concat(Object(Ne.a)(r))},Me=function(e,a){for(var t=JSON.parse(f("user")),n=a.filter((function(a){return(null===a||void 0===a?void 0:a.conversation_id.toString().replace(/(<([^>]+)>)/gi,""))===(null===e||void 0===e?void 0:e.conversation_id)&&e.created_by!==t.user_data.user_id})),r=a.filter((function(a){return(null===a||void 0===a?void 0:a.conversation_id.toString().replace(/(<([^>]+)>)/gi,""))===(null===e||void 0===e?void 0:e.conversation_id)})),l=0;l<n.length;l++){var s,c;(null===(s=r[0])||void 0===s?void 0:s.conversation_id.toString().replace(/(<([^>]+)>)/gi,""))===(null===(c=n[l])||void 0===c?void 0:c.conversation_id.toString().replace(/(<([^>]+)>)/gi,""))&&0===r[0].unread_messages_count&&ge((function(e){return e+1}))}},Le=function(e,a){if(b.length>0||D.length>0||C.length>0||ee.length>0)for(var t=JSON.parse(f("user")),n=null===a||void 0===a?void 0:a.filter((function(a){var n;return(null===a||void 0===a?void 0:null===(n=a.conversation_id)||void 0===n?void 0:n.toString().replace(/(<([^>]+)>)/gi,""))===(null===e||void 0===e?void 0:e.conversation_id)&&e.created_by!==t.user_data.user_id})),r=null===a||void 0===a?void 0:a.filter((function(a){var t;return(null===a||void 0===a?void 0:null===(t=a.conversation_id)||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,""))===(null===e||void 0===e?void 0:e.conversation_id)})),l=0;l<n.length;l++){var s,c,i,o,m;(null===(s=r[0])||void 0===s?void 0:null===(c=s.conversation_id)||void 0===c?void 0:c.toString().replace(/(<([^>]+)>)/gi,""))===(null===(i=n[l])||void 0===i?void 0:null===(o=i.conversation_id)||void 0===o?void 0:o.toString().replace(/(<([^>]+)>)/gi,""))&&0===(null===(m=r[0])||void 0===m?void 0:m.unread_messages_count)&&ge((function(e){return e+1}))}},Ye=function(){v("urgencyLevels"),v("status"),v("hotline"),v("searchBy")},ze=function(e,a,t,n){var r,l,s,c,i,o,m,d,u=[];if((null===(r=e.status)||void 0===r?void 0:r.includes(a.status_id.toString()))&&(null===(l=e.urgency)||void 0===l?void 0:l.includes(a.urgency_level_id.toString()))&&(null===(s=e.hotline)||void 0===s?void 0:s.includes(a.hotline_id.toString()))&&(null===(c=e.searchBy)||void 0===c?void 0:c.length)>0&&a.conversation_id.toLowerCase().includes(null===(i=e.searchBy)||void 0===i?void 0:i.toLowerCase())||a.responder_conversation_name.toLowerCase().includes(null===(o=e.searchBy)||void 0===o?void 0:o.toLowerCase())||a.hotline_name.toLowerCase().includes(null===(m=e.searchBy)||void 0===m?void 0:m.toLowerCase())||a.message.toLowerCase().includes(null===(d=e.searchBy)||void 0===d?void 0:d.toLowerCase())){var p,h=a.conversation_id.replace(new RegExp(e.searchBy,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),g=a.responder_conversation_name.replace(new RegExp(e.searchBy,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),E=a.hotline_name.replace(new RegExp(e.searchBy,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),f=a.message.replace(new RegExp(e.searchBy,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),v=Object(Oe.a)({},a,{conversation_id:h,responder_conversation_name:g,message:f,hotline:{name:E,hotline_id:a.hotline_id}});u=n.includes(null===(p=v.conversation_id)||void 0===p?void 0:p.toString().replace(/(<([^>]+)>)/gi,""))?t:[].concat(Object(Ne.a)(t),[v])}else u=t;return u};function He(e,a){L({type:e,value:a})}var qe=function(){var e=de(),a=JSON.parse(f("user")),t={headers:{Authorization:e,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},n=f("urgencyLevels")&&f("urgencyLevels").split(","),r=f("status")&&f("status").split(","),s=f("hotline")&&f("hotline").split(","),c=Object(Oe.a)({},n&&n.length>0&&{urgency_level_id:n},{},r&&r.length>0&&{status_id:r},{},s&&s.length>0&&{hotline_id:s}),i=T+"hotlineResponderConversation/?user_id="+a.user_details.org_user_id,m=ee.length>0&&0===b.length&&0===D.length&&0===C.length?i+"&search="+ee:ee.length>0&&(b.length>0||D.length>0||C.length>0)?i+"&filter="+JSON.stringify(c)+"&search="+ee:0===ee.length&&(b.length>0||D.length>0||C.length>0)?i+"&filter="+JSON.stringify(c):"";a&&(m.length>0?P.a.get(m,t).then((function(e){l(e.data)})):P.a.get(i,t).then((function(e){p(!1);var a=0;o(e.data),l(e.data),be(e.data);e.data.reduce((function(e,t,n){0!=t.unread_messages_count&&a++}),[]);ge(a)})))},Be=function(e){return{__html:e}},Ve=function(e){var a=e.trim(),t=D.map((function(e){return e=e.value})),n=Object(Oe.a)({},t.length>0&&{status_id:t},{},b.length>0&&{urgency_level_id:b.map((function(e){return e.value}))},{},C.length>0&&{hotline_id:C.map((function(e){return e.value}))}),r=de(),s=JSON.parse(f("user")),c={headers:{Authorization:r,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},i=T+"hotlineResponderConversation/?user_id="+s.user_details.org_user_id,o=""===a?i+"&filter="+JSON.stringify(n):i+"&filter="+JSON.stringify(n)+"&search="+a.toString();P.a.get(o,c).then((function(e){ae(a),E("searchBy",a);var t=[];t=a.length>0?function(e,a){return e.filter((function(e){return e.conversation_id.toLowerCase().includes(a.toLowerCase())||e.responder_conversation_name.toLowerCase().includes(a.toLowerCase())||e.hotline_name.toLowerCase().includes(a.toLowerCase())||e.message.toLowerCase().includes(a.toLowerCase())})).map((function(e){var t=e.conversation_id.replace(new RegExp(a,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),n=e.responder_conversation_name.replace(new RegExp(a,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),r=e.hotline_name.replace(new RegExp(a,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")})),l=e.message.replace(new RegExp(a,"gi"),(function(e){return'<mark style="background: #2769AA; color: white;">'.concat(e,"</mark>")}));return Object(Oe.a)({},e,{conversation_id:t,responder_conversation_name:n,message:l,hotline:{name:r,hotline_id:e.hotline_id}})}))}(e.data,a):e.data,l(t)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amWEBUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0","data-test":"hotlinemsg"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(fa,{amWEBUser:!0}),r.a.createElement(Dt,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},r.a.createElement("span",null,r.a.createElement(kt.a,{className:"d-inline-flex d-lg-none pr-3 back-arrow ",title:"Back to Messages",onClick:function(){return Se(!1),void xe(!1)}})),"Hotline Messages")),u?r.a.createElement(j.a,{span:24,lg:18,className:"chat-section no-selected bg-white justify-content-center align-items-center d-none d-lg-flex"},r.a.createElement(_.a,{className:"justify-content-center my-3"},r.a.createElement(Re.a,{size:"large",tip:"Loading...",spinning:u}))):!u&&(null===i||void 0===i?void 0:i.length)>0?r.a.createElement("div",{className:"mid-content p-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:6,className:_e?"message-section py-4 d-none":"message-section py-4"},r.a.createElement(j.a,{span:24,className:" d-flex justify-content-between px-3"},r.a.createElement("h6",null,"Conversations"," ",r.a.createElement(nt.a,{className:"pl-1",count:he})),r.a.createElement(ct,{searchString:ee,removeFilter:M,loadFilteredConversations:function(e,a,t,n,r){!function(e,a,t){var n,r,l;N(e),A(a),k(t),E("urgencyLevels",null===(n=Object.values(e))||void 0===n?void 0:n.map((function(e){return e.value}))),E("status",null===(r=Object.values(a))||void 0===r?void 0:r.map((function(e){return e.value}))),E("hotline",null===(l=Object.values(t))||void 0===l?void 0:l.map((function(e){return e.value})))}(t,n,r),l(e),"reset"===a&&Ue.setFieldsValue({search:""})}})),r.a.createElement(j.a,{span:24,className:"mt-4 px-3 d-block"},r.a.createElement(lt.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:150,thumbMinSize:30,universal:!0},r.a.createElement(r.a.Fragment,null,b.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{visible:!0,key:a,closable:!0,onClose:function(){return He("urgencyLevel",e.value)},className:"mb-2"},"Urgency: ",r.a.createElement("span",null,e.label)))})),C.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{visible:!0,closable:!0,onClose:function(){return He("urgencyHotline",e.value)},className:"mb-2",key:a},"Hotline: ",r.a.createElement("span",null,e.label," ")))})),D.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{visible:!0,closable:!0,onClose:function(){return He("urgencyStatus",e.value)},className:"mb-2",key:a},"Status: ",r.a.createElement("span",null,e.label," ")))}))))),r.a.createElement(j.a,{span:24,className:"search-box mt-3 px-3"},r.a.createElement(je.a,{form:Ue},r.a.createElement(je.a.Item,{name:"search",id:"search"},r.a.createElement(xt,{name:"search",id:"search",placeholder:"Search",onChange:function(e){return Ve(e.target.value)},onSearch:Ve,autoComplete:"off"})))),r.a.createElement(lt.Scrollbars,{autoHeight:!0,autoHeightMin:0,autoHeightMax:450,thumbMinSize:30,universal:!0},r.a.createElement(j.a,{span:24,className:"inbox-messages"},t.length>0?t.map((function(e,a){var t,n;return r.a.createElement("div",{key:a,className:(null===(t=z.conversation_id)||void 0===t?void 0:t.toString().replace(/(<([^>]+)>)/gi,""))===(null===(n=e.conversation_id)||void 0===n?void 0:n.toString().replace(/(<([^>]+)>)/gi,""))?"msg-wrapper active":"msg-wrapper",onClick:function(){return function(e){Nt.isMobile&&(Se(!0),xe(!0));(l((function(a){return a.map((function(a){return a.conversation_id.toString().replace(/(<([^>]+)>)/gi,"")===e.conversation_id.toString().replace(/(<([^>]+)>)/gi,"")?Object(Oe.a)({},e,{unread_messages_count:0}):a}))})),e.unread_messages_count>0&&he>0)&&ge(he-1);H(e),G(e.urgency_level_id),$(e.status_id)}(e)}},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("p",{ellipsis:"true",style:{fontWeight:"bold"},className:"w-75 pr-2 mb-1",dangerouslySetInnerHTML:Be(e.responder_conversation_name)}),r.a.createElement("span",{className:"small"}," ",pe()(e.created_on).isSame(pe()(),"day")?pe()(e.created_on).utc().local().format("hh:mm"):pe()(e.created_on).utc().local().format("MM:DD:YY"))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(It,{ellipsis:!0,className:"font-weight-normal mb-1 sm para_wrapper"},r.a.createElement("span",{className:"ellipsisText",dangerouslySetInnerHTML:Be(e.hotline_name)}),"\xa0 |\xa0",r.a.createElement("span",{className:"ellipsisText",dangerouslySetInnerHTML:Be(e.conversation_id)})),r.a.createElement("span",{className:"small"}," ",r.a.createElement(nt.a,{count:e.unread_messages_count}))))})):r.a.createElement("div",{className:"msg-wrapper"},"No messages found")))),z?r.a.createElement(jt,{conversation:z,urgencyLevel:V,status:Z,onChangeUrgencyLevel:function(e,a){var t={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},n={conversation_id:a,updated_by:JSON.parse(f("user")).user_details.org_user_id,urgency_level_id:e};P.a.put(T+"hotlineConvoMessagesUrgencyLevel/ ",n,t).then((function(a){200===a.status&&(qe(),G(e))}))},onChangeStatus:function(e,a){var t={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},n={conversation_id:a,updated_by:JSON.parse(f("user")).user_details.org_user_id,status_id:e};P.a.put(T+"hotlineConvoMessagesStatus/",n,t).then((function(a){200===a.status&&(qe(),$(e))}))},searchString:ee,newState:ie,socket:re,setCounter:function(e){for(var a=e.data,n=0;n<t.length-1;n++)t[n].conversation_id.toString().replace(/(<([^>]+)>)/gi,"")===e.data.conversation_id.toString().replace(/(<([^>]+)>)/gi,"")&&(a=Object(Oe.a)({},a,{unread_messages_count:t[n].unread_messages_count}));a.unread_messages_count&&a.unread_messages_count>0&&he>0&&ge(he-1)},"data-test":"Messages",chatdiv:Ie}):r.a.createElement(j.a,{span:24,lg:18,className:"chat-section no-selected bg-white justify-content-center align-items-center d-none d-lg-flex"},r.a.createElement(_.a,{className:"justify-content-center my-3"},r.a.createElement("img",{src:Ct.a,alt:"No Conversation Selected",style:{opacity:"0.8"}})),r.a.createElement("h5",null,"No Conversation Selected"),r.a.createElement("small",null,"Select a hotline to view")))):r.a.createElement(j.a,{span:24,lg:18,className:"chat-section no-selected bg-white justify-content-center align-items-center d-none d-lg-flex"},r.a.createElement(_.a,{className:"justify-content-center my-3"},r.a.createElement("img",{src:Ha.a,alt:"No Hotlines Selected",style:{opacity:"0.8"}})),r.a.createElement("h5",null,"No conversations are initiated for the hotlines assigned to you")))))))},Ut=O.a.Content,Pt=function(e){function a(){return Object(m.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=f("userType");return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},"AM WEB"===e?r.a.createElement(J,{amWEBUser:!0}):"AM CC"===e?r.a.createElement(J,{amCCUser:!0}):"Org CC"===e?r.a.createElement(J,{amORGUser:!0}):null),r.a.createElement(_.a,{className:"content-center"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,"AM WEB"===e?r.a.createElement(fa,null):"Org CC"===e?r.a.createElement(X,null):"AM CC"===e?r.a.createElement(te,null):null,r.a.createElement(Ut,{className:""},r.a.createElement(_.a,{className:"py-3",style:{justifyContent:"center"}},r.a.createElement("h1",{className:"mb-0"},"You don't have access rights! Please contact your administrator.")))))))}}]),a}(r.a.Component),Tt=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(){t.setState({visible:!1}),t.props.handleResetPasswordOk()},t.handleCancel=function(){t.setState({visible:!1}),t.props.handleResetPasswordCancel()},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e,a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{type:"link",className:"link pl-0 mt-4",onClick:this.showModal},r.a.createElement("span",null,"Reset password for this user")),r.a.createElement(De.a,{title:"Reset Password",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{className:"ant-btn-secondary",children:"Custom cancel"},okText:"Reset and Invite",cancelText:"Cancel"},r.a.createElement(je.a,{className:"input-md floating-label w-100"},r.a.createElement(j.a,{span:24,className:"gutter-row"},r.a.createElement("div",{className:"mb-4 subtext-md"},"Reset password for"," ",r.a.createElement("span",{className:"font-weight-md"},this.props.user)),r.a.createElement(Ie,{label:"New Password",value:""},r.a.createElement(je.a.Item,{name:"newpwd",className:"pwd",rules:[{required:!0,message:"Please enter your new password!"}]},r.a.createElement(N.a.Password,(e={className:"input-control",htmlFor:"newpwd"},Object(ye.a)(e,"className","required"),Object(ye.a)(e,"value",""),e)))),r.a.createElement(Ie,{label:"Confirm Password",value:""},r.a.createElement(je.a.Item,{name:"confirmpwd",className:"pwd",rules:[{required:!0,message:"Please enter your confirmed password!"}]},r.a.createElement(N.a.Password,(a={className:"input-control",htmlFor:"confirmpwd"},Object(ye.a)(a,"className","required"),Object(ye.a)(a,"value",""),a))))))))}}]),a}(n.Component),Ft=Se.a.RangePicker,Mt=function(e){var a,t,n,l,s;return r.a.createElement(De.a,{visible:!0,onOk:e.handleEditOk,onCancel:e.handleEditCancel,centered:!0,width:900,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Update",cancelText:"Cancel"},r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"validate_other"},r.a.createElement("div",null,"Edit Seeded User"),r.a.createElement("br",null),r.a.createElement("div",{className:"avatar-wrapper pt-2 pb-4"},r.a.createElement(z.a,null,e.seededUserName.charAt(0)),r.a.createElement("span",{className:"md-name"},e.seededUserName)),e.error&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"First Name",value:e.seededUserDetails.firstName},r.a.createElement(je.a.Item,{name:"firstName",className:"required"},r.a.createElement(N.a,{id:"firstName",className:"input-control",defaultValue:e.seededUserDetails.firstName,htmlFor:"firstName",value:e.seededUserDetails.firstName,onChange:function(a){return e.handleSeededUserOnChange(a)},autoComplete:"off"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Last Name",value:e.seededUserDetails.lastName},r.a.createElement(je.a.Item,{name:"lastName",className:"required"},r.a.createElement(N.a,(a={className:"input-control",id:"lastName",htmlFor:"lastName"},Object(ye.a)(a,"className","required"),Object(ye.a)(a,"defaultValue",e.seededUserDetails.lastName),Object(ye.a)(a,"value",e.seededUserDetails.lastName),Object(ye.a)(a,"onChange",(function(a){return e.handleSeededUserOnChange(a)})),Object(ye.a)(a,"autoComplete","off"),a))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Email Id",value:e.seededUserDetails.email},r.a.createElement(je.a.Item,{name:"email",className:"required"},r.a.createElement(N.a,(t={className:"input-control",id:"email",htmlFor:"email"},Object(ye.a)(t,"className","required"),Object(ye.a)(t,"defaultValue",e.seededUserDetails.email),Object(ye.a)(t,"value",e.seededUserDetails.email),Object(ye.a)(t,"onChange",(function(a){return e.handleSeededUserOnChange(a)})),Object(ye.a)(t,"onBlur",(function(a){return e.validateEmailAddress(a)})),Object(ye.a)(t,"autoComplete","off"),Object(ye.a)(t,"disabled",!0),t)),e.emailValidationError&&r.a.createElement(Ce.a,{message:"Please enter a valid email address.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Date",value:"date2"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(Ft,(n={className:"new w-100",name:"date2"},Object(ye.a)(n,"className","required"),Object(ye.a)(n,"value",e.seededUserDetails.date2),Object(ye.a)(n,"onChange",(function(a){return e.handleSeededUserDatePickerChange(a,"date2")})),Object(ye.a)(n,"disabledDate",e.disabledDate),n))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Mobile",value:e.seededUserDetails.mobile},r.a.createElement(je.a.Item,{name:"mobile",className:"required"},r.a.createElement(N.a,(l={className:"input-control",id:"mobile",htmlFor:"mobile"},Object(ye.a)(l,"className","required"),Object(ye.a)(l,"defaultValue",e.seededUserDetails.mobile),Object(ye.a)(l,"value",e.seededUserDetails.mobile),Object(ye.a)(l,"onChange",(function(a){return e.handleSeededUserOnChange(a)})),Object(ye.a)(l,"onBlur",(function(a){return e.validateMobile(a)})),Object(ye.a)(l,"autoComplete","off"),l)),e.mobileValidationError&&r.a.createElement(Ce.a,{message:"Please enter a valid mobile number.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:e.seededUserDetails.status2},r.a.createElement(je.a.Item,{className:"required",name:"status2"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,(s={className:"input-control w-100 w-lg-50",value:e.seededUserDetails.status2,htmlFor:"status2"},Object(ye.a)(s,"className","required"),Object(ye.a)(s,"onSelect",(function(a){return e.handleSeededUserOnSelect(a,"status2")})),s),r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive"))))))))),r.a.createElement(Tt,{user:e.seededUserDetails.firstName,handleResetPasswordOk:e.handleResetPasswordOk,handleResetPasswordCancel:e.handleResetPasswordCancel}))},Lt=Se.a.RangePicker,Yt=function(e){var a,t,n,l,s;return r.a.createElement(De.a,{visible:!0,onOk:e.handleAddSeededUser,onCancel:e.handleAddSeededUserCancel,centered:!0,width:1200,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Add",cancelText:"Cancel"},r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"validate_other"},e.error&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(j.a,{span:24},r.a.createElement("div",null,"Add New Seeded User"),r.a.createElement("br",null),r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"First Name",value:e.seededUserDetails.firstName},r.a.createElement(je.a.Item,{name:"firstName",className:"required"},r.a.createElement(N.a,{id:"firstName",className:"input-control",defaultValue:e.seededUserDetails.firstName,htmlFor:"firstName",value:e.seededUserDetails.firstName,onChange:function(a){return e.handleSeededUserOnChange(a)},autoComplete:"off"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Last Name",value:e.seededUserDetails.lastName},r.a.createElement(je.a.Item,{name:"lastName",className:"required"},r.a.createElement(N.a,(a={className:"input-control",id:"lastName",htmlFor:"lastName"},Object(ye.a)(a,"className","required"),Object(ye.a)(a,"defaultValue",e.seededUserDetails.lastName),Object(ye.a)(a,"value",e.seededUserDetails.lastName),Object(ye.a)(a,"onChange",(function(a){return e.handleSeededUserOnChange(a)})),Object(ye.a)(a,"autoComplete","off"),a))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Temporary Password",value:e.seededUserDetails.password},r.a.createElement(je.a.Item,{name:"password",className:"pwd required"},r.a.createElement(N.a.Password,(t={className:"input-control",htmlFor:"password"},Object(ye.a)(t,"className","required"),Object(ye.a)(t,"id","password"),Object(ye.a)(t,"defaultValue",e.seededUserDetails.password),Object(ye.a)(t,"value",e.seededUserDetails.password),Object(ye.a)(t,"onChange",(function(a){return e.handleSeededUserOnChange(a)})),Object(ye.a)(t,"onBlur",(function(a){return e.validatePassword(a)})),Object(ye.a)(t,"autoComplete","new-password"),t)),e.passwordValidationError&&r.a.createElement(Ce.a,{message:"Please enter a valid password.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Email Id",value:e.seededUserDetails.email},r.a.createElement(je.a.Item,{name:"email",className:"required"},r.a.createElement(N.a,(n={className:"input-control",id:"email",htmlFor:"email"},Object(ye.a)(n,"className","required"),Object(ye.a)(n,"defaultValue",e.seededUserDetails.email),Object(ye.a)(n,"value",e.seededUserDetails.email),Object(ye.a)(n,"onChange",(function(a){return e.handleSeededUserOnChange(a)})),Object(ye.a)(n,"onBlur",(function(a){return e.validateEmailAddress(a)})),Object(ye.a)(n,"autoComplete","off"),n)),e.emailValidationError&&r.a.createElement(Ce.a,{message:"Please enter a valid email address.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Date",value:"date2"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(Lt,(l={className:"new w-100",name:"date2"},Object(ye.a)(l,"className","required"),Object(ye.a)(l,"value",e.seededUserDetails.date2),Object(ye.a)(l,"onChange",(function(a){return e.handleSeededUserDatePickerChange(a,"date2")})),Object(ye.a)(l,"disabledDate",e.disabledDate),l))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row phone-field"},r.a.createElement(Ie,{label:"Mobile",value:e.seededUserDetails.mobile},r.a.createElement(je.a.Item,{name:"mobile",className:"required"},r.a.createElement(Le.a,{country:"in",id:"mobile",htmlFor:"mobile",value:e.seededUserDetails.mobile,onChange:e.handleMobile,onBlur:e.validateMobile,autoComplete:"off"}),e.mobileValidationError&&r.a.createElement(Ce.a,{message:"Please enter a valid mobile number.",type:"error",showIcon:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:e.seededUserDetails.status2},r.a.createElement(je.a.Item,{className:"required",name:"status2"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,(s={className:"input-control w-100 w-lg-50",value:e.seededUserDetails.status2,htmlFor:"status2"},Object(ye.a)(s,"className","required"),Object(ye.a)(s,"onSelect",(function(a){return e.handleSeededUserOnSelect(a,"status2")})),s),r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive"))))))))))},Rt=O.a.Content,zt=function(e){var a,t=Object(o.g)(),l=Object(n.useState)(!1),s=Object(y.a)(l,2),c=s[0],i=s[1],m=Object(n.useState)(!1),d=Object(y.a)(m,2),u=d[0],p=d[1],h=Object(n.useState)(!1),g=Object(y.a)(h,2),E=g[0],f=g[1],v=Object(n.useState)(!1),b=Object(y.a)(v,2),S=b[0],C=b[1],k=Object(n.useState)(""),I=Object(y.a)(k,2),x=I[0],D=I[1],A=Object(n.useState)(""),U=Object(y.a)(A,2),F=U[0],M=U[1],L=Object(n.useState)({firstName:"",lastName:"",status2:"",email:"",password:"",date2:"",mobile:""}),Y=Object(y.a)(L,2),R=Y[0],H=Y[1],q=Object(n.useState)(!1),B=Object(y.a)(q,2),V=B[0],G=B[1],W=Object(n.useState)(!1),K=Object(y.a)(W,2),Z=K[0],$=K[1],Q=Object(n.useState)({name:"",identifier:"",org_id:"",status:"",date1:""}),X=Object(y.a)(Q,2),ee=X[0],ae=X[1],ne=Object(n.useState)([]),re=Object(y.a)(ne,2),le=re[0],se=re[1],ie=w.a.useNotification(),oe=Object(y.a)(ie,2),me=oe[0],ue=oe[1],he=je.a.useForm(),ge=Object(y.a)(he,1)[0],Ee=null===(a=e.computedMatch)||void 0===a?void 0:a.params.id;Object(n.useEffect)((function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getOrganization/".concat(Ee,"/"),e).then((function(e){var a=null===e||void 0===e?void 0:e.data;ae({name:a.organization.name,identifier:a.organization.identifier,status:a.organization.status_id.toString(),date1:[pe()(a.organization.start_date,"YYYY-MM-DD"),pe()(a.organization.end_date,"YYYY-MM-DD")]}),ge.setFieldsValue({name:a.organization.name,identifier:a.organization.identifier});var t=[];a.seeded_user.map((function(e){e.soft_delete||(t=[].concat(Object(Ne.a)(t),[{firstName:e.first_name,lastName:e.last_name,status2:e.status_id.toString(),email:e.email,date2:[pe()(e.start_date,"YYYY-MM-DD"),pe()(e.end_date,"YYYY-MM-DD")],mobile:e.mobile_number}]))})),se(t)}))}),[]);var fe=function(){le.forEach((function(e){if(JSON.stringify(e)!==JSON.stringify(R)&&e.email===R.email){var a=le.indexOf(e),t=JSON.parse(JSON.stringify(le));t[a]=R,se(t)}})),xe()},ve=function(e){H(Object(Oe.a)({},R,Object(ye.a)({},e.target.id,e.target.value)))},be=function(e,a){H(Object(Oe.a)({},R,Object(ye.a)({},a,e)))},we=function(e,a){H(Object(Oe.a)({},R,Object(ye.a)({},a,e)))},_e=function(e){/\S+@\S+\.\S+/.test(e.target.value)?p(!1):p(!0)},Ce=function(){R.mobile.length>10?f(!1):f(!0)},xe=function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},a={first_name:R.firstName,last_name:R.lastName,email_from:F,email:R.email,status_id:parseInt(R.status2),start_date:R.date2[0]?pe()(R.date2[0]).format("DD-MM-YYYY"):"",end_date:R.date2[1]?pe()(R.date2[1]).format("DD-MM-YYYY"):""};P.a.put(T+"seededUser/",a,e).then((function(){me.info({description:"Details for ".concat(x," have been changed successfully."),placement:"bottomLeft"}),G(!1)}))},De=function(e){return e&&e<pe()().startOf("day")},Ae=function(){H({firstName:"",lastName:"",status2:"",email:"",password:"",date2:"",mobile:""}),i(!1),$(!0)},Ue=Se.a.RangePicker;return r.a.createElement(r.a.Fragment,null,ue,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amCCUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(te,null),r.a.createElement(Rt,null,r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Organization Details")),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement(j.a,{span:24,className:"d-flex justify-content-between align-items-center"},r.a.createElement("h6",{className:"py-3 mb-0"},"Organization Details "),r.a.createElement("div",null,r.a.createElement(ce.a,{type:"link",className:"link pl-0 btn-link-primary ml-3",onClick:function(){return function(){var e="/amcc/editorg/".concat(Ee);t.push(e,"viaOrgDetails")}()}},r.a.createElement("span",{className:"icon icon-pencil"}),r.a.createElement("span",{className:"pl-2 d-none d-block-md"},"Edit Details")))),r.a.createElement("div",{className:"avatar-wrapper pt-2 pb-4"},r.a.createElement(z.a,null,ee.name.charAt(0)),r.a.createElement("span",{className:"md-name"},ee.name)),r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"validate_other",onFinish:function(e){},form:ge},r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Name",value:ee.name},r.a.createElement(je.a.Item,{className:"required",name:"name",id:"name",rules:[{required:!0,message:"Please enter organization name "}]},r.a.createElement(N.a,{className:"input-control",id:"name",name:"name",htmlFor:"organization name",defaultValue:ee.name,value:ee.name,disabled:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Id",value:ee.identifier},r.a.createElement(je.a.Item,{className:"required",name:"identifier",id:"identifier",validateStatus:"success",rules:[{required:!0,message:"Please enter organization id "}]},r.a.createElement(N.a,{className:"input-control",id:"identifier",name:"identifier",htmlFor:"organization name",defaultValue:ee.identifier,value:ee.identifier,disabled:!0})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:ee.status},r.a.createElement(je.a.Item,{className:"required",name:"status1",rules:[{required:!0,message:"Please enter status "}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control w-100 w-lg-100",value:ee.status,htmlFor:"status",onSelect:function(e){return handleOrganizationOnSelect(e,"status")},disabled:!0},r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive")))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Select Date",value:"date1"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(Ue,{className:"w-100 ",name:"date1",value:ee.date1,disabled:!0})))))))))),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,className:"d-flex justify-content-between align-items-center"},r.a.createElement(_.a,{className:"w-100"},r.a.createElement(j.a,{span:24,md:12},r.a.createElement("h6",{className:"py-3 mb-0"},"Seeded Users Details ")),r.a.createElement(j.a,{span:24,md:12,className:"d-flex justify-content-left justify-content-md-end align-items-center my-3 my-md-0"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(){return Ae()}},"Add Seeded User")))),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},le.length>0?r.a.createElement(Fe,{seededUsers:le,handleEditUser:function(e){G(!0),i(!1),p(!1),f(!1);var a={};le.forEach((function(t){t.email===e&&(a=t)})),H(a),D(a.firstName),M(a.email)},handleDelete:function(e){var a=null===le||void 0===le?void 0:le.filter((function(a){return(null===a||void 0===a?void 0:a.email)!==e})),t="";le.map((function(a){e===a.email&&(t=a.firstName)})),se(a);var n={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.delete(T+"seededUser/".concat(e),n).then((function(){me.info({description:"".concat(t," has been deleted successfully."),placement:"bottomLeft"})}))},addSeededUser:Ae,viaEdit:!0,orgDetails:!0,seededUser:!0}):r.a.createElement(j.a,{span:24,lg:18},r.a.createElement(_.a,{className:"justify-content-center"},"No Seeded User")),V?r.a.createElement(Mt,{error:c,handleEditOk:function(){R.firstName&&R.lastName&&R.status2&&R.mobile&&R.date2&&R.email?(i(!1),u||E||fe()):i(!0)},handleEditCancel:function(){G(!1)},seededUsers:le,seededUserName:x,seededUserDetails:R,disabledDate:De,handleSeededUserOnChange:ve,handleSeededUserDatePickerChange:we,handleSeededUserOnSelect:be,validateEmailAddress:_e,emailValidationError:u,validateMobile:Ce,mobileValidationError:E,handleResetPasswordOk:function(){},handleResetPasswordCancel:function(){}}):Z?r.a.createElement(Yt,{error:c,handleAddSeededUser:function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},a={email:R.email,mobile_number:"+"+R.mobile,password:R.password,is_seeded_user:1,first_name:R.firstName,last_name:R.lastName,start_date:R.date2[0]?pe()(R.date2[0]).format("DD-MM-YYYY"):"",end_date:R.date2[1]?pe()(R.date2[1]).format("DD-MM-YYYY"):"",status_id:parseInt(R.status2),organization_id:parseInt(Ee)},t={seeded_users:[a]},n=[].concat(Object(Ne.a)(le),[{firstName:a.first_name,lastName:a.last_name,status2:a.status_id.toString(),email:a.email,date2:[pe()(a.start_date,"YYYY-MM-DD"),pe()(a.end_date,"YYYY-MM-DD")],mobile:a.mobile_number}]);R.firstName&&R.lastName&&R.status2&&R.mobile&&R.date2&&R.email&&R.password?(i(!1),u||E||S||(se(n),P.a.post(T+"seededUser/",t,e).then((function(e){me.info({description:"".concat(R.firstName," has been added successfully."),placement:"bottomLeft"}),$(!1)})))):i(!0)},handleAddSeededUserCancel:function(){$(!1)},seededUsers:le,seededUserDetails:R,disabledDate:De,handleSeededUserOnChange:ve,handleSeededUserDatePickerChange:we,handleMobile:function(e){H(Object(Oe.a)({},R,{mobile:e}))},handleSeededUserOnSelect:be,validateEmailAddress:_e,emailValidationError:u,validateMobile:Ce,mobileValidationError:E,validatePassword:function(e){/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/.test(e.target.value)?C(!1):C(!0)},passwordValidationError:S}):r.a.createElement(r.a.Fragment,null))))))))))},Ht=O.a.Content,qt=function(e){var a,t,l,s=w.a.useNotification(),c=Object(y.a)(s,2),i=c[0],m=c[1],d=Object(o.g)(),u=je.a.useForm(),p=Object(y.a)(u,1)[0],h=null===(a=e.computedMatch)||void 0===a?void 0:a.params.id,g=Object(n.useState)(!1),E=Object(y.a)(g,2),f=E[0],v=E[1],b=Object(n.useState)(!1),S=Object(y.a)(b,2),C=S[0],k=S[1],I=Object(n.useState)(!1),x=Object(y.a)(I,2),D=x[0],A=x[1],U=Object(n.useState)(!1),F=Object(y.a)(U,2),M=F[0],L=F[1],Y=Object(n.useState)(!1),R=Object(y.a)(Y,2),H=R[0],q=R[1],B=Object(n.useState)(""),V=Object(y.a)(B,2),G=V[0],W=V[1],K=Object(n.useState)(""),Z=Object(y.a)(K,2),$=Z[0],Q=Z[1],X=Object(n.useState)(""),ee=Object(y.a)(X,2),ae=ee[0],ne=ee[1],re=Object(n.useState)({name:"",identifier:"",org_id:"",status:"",date1:""}),le=Object(y.a)(re,2),se=le[0],ie=le[1],oe=Object(n.useState)({firstName:"",lastName:"",status2:"",email:"",password:"",date2:"",mobile:""}),me=Object(y.a)(oe,2),ue=me[0],he=me[1],ge=Object(n.useState)([]),Ee=Object(y.a)(ge,2),fe=Ee[0],ve=Ee[1],be=Object(n.useState)(!1),we=Object(y.a)(be,2),_e=we[0],xe=we[1],De=Object(n.useState)(!1),Ue=Object(y.a)(De,2),Pe=Ue[0],Te=Ue[1],Me=Object(n.useState)(!1),Le=Object(y.a)(Me,2),Ye=Le[0],Re=Le[1];Object(n.useEffect)((function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getOrganization/".concat(h,"/"),e).then((function(e){var a=null===e||void 0===e?void 0:e.data;ie({name:a.organization.name,identifier:a.organization.identifier,status:a.organization.status_id.toString(),date1:[pe()(a.organization.start_date,"YYYY-MM-DD"),pe()(a.organization.end_date,"YYYY-MM-DD")]}),W(a.organization.name),p.setFieldsValue({name:a.organization.name,identifier:a.organization.identifier});var t=[];a.seeded_user.map((function(e){e.soft_delete||(t=[].concat(Object(Ne.a)(t),[{firstName:e.first_name,lastName:e.last_name,status2:e.status_id.toString(),email:e.email,date2:[pe()(e.start_date,"YYYY-MM-DD"),pe()(e.end_date,"YYYY-MM-DD")],mobile:e.mobile_number}]))})),ve(t)}))}),[]);var ze=function(){fe.forEach((function(e){if(JSON.stringify(e)!==JSON.stringify(ue)&&e.email===ue.email){var a=fe.indexOf(e),t=JSON.parse(JSON.stringify(fe));t[a]=ue,ve(t)}})),Je()},He=function(e){ie(Object(Oe.a)({},se,Object(ye.a)({},e.target.id,e.target.value)))},qe=function(e){he(Object(Oe.a)({},ue,Object(ye.a)({},e.target.id,e.target.value)))},Be=function(e,a){he(Object(Oe.a)({},ue,Object(ye.a)({},a,e)))},Ve=function(e,a){he(Object(Oe.a)({},ue,Object(ye.a)({},a,e)))},Ge=function(e){/\S+@\S+\.\S+/.test(e.target.value)?A(!1):A(!0)},We=function(){ue.mobile.length>10?L(!1):L(!0)},Je=function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},a={first_name:ue.firstName,last_name:ue.lastName,email_from:ae,email:ue.email,status_id:parseInt(ue.status2),start_date:ue.date2[0]?pe()(ue.date2[0]).format("DD-MM-YYYY"):"",end_date:ue.date2[1]?pe()(ue.date2[1]).format("DD-MM-YYYY"):""};P.a.put(T+"seededUser/",a,e).then((function(){i.info({description:"Details for ".concat($," have been changed successfully."),placement:"bottomLeft"}),xe(!1)}))},Ke=function(e){return e&&e<pe()().startOf("day")},Ze=function(){he({firstName:"",lastName:"",status2:"",email:"",password:"",date2:"",mobile:""}),k(!1),Te(!0)},$e=Se.a.RangePicker;return r.a.createElement(r.a.Fragment,null,m,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amCCUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(te,null),r.a.createElement(Ht,null,r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Edit Organization")),r.a.createElement("div",{className:"mid-content"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement(j.a,{span:24,className:"d-flex justify-content-between align-items-center"},r.a.createElement("h6",{className:"py-3 mb-0"},"Edit Organization"),r.a.createElement("div",null,r.a.createElement(ce.a,{type:"link",className:"link pl-0 btn-link-primary ml-3 deleteOrg",onClick:function(){Re(!0)}},r.a.createElement("span",{className:"icon icon-delete"}),r.a.createElement("span",{className:"d-none d-md-inline-flex deleteOrg"},"Delete")),Ye?r.a.createElement(Ae,{org:G,handleDelete:function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.delete(T+"deleteOrganization/".concat(h,"/"),e).then((function(){window.location="/amcc/manageorganizations"}))},handleCancel:function(){Re(!1)},deleteOrg:!0}):r.a.createElement(r.a.Fragment,null))),r.a.createElement("div",{className:"avatar-wrapper pt-2 pb-4"},r.a.createElement(z.a,null,G.charAt(0)),r.a.createElement("span",{className:"md-name"},G)),r.a.createElement(je.a,{className:"input-md floating-label w-100",form:p},f&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Name",value:se.name},r.a.createElement(je.a.Item,{className:"required edit-input",name:"name",id:"name"},r.a.createElement(N.a,(t={className:"input-control",id:"name",name:"name"},Object(ye.a)(t,"className","required"),Object(ye.a)(t,"defaultValue",se.name),Object(ye.a)(t,"value",se.name),Object(ye.a)(t,"onChange",(function(e){return He(e)})),Object(ye.a)(t,"htmlFor","name"),Object(ye.a)(t,"autoComplete","off"),t))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Organization Id",value:se.identifier},r.a.createElement(je.a.Item,{className:"required edit-input",name:"identifier",id:"identifier"},r.a.createElement(N.a,(l={className:"input-control edit-input",name:"identifier",id:"identifier",htmlFor:"identifier"},Object(ye.a)(l,"className","required"),Object(ye.a)(l,"defaultValue",se.identifier),Object(ye.a)(l,"value",se.identifier),Object(ye.a)(l,"onChange",(function(e){return He(e)})),Object(ye.a)(l,"autoComplete","off"),l))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status",value:se.status},r.a.createElement(je.a.Item,{className:"required edit-input",name:"status"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control w-100 w-lg-100",value:se.status,htmlFor:"status",onSelect:function(e){return function(e,a){ie(Object(Oe.a)({},se,Object(ye.a)({},a,e)))}(e,"status")}},r.a.createElement(Option,{value:"1"},"Active"),r.a.createElement(Option,{value:"2"},"Inactive")))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Date",value:"date1"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement($e,{className:"w-100 ",name:"date1",value:se.date1,onChange:function(e){return function(e,a){ie(Object(Oe.a)({},se,Object(ye.a)({},a,e)))}(e,"date1")},disabledDate:Ke})))))),r.a.createElement(je.a.Item,null,r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},a={organization_id:h,name:se.name,identifier:se.identifier,start_date:se.date1[0]?pe()(se.date1[0]).format("DD-MM-YYYY"):"",end_date:se.date1[1]?pe()(se.date1[1]).format("DD-MM-YYYY"):"",status_id:parseInt(se.status)};se.name&&se.identifier?(v(!1),P.a.put(T+"saveOrganization/",a,e).then((function(){i.info({description:"Organization details have been changed successfully.",placement:"bottomLeft"}),window.location="/amcc/manageorganizations"}))):v(!0)}},"Update"),r.a.createElement(ce.a,{className:"ml-4",type:"secondary",onClick:function(){if(e.location.state){var a="/amcc/orgdetails/".concat(h);d.push(a)}else window.location="/amcc/manageorganizations"}},"Cancel"))))))),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,md:12,className:"d-flex justify-content-between align-items-center"},r.a.createElement("h6",{className:"py-3 mb-0"},"Edit Seeded Users ")),r.a.createElement(j.a,{span:24,md:12,className:"d-flex justify-content-left justify-content-md-end align-items-center my-3 my-md-0"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",onClick:function(){return Ze()}},"Add Seeded User")),fe.length>0?r.a.createElement(Fe,{seededUsers:fe,handleEditUser:function(e){xe(!0),k(!1),A(!1),L(!1);var a={};fe.forEach((function(t){t.email===e&&(a=t)})),he(a),Q(a.firstName),ne(a.email)},handleDelete:function(e){var a=null===fe||void 0===fe?void 0:fe.filter((function(a){return(null===a||void 0===a?void 0:a.email)!==e})),t="";fe.map((function(a){e===a.email&&(t=a.firstName)})),ve(a);var n={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.delete(T+"seededUser/".concat(e),n).then((function(){i.info({description:"".concat(t," has been deleted successfully."),placement:"bottomLeft"})}))},addSeededUser:Ze,viaEdit:!0,seededUser:!0}):r.a.createElement(j.a,{span:24,lg:18},r.a.createElement(_.a,{className:"justify-content-center"},"No Seeded User")),_e?r.a.createElement(Mt,{error:C,handleEditOk:function(){ue.firstName&&ue.lastName&&ue.status2&&ue.mobile&&ue.date2&&ue.email?(k(!1),D||M||ze()):k(!0)},handleEditCancel:function(){xe(!1)},seededUsers:fe,seededUserName:$,seededUserDetails:ue,disabledDate:Ke,handleSeededUserOnChange:qe,handleSeededUserDatePickerChange:Ve,handleSeededUserOnSelect:Be,validateEmailAddress:Ge,emailValidationError:D,validateMobile:We,mobileValidationError:M,handleResetPasswordOk:function(){},handleResetPasswordCancel:function(){}}):Pe?r.a.createElement(Yt,{error:C,handleAddSeededUser:function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},a={email:ue.email,mobile_number:"+"+ue.mobile,password:ue.password,is_seeded_user:1,first_name:ue.firstName,last_name:ue.lastName,start_date:ue.date2[0]?pe()(ue.date2[0]).format("DD-MM-YYYY"):"",end_date:ue.date2[1]?pe()(ue.date2[1]).format("DD-MM-YYYY"):"",status_id:parseInt(ue.status2),organization_id:parseInt(h)},t={seeded_users:[a]},n=[].concat(Object(Ne.a)(fe),[{firstName:a.first_name,lastName:a.last_name,status2:a.status_id.toString(),email:a.email,date2:[pe()(a.start_date,"YYYY-MM-DD"),pe()(a.end_date,"YYYY-MM-DD")],mobile:a.mobile_number}]);ue.firstName&&ue.lastName&&ue.status2&&ue.mobile&&ue.date2&&ue.email&&ue.password?(k(!1),D||M||H||(ve(n),P.a.post(T+"seededUser/",t,e).then((function(e){i.info({description:"".concat(ue.firstName," has been added successfully."),placement:"bottomLeft"}),Te(!1)})))):k(!0)},handleAddSeededUserCancel:function(){Te(!1)},seededUsers:fe,seededUserDetails:ue,disabledDate:Ke,handleSeededUserOnChange:qe,handleSeededUserDatePickerChange:Ve,handleMobile:function(e){he(Object(Oe.a)({},ue,{mobile:e}))},handleSeededUserOnSelect:Be,validateEmailAddress:Ge,emailValidationError:D,validatePassword:function(e){/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,}$/.test(e.target.value)?q(!1):q(!0)},passwordValidationError:H,validateMobile:We,mobileValidationError:M}):r.a.createElement(r.a.Fragment,null))))))))},Bt=O.a.Content,Vt=function(){var e=Se.a.RangePicker;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amCCUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(te,null),r.a.createElement(Bt,null,r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Edit Profile")),r.a.createElement("div",{className:"mid-content"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"avatar-wrapper pt-2 pb-4"},r.a.createElement(z.a,null,"W"),r.a.createElement("span",{className:"md-name"},"Alan Charles")),r.a.createElement(je.a,{className:"input-md floating-label w-100",name:"",onFinish:function(e){}},r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"User Name"},r.a.createElement(je.a.Item,{className:"required",name:"organization name",rules:[{required:!0,message:"Please enter user name "}]},r.a.createElement(N.a,{className:"input-control",htmlFor:"user name"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"User Id"},r.a.createElement(je.a.Item,{className:"required",name:"user id",validateStatus:"success",rules:[{required:!0,message:"Please enter user id "}]},r.a.createElement(N.a,{className:"input-control",htmlFor:"user name"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Email Id"},r.a.createElement(je.a.Item,{className:"required",name:"email id",rules:[{required:!0,message:"Please enter email id ",type:"email"}]},r.a.createElement(N.a,{className:"input-control",htmlFor:"email id"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status"},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please enter status "}]},r.a.createElement(N.a,{className:"input-control",htmlFor:"status"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Select Date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required"},r.a.createElement(e,{className:"w-100 "})))))),r.a.createElement(je.a.Item,null,r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{type:"primary",htmlType:"submit"},"Update"),r.a.createElement(ce.a,{className:"ml-4",type:"secondary"},"Cancel"))))))))))))},Gt=N.a.TextArea,Wt=(ke.a.Option,O.a.Content),Jt=function(e){e.props;var a=Object(n.useState)({end_date:"",help_text:"",hotline_icon_id:"",hotline_id:"",name:"",start_date:"",status_id:""}),t=Object(y.a)(a,2),l=t[0],s=t[1],c=Object(n.useState)(""),i=Object(y.a)(c,2),m=i[0],d=i[1],u=Object(n.useState)(""),p=Object(y.a)(u,2),h=p[0],g=p[1],E=w.a.useNotification(),v=Object(y.a)(E,2),b=v[0],N=v[1],j=Object(n.useState)(!1),S=Object(y.a)(j,2),C=S[0],k=(S[1],Object(n.useState)(!0)),I=Object(y.a)(k,2),x=(I[0],I[1],je.a.useForm()),D=Object(y.a)(x,1)[0],A=Object(o.h)(),U=function(e){switch(e){case"1":return"Sexual Harassment";case"2":return"Violence";case"3":return"Racism";case"4":return"Cyber Bullying";case"5":return"Fight";case"6":return"Discrimination";case"7":return"Slap";default:return""}};Object(n.useEffect)((function(){var e=pe()(A.state.end_date).format("YYYY-MM-DD"),a=pe()(A.state.start_date).format("YYYY-MM-DD"),t=[pe()(e,"YYYY/MM/DD"),pe()(a,"YYYY/MM/DD")];console.log(t),s({end_date:"",help_text:A.state.help_text,hotline_icon_id:A.state.hotline_icon_id,hotline_id:A.state.hotline_id,name:A.state.name,start_date:t,status_id:A.state.status_id.toString()});var n=function(e){switch(e){case"1":return'<span class="icon icon-sexual-harassment-1 ant-tooltip-open"></span>';case"2":return'<span class="icon icon-violence ant-tooltip-open"></span>';case"3":return'<span class="icon icon-racism ant-tooltip-open"></span>';case"4":return'<span class="icon icon-cyber-bullying ant-tooltip-open"></span>';case"5":return'<span class="icon icon-fight ant-tooltip-open"></span>';case"6":return'<span class="icon icon-discrimination ant-tooltip-open"></span>';case"7":return'<span class="icon icon-slap ant-tooltip-open"></span>';default:return""}}(A.state.hotline_icon_id.toString());d(n)}),[]);var F=function(e){s(Object(Oe.a)({},l,Object(ye.a)({},e.target.id,e.target.value)))},M=function(e){var a=de(),t=l.hotline_id;delete l.hotline_id;var n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.put(T+"hotline/"+t,e,n).then((function(e){if(200===e.status){b.info({description:"Hotline details have been changed successfully.",placement:"bottomLeft"}),window.location="/orgcc/hotlinedirectory"}}))},L=Se.a.RangePicker;return r.a.createElement(r.a.Fragment,null,N,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0","data-test":"manageEmp"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(Wt,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",null,"Edit Hotline")),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(je.a,{"data-test":"createHotlineStepOne",className:"input-md w-md-100 w-75 floating-label",name:"validate_other",form:D},C&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(Ie,{label:"Directory Name",value:l.name},r.a.createElement(je.a.Item,{className:"required",name:"directoryName",rules:[{required:!0,message:"Please enter directory name"}]},r.a.createElement(Gt,{showCount:!0,maxLength:80,value:l.name,onChange:function(e){return F(e)},onBlur:function(e){return function(e){var a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};e.target.value!==A.state.name?P.a.post(T+"checkhotline/",{hotline_name:e.target.value},a).then((function(e){e.data&&g(e.data[0])})):g(!1)}(e)},id:"name",className:"input-control textarea-input",placeholder:"Directory Name",htmlFor:"directoryName"}),"status: false"==h&&r.a.createElement(_a.a,{className:"successCheck",twoToneColor:"#52c41a"}))),r.a.createElement(Ie,{label:"Description",value:l.help_text},r.a.createElement(je.a.Item,{className:"required",name:"description",rules:[{required:!0,message:"Please enter description"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt,{className:"input-control textarea-input",value:l.help_text,onChange:function(e){return F(e)},id:"help_text",placeholder:"Description",htmlFor:"description"})))),r.a.createElement(Ie,{label:"Date",value:"start_date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper"},r.a.createElement(L,{className:"datepicker w-100 w-lg-50 mr-0 mr-lg-5 required",name:"start_date",disabledDate:function(e){return e&&e<pe()().startOf("day")},value:l.start_date,onChange:function(e){return function(e,a){s(Object(Oe.a)({},l,Object(ye.a)({},a,e)))}(e,"start_date")},rules:[{required:!0,message:"Please select start date"}]}))),r.a.createElement(Ie,{label:"Status",value:l.status_id},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please select status"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control w-100 w-lg-50",value:l.status_id,htmlFor:"status",onSelect:function(e){return function(e,a){s(Object(Oe.a)({},l,Object(ye.a)({},a,e)))}(e,"status_id")}},r.a.createElement(ke.a.Option,{value:"5"},"Active"),r.a.createElement(ke.a.Option,{value:"4"},"Inactive"))))),r.a.createElement(je.a.Item,{className:""},r.a.createElement(je.a.Item,{className:"upload-control",name:"upload",valuePropName:"fileList"},r.a.createElement(Na,{"data-test":"addIconComponent",addIcon:function(e,a){s(Object(Oe.a)({},l,{hotline_icon_id:a})),d(e)}}),U(l.hotline_icon_id.toString())&&r.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},r.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},r.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},r.a.createElement("span",{className:"d-inline-flex align-items-center"},r.a.createElement("a",{className:"ant-upload-list-item-thumbnail"},wa()(m)),r.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:U(l.hotline_icon_id.toString())},U(l.hotline_icon_id.toString())))))))),r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault();var a=JSON.parse(f("user")),t={end_date:pe()(l.start_date[1]).format("DD-MM-YYYY"),help_text:l.help_text,hotline_icon_id:l.hotline_icon_id,hotline_id:l.hotline_id,name:l.name,start_date:pe()(l.start_date[0]).format("DD-MM-YYYY"),status_id:parseInt(l.status_id),updated_by:a.user_details.org_user_id};M(t)},"data-test":"stepOneNext",style:{margin:"0 8px"}},"Update"),r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){window.location="/orgcc/hotlinedirectory"},"data-test":"stepOneNext"},"Cancel")))))))))},Kt=t(76),Zt=t.n(Kt),$t=O.a.Content,Qt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement($t,{className:"w-100 ml-0 ".concat(Zt.a.no_sidebar)},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Add Employee"),r.a.createElement("div",{className:"d-block w-100 pl-3 pl-lg-0 pt-1"},r.a.createElement("small",null,"Please create all employees for your organization who are eligible to use the app. You can either integrate with existing system, import through CSV or add each employee manually."))),r.a.createElement("div",{className:"mid-content mt-0 mt-md-4 no-bg px-3 px-md-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,className:"mt-5"},r.a.createElement(_.a,{className:"d-flex justify-content-center",gutter:{xs:8,sm:32,md:32,lg:100}},r.a.createElement(j.a,{className:"gutter-row",span:24,md:8,xl:7},r.a.createElement("div",{className:"d-flex flex-column ".concat(Zt.a.box_bordered," ").concat(Zt.a.box_bordered_active)},r.a.createElement("span",{className:"icon-integrate ".concat(Zt.a.icon)}),r.a.createElement("div",{className:"font-weight-bold text-center"},"Integrate with existing system"))),r.a.createElement(j.a,{className:"gutter-row",span:24,md:8,xl:7},r.a.createElement("div",{className:"d-flex flex-column ".concat(Zt.a.box_bordered)},r.a.createElement("span",{className:"icon-csv ".concat(Zt.a.icon)}),r.a.createElement("div",{className:"font-weight-bold text-center"},"Import through CSV"))),r.a.createElement(j.a,{className:"gutter-row",span:24,md:8,xl:7},r.a.createElement("div",{className:"d-flex flex-column ".concat(Zt.a.box_bordered)},r.a.createElement("span",{className:"icon-add-user ".concat(Zt.a.icon)}),r.a.createElement("div",{className:"font-weight-bold text-center"},"Create manually")))))))))))))},Xt=t(828),en=t(416),an=Xt.a.Dragger,tn={name:"file",multiple:!0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?en.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===a&&en.b.error("".concat(e.file.name," file upload failed."))}},nn=function(){return r.a.createElement(an,tn,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement("span",{className:"icon icon-upload"})),r.a.createElement("p",{className:"ant-upload-text"},"Drop files to upload or Browse"))},rn=O.a.Content,ln=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(rn,{className:"w-100 ml-0 ".concat(Zt.a.no_sidebar)},r.a.createElement(_.a,{className:"pt-3"},r.a.createElement(_e.a,{separator:">"},r.a.createElement(i.c,{to:"/addemployee"},r.a.createElement(_e.a.Item,null,"Add Employee")),r.a.createElement(_e.a.Item,null,"Import CSV file"))),r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Import CSV file ")),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,{className:"d-flex justify-content-center align-items-center"},r.a.createElement(j.a,{span:20,className:"mt-3 dragdrop"},r.a.createElement(nn,null)),r.a.createElement(j.a,{span:24,className:"justify-content-center d-flex mt-5"},r.a.createElement(ce.a,{type:"link",className:"link pl-0"},r.a.createElement("span",{className:"icon icon-download-icon"}),"Download Sample File"))),r.a.createElement("div",{className:"mt-3 btn-row"},r.a.createElement(ce.a,Object(ye.a)({type:"secondary",className:"mr-4 mb-4"},"type","secondary"),"Cancel"),r.a.createElement(ce.a,{type:"primary",className:"md"},"Upload")))))))))},sn=O.a.Content,cn=Se.a.RangePicker,on=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(sn,{className:"w-100 ml-0 ".concat(Zt.a.no_sidebar)},r.a.createElement(_.a,{className:"pt-3"},r.a.createElement(_e.a,{separator:">"},r.a.createElement(i.c,{to:"/addemployee"},r.a.createElement(_e.a.Item,null,"Add Employee")),r.a.createElement(_e.a.Item,null,"Create Manually"))),r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Create Manually")),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,{className:"d-flex justify-content-center align-items-center"},r.a.createElement(je.a,{className:"input-md floating-label w-100",name:""},r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{gutter:{xs:8,sm:16,md:24,lg:32}},r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"First Name"},r.a.createElement(je.a.Item,{className:"required",name:"fname",rules:[{required:!0,message:"Please enter your first name"}]},r.a.createElement(N.a,{className:"input-control",id:"fname",htmlFor:"fname"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Last Name"},r.a.createElement(je.a.Item,{className:"required",name:"lname",validateStatus:"success",rules:[{required:!0,message:"Please enter your last name"}]},r.a.createElement(N.a,{className:"input-control",id:"lname",htmlFor:"lname"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Email id"},r.a.createElement(je.a.Item,{className:"required",name:"emailid",validateStatus:"success",rules:[{required:!0,message:"Please enter your email id"}]},r.a.createElement(N.a,{type:"email",className:"input-control",id:"emailid",htmlFor:"emailid"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row phone-field"},r.a.createElement(Ie,{label:"Mobile Number"},r.a.createElement(je.a.Item,{className:"required",name:"mobile",validateStatus:"success",rules:[{required:!0,message:"Please enter your mobile number"}]},r.a.createElement(Le.a,{country:"us"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Employee id"},r.a.createElement(je.a.Item,{className:"required",name:"empid",validateStatus:"success",rules:[{required:!0,message:"Please enter your employee id"}]},r.a.createElement(N.a,{className:"input-control",id:"empid",htmlFor:"empid"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Department"},r.a.createElement(je.a.Item,{className:"required",name:"department",rules:[{required:!0,message:"Please enter your department"}]},r.a.createElement(ke.a,{className:"input-control w-100"},r.a.createElement(Option,{value:"1"},"dept1"),r.a.createElement(Option,{value:"0"},"dept2"))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Status"},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please enter status"}]},r.a.createElement(ke.a,{className:"input-control w-100"},r.a.createElement(Option,{value:"1"},"1"),r.a.createElement(Option,{value:"0"},"2"))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Select Date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper required",rules:[{required:!0,message:"Please select start and end date"}]},r.a.createElement(cn,{className:"w-100 ",name:"s1Date"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"Make Super User"},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please select user type"}]},r.a.createElement(ke.a,{className:"input-control w-100"},r.a.createElement(Option,{value:"1"},"Make Super User"),r.a.createElement(Option,{value:"0"},"Make User"))))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"F1"},r.a.createElement(je.a.Item,{name:"f1"},r.a.createElement(N.a,{className:"input-control",htmlFor:"f1"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"F2"},r.a.createElement(je.a.Item,{name:"f2"},r.a.createElement(N.a,{className:"input-control",htmlFor:"f3"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"F3"},r.a.createElement(je.a.Item,{name:"f3"},r.a.createElement(N.a,{className:"input-control",htmlFor:"f3"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"F4"},r.a.createElement(je.a.Item,{name:"f4"},r.a.createElement(N.a,{className:"input-control",htmlFor:"f4"})))),r.a.createElement(j.a,{span:24,md:8,className:"gutter-row"},r.a.createElement(Ie,{label:"F5"},r.a.createElement(je.a.Item,{name:"f5"},r.a.createElement(N.a,{className:"input-control",htmlFor:"f5"})))))),r.a.createElement(je.a.Item,null,r.a.createElement(ce.a,{type:"primary",htmlType:"submit"},"Save")))))))))))},mn=t(845),dn=ke.a.Option,un=function(e){var a=e.next,t=e.stepOneOpenLineInfo,l=e.handleStepOneOnChange,s=e.handleStepOneOnSelect,c=e.handleStepOneUpload,i=(e.handleStepOnePreview,e.handleBeforeUpload),o=e.handleStepOneDatePickerChange,m=(e.addIcon,e.getIconText),d=Object(n.useState)({iconText:""}),u=Object(y.a)(d,2),p=(u[0],u[1],Object(n.useState)(!1)),h=Object(y.a)(p,2),g=h[0],E=h[1],f=Object(n.useState)(!0),v=Object(y.a)(f,2),b=(v[0],v[1]),O=je.a.useForm(),w=Object(y.a)(O,1)[0],_=Object(n.useState)(""),j=Object(y.a)(_,2),S=j[0],C=j[1],k=Se.a.RangePicker;return r.a.createElement(je.a,{"data-test":"createHotlineStepOne",className:"input-md w-md-100 w-75 floating-label",name:"validate_other",form:w},g&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(Ie,{label:"Openeline Name",value:t.openelineName},r.a.createElement(je.a.Item,{className:"required",name:"openelineName",rules:[{required:!0,message:"Please enter directory name"}]},r.a.createElement(Sa.a,{showCount:!0,maxLength:80,value:t.openelineName,onChange:function(e){return l(e)},onBlur:function(e){return function(e){var a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.post(T+"checkOpenline/",{openline_name:t.openelineName},a).then((function(e){e.data&&C(e.data[0])}))}()},id:"openelineName",className:"input-control",htmlFor:"openelineName"}),"status: false"==S&&t.openelineName.length>0&&r.a.createElement(_a.a,{className:"successCheck",twoToneColor:"#52c41a"}),"status: true"==S&&r.a.createElement(Ce.a,{message:"Sorry! This hotline already exists in the system. Please use a different name.",type:"error",showIcon:!0}))),r.a.createElement(Ie,{label:"Description",value:t.description},r.a.createElement(je.a.Item,{className:"required",name:"description",rules:[{required:!0,message:"Please enter description"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"input-control",value:t.description,onChange:function(e){return l(e)},id:"description",htmlFor:"description"})))),r.a.createElement(Ie,{label:"Date",value:"sDate"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper"},r.a.createElement(k,{className:"datepicker w-100 w-lg-50 mr-0 mr-lg-5 required",name:"sDate",value:t.sDate,onChange:function(e){return o(e,"sDate")},disabledDate:function(e){return e&&e<pe()().startOf("day")},rules:[{required:!0,message:"Please select start date"}]}))),r.a.createElement(Ie,{label:"Status",value:t.status},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please select status"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control w-100 w-lg-50",value:t.status,htmlFor:"status",onSelect:function(e){return s(e,"status")}},r.a.createElement(dn,{value:"5"},"Active"),r.a.createElement(dn,{value:"4"},"Inactive"))))),r.a.createElement(je.a.Item,{className:""},r.a.createElement(je.a.Item,{className:"upload-control",name:"upload",valuePropName:"fileList"},r.a.createElement(Xt.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture",fileList:t.file,beforeUpload:function(e){return i(e)},onChange:function(e){return c(e,"file")}},r.a.createElement(ce.a,{icon:r.a.createElement(mn.a,null)},"Upload Image")),m(t.hotlineIconId)&&r.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},r.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},r.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},r.a.createElement("span",{className:"d-inline-flex align-items-center"},r.a.createElement("a",{className:"ant-upload-list-item-thumbnail"},wa()(t.iconHtml)),r.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:m(t.hotlineIconId)},m(t.hotlineIconId)))))))),r.a.createElement(je.a.Item,null,r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault(),console.log("file",t.file),t.openelineName&&t.description&&t.file&&t.status&&t.sDate?(E(!1),b(!1),a()):E(!0)},"data-test":"stepOneNext"},"Next")))},pn=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.employeeData,n=t.filterIt(a,e);t.setState({filterData:n})},t.start=function(){t.setState({showAssigntoModal:!0})},t.stepTwoPrev=function(){t.props.prev()},t.stepTwoNext=function(){0!==t.props.stepTwoOpenLine.chekedValues.length?t.props.next():t.setState({showAlert:!0})},t.state={employeeData:"",showAssigntoModal:"false",showAlert:!1},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)($e())}},{key:"componentDidUpdate",value:function(e){var a=this,t=this.props.manageEmpData;e.manageEmpData!=t&&this.setState({employeeData:t},(function(){a.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].toUpperCase().includes(a.toUpperCase())}))})):e}},{key:"render",value:function(){var e=this,a={selectedRowKeys:this.props.stepTwoOpenLine.selectedRowKeys,onChange:this.props.handleStepTwoOnSelect},t=[{title:"First Name",dataIndex:"firstname",key:"firstname",width:"22%"},{title:"Last Name",dataIndex:"lastname",key:"lastname",width:"22%"},{title:"Mobile Number",dataIndex:"Mobile_Number",key:"Mobile_Number",width:"21%"},{title:"Access",dataIndex:"Access",render:function(e){var a="";for(var t in e)1==e[t]&&("am_web"==t&&(t="AM WEB"),"org_cc_user"==t&&(t="Org CC"),"app_user"==t&&(t="APP"),0==a.length?a+=t:a+=", "+t);return r.a.createElement("span",null,a)},width:"20%"},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(){return r.a.createElement("div",{className:"primary-tag-rounded tag"},r.a.createElement("span",{className:"circle mr-1"}),"Active")}}];return r.a.createElement("div",null,r.a.createElement(j.a,{"data-test":"createHotlineStepTwo",span:24},r.a.createElement(_.a,{className:"pt-1 pb-3 px-3 px-lg-0 sm-direction-reverse"},r.a.createElement(j.a,{span:24,lg:18,className:"search-row mt-2 mt-lg-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:9,className:"search-box"},r.a.createElement(Aa.a,{placeholder:"Search User",onSearch:this.onSearch})))))),this.state.showAlert&&r.a.createElement(Ce.a,{message:"Please select user(s) and assign required permission(s) using Assign button.",type:"error",showIcon:!0}),r.a.createElement("div",{id:"no-more-tables"},r.a.createElement(re.a,{rowSelection:a,columns:t,dataSource:this.state.filterData,rowKey:"unique_identifier"})),r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{className:"mr-4",type:"secondary",style:{margin:"0 8px"},onClick:function(){return e.stepTwoPrev()},"data-test":"steptwoPrev"},"Back"),r.a.createElement(ce.a,{className:"md",type:"primary",onClick:function(){return e.stepTwoNext()},"data-test":"steptwoNext"},"Next")))}}]),a}(r.a.Component);var hn=Object(c.b)((function(e){return{manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(pn),gn=N.a.TextArea,En=function(e){var a,t=e.prev,n=e.createNewHotLine,l=e.stepOneOpenLine,s=e.stepTwoOpenLine,c=(e.getIconText,je.a.useForm()),i=Object(y.a)(c,1)[0],o=s.selectedRows.map((function(e){return e.firstname+" "+e.lastname})),m=Se.a.RangePicker;return r.a.createElement(je.a,{"data-test":"createHotlineStepThree",className:"input-md w-md-100 w-75",name:"validate_other",form:i},r.a.createElement(je.a.Item,{name:"openelineName"},r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,{showCount:!0,disabled:!0,maxLength:80,value:l.openelineName,id:"openelineName",className:"input-control textarea-input",placeholder:"Openline Name",htmlFor:"openelineName"}))),r.a.createElement(je.a.Item,{name:"description"},r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,{disabled:!0,className:"input-control textarea-md",value:l.description,id:"description",placeholder:"Description",htmlFor:"description"}))),r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper"},r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{className:"datepicker w-100 w-lg-50 mr-0 mr-lg-5",name:"sdate",value:l.sDate,rules:[{readOnly:!0,required:!0,message:"Please select start date"}],disabled:!0}))),r.a.createElement("div",{className:"d-block d-lg-flex"},r.a.createElement("div",{className:"w-100 w-lg-50 mr-0 mr-lg-5"},r.a.createElement(je.a.Item,{name:"status"},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:"input-control",placeholder:"Status",value:l.status,htmlFor:"status",disabled:!0},r.a.createElement(ke.a.Option,{value:"5"},"Active"),r.a.createElement(ke.a.Option,{value:"4"},"Inactive")," ")))),r.a.createElement("div",{className:"w-100 w-lg-50 mr-0 mr-lg-5"},r.a.createElement(je.a.Item,{name:"userNames"},r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"input-control",placeholder:"Assigned to",htmlFor:"assigned to",id:o,disabled:!0,value:o.join(", ")}))))),r.a.createElement(je.a.Item,{className:"w-100 w-lg-50"},r.a.createElement(je.a.Item,{className:"upload-control"},r.a.createElement(Xt.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture",disabled:!0,fileList:l.file}))),r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,(a={type:"secondary",className:"mr-4"},Object(ye.a)(a,"type","secondary"),Object(ye.a)(a,"style",{margin:"0 8px"}),Object(ye.a)(a,"htmlType","submit"),Object(ye.a)(a,"onClick",(function(e){e.preventDefault(),t()})),Object(ye.a)(a,"data-test","stepThreePrev"),a),"Back"),r.a.createElement(ce.a,{type:"primary",className:"md",htmlType:"submit",onClick:function(e){n()},"data-test":"stepThreeNext"},"Create")))},fn=O.a.Content,vn=we.a.Step,bn=[{title:"Add Details",content:"First-content"},{title:"Assign Employee",content:"Second-content"},{title:"Review Details",content:"Last-content"}],yn=function(){var e=Object(n.useState)(0),a=Object(y.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)({openelineName:"",description:"",status:"",sDate:"",tDate:"",hotlineIconId:"",file:""}),c=Object(y.a)(s,2),o=c[0],m=c[1],d=Object(n.useState)({selectedRows:"",selectedRowKeys:[],chekedValues:[]}),u=Object(y.a)(d,2),p=u[0],h=u[1],g=function(){l(t+1)},E=function(){l(t-1)},v=function(e){switch(e){case"1":return"Sexual Harassment";case"2":return"Violence";case"3":return"Racism";case"4":return"Cyber Bullying";case"5":return"Fight";case"6":return"Discrimination";case"7":return"Slap";default:return""}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0","data-test":"hotlineCreation"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(fn,{className:""},r.a.createElement(_.a,{className:"pt-3"},r.a.createElement(_e.a,{separator:">"},r.a.createElement(i.c,{to:"/orgcc/openlinedirectory"},r.a.createElement(_e.a.Item,null,"Openline Directory")),r.a.createElement(_e.a.Item,null,"Create Openline Directory"))),r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Create Openline Directory Entries")),r.a.createElement(we.a,{className:"mt-2",current:t},bn.map((function(e){return r.a.createElement(vn,{key:e.title,title:e.title})}))),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"steps-content"},0==t?r.a.createElement(un,{next:g,stepOneOpenLineInfo:o,handleStepOneOnChange:function(e){m(Object(Oe.a)({},o,Object(ye.a)({},e.target.id,e.target.value)))},handleStepOneOnSelect:function(e,a){m(Object(Oe.a)({},o,Object(ye.a)({},a,e)))},handleStepOneUpload:function(e,a){var t=e.fileList.slice(-1);console.log("fileList",t[0]),t.forEach((function(e,a){var t=new FileReader;t.onload=function(a){e.base64=a.target.result},t.readAsDataURL(e.originFileObj)})),m(Object(Oe.a)({},o,Object(ye.a)({},a,t)))},handleBeforeUpload:function(e){console.log("value",e)},handleStepOnePreview:function(e){console.log("valueee Preview",e)},handleStepOneDatePickerChange:function(e,a){m(Object(Oe.a)({},o,Object(ye.a)({},a,e)))},addIcon:function(e,a){m(Object(Oe.a)({},o,{hotlineIconId:a,iconHtml:e}))},getIconText:v,"data-test":"CreateHotlineStepOne"}):1==t?r.a.createElement(hn,{next:g,prev:E,stepOneHotLine:o,stepTwoOpenLine:p,handleStepTwoOnSelect:function(e,a){var t,n=[],r=JSON.parse(f("user")),l=a.filter((function(e){var a,t=e.user_id;return!(null===(a=n)||void 0===a?void 0:a.some((function(e){return e.user_id===t})))})).reduce((function(e,a){return e.push({user_id:a.user_id,can_respond:1,can_view_reports:0,created_by:r.user_details.org_user_id}),e}),[]);n=null===(t=n)||void 0===t?void 0:t.concat(l),h(Object(Oe.a)({},p,{selectedRowKeys:e,selectedRows:a,chekedValues:n}))}}):2==t?r.a.createElement(En,{prev:E,createNewHotLine:function(){var e,a,t,n;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e=JSON.parse(f("user")),a=de(),t={create_openline:{name:o.openelineName,help_text:o.description,openline_image:o.file[0].base64,start_date:o.sDate[0]?pe()(o.sDate[0]).format("DD-MM-YYYY"):"",end_date:o.sDate[1]?pe()(o.sDate[1]).format("DD-MM-YYYY"):"",created_by:e.user_details.org_user_id},permissions:p.chekedValues},console.log("data",t),n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}},P.a.post(T+"openline/",t,n).then((function(){window.location="/orgcc/openlinedirectory"}));case 6:case"end":return r.stop()}}))},stepOneOpenLine:o,stepTwoOpenLine:p,getIconText:v}):"")))))))))},Nn=O.a.Content,On=function(){var e=Object(n.useState)(!1),a=Object(y.a)(e,2),t=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,!0===!t?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(Nn,{"data-test":"Directory",className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",{className:"mb-0"},"Openline Directory")),r.a.createElement("div",{className:"mid-content d-flex justify-content-center align-items-center"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24},r.a.createElement("div",{className:"c-vector-area"},r.a.createElement("img",{src:Ha.a,alt:"Create Hotline",className:"pr-4"})),r.a.createElement("p",{className:"text-center pt-3"},"Create Hotline entries and assign them to managers,",r.a.createElement("br",null),"head of departments or leadership."),r.a.createElement(_.a,{className:"d-flex justify-content-center"},r.a.createElement(fe.a,{className:"mt-1"})),r.a.createElement(j.a,{span:24,className:"d-flex align-items-center justify-content-center"},r.a.createElement(ce.a,{"data-test":"createHotline",onClick:function(){l(!0)},type:"primary"},"Create")))))))))):r.a.createElement(yn,null))},wn=(t(818),function(e){var a=e.data,t=e.deleteRecord,l=e.handleCheck,s=Object(n.useState)(),c=Object(y.a)(s,2),i=c[0],o=c[1];Object(n.useEffect)((function(){m()}),[a]);var m=function(){o(a)},d=[{title:"Name",dataIndex:"first_name",key:"first_name",width:"30%",render:function(e,a){return{children:a.user.first_name,props:{"data-title":"Name"}}}},{title:"Respond",dataIndex:"can_respond",key:"can_respond",width:"20%",editable:!0,render:function(e,a){return r.a.createElement(j.a,{span:12,className:"d-flex justify-content-end changeColor"},r.a.createElement(Ia.a,{value:"reports",checked:e,onChange:function(e){return l(a)},disabled:!0}))}},{title:"Action",dataIndex:"user_id",key:"user_id",width:"20%",render:function(e,a){return r.a.createElement("span",{onClick:function(e){!function(e,a){a.preventDefault(),console.log("Record",e),t(e)}(a,e)},className:"uploaded-icon icon icon-close d-inline-flex justify-content-end align-items-center"})}}];return r.a.createElement("div",{className:"no-bordered-grid"},r.a.createElement(re.a,{className:"no-bg-table",rowClassName:function(){return"editable-row"},columns:d,dataSource:i,rowKey:"rowkey"}))}),_n=function(e){var a=e.searchData,t=e.addAssignUser,l=e.data,s=Object(n.useState)(!1),c=Object(y.a)(s,2),i=c[0],o=c[1],m=Object(n.useState)(""),d=Object(y.a)(m,2),u=d[0],p=d[1],h=Object(n.useState)(""),g=Object(y.a)(h,2),E=g[0],f=g[1];return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(Ce.a,{"data-test":"alert",message:"".concat(u," is already assigned for this openline."),type:"error",showIcon:!0}),r.a.createElement(Ja.a,{"data-test":"Searchuser",value:E,options:a,placeholder:"Search Employee",filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())},onSelect:function(e,a){return function(e,a){l.filter((function(e){return e.user.user_id===a.user_id})).length>0?(o(!0),p(e),f("")):t(e,a)}(e,a)},onChange:function(){return o(!1),void p("")}}))},jn=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1,assignedOpenLines:"",hotLineName:"",assignedEmp:""},t.showModal=function(){t.setState({visible:!0,employeeData:[],hotLineName:t.props.selectedRows.name,openlineId:t.props.selectedRows.openline_id}),(0,t.props.dispatch)($e()),t.getAssignedEmployee()},t.getAssignedEmployee=function(){var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.get(T+"getOpenlineAssignEmpl/"+t.props.selectedRows.openline_id,e).then((function(e){t.setState({assignedOpenLines:e.data})}))},t.handleOk=function(e){t.setState({visible:!1});var a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.post(T+"openlineAssignEmpl/",t.state.assignedEmp,a).then((function(e){t.getAssignedEmployee(),t.setState({assignedEmp:""})})).catch((function(e){}))},t.handleCheck=function(e){var a=Object(Ne.a)(t.state.assignedOpenLines),n=a.findIndex((function(a){return a.user_id===e.user_id}));a[n]=Object(Oe.a)({},a[n],{can_respond:!e.can_respond}),t.setState({assignedOpenLines:a});var r=Object(Ne.a)(t.state.assignedEmp),l=r.findIndex((function(a){return a.user_id===e.user_id}));r[l]=Object(Oe.a)({},r[l],{can_respond:!e.can_respond}),t.setState({assignedEmp:r})},t.handleCancel=function(){t.setState({visible:!1})},t.deleteRecord=function(e){e.user.user_id;var a=t.state.assignedEmp&&t.state.assignedEmp.filter((function(a){return a.user_id!==e.user.user_id}));t.setState({assignedEmp:a});var n={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"},data:JSON.stringify({user_id:e.user.user_id})};P.a.delete(T+"getOpenlineAssignEmpl/"+e.openline.openline_id,n).then((function(){t.getAssignedEmployee()})).catch((function(e){}))},t.addUser=function(e,a){var n=JSON.parse(f("user")),r=t.state,l=r.assignedOpenLines,s=r.assignedEmp,c={user:{user_id:parseInt(a.user_id),first_name:a.value},openline:{openline_id:t.state.openlineId},can_respond:!0,can_view_reports:!1},i={openline_id:t.state.openlineId,user_id:parseInt(a.user_id),can_respond:!0,can_view_reports:!1,created_by:n.user_details.org_user_id};t.setState({assignedOpenLines:[].concat(Object(Ne.a)(l),[c]),assignedEmp:[].concat(Object(Ne.a)(s),[i])})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var a=this.props.manageEmpData,t=[];if(e.manageEmpData!=a){for(var n=0;n<a.length;n++)t.push({value:a[n].firstname.concat(" ",a[n].lastname),user_id:a[n].user_id});this.setState({employeeData:t})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{onClick:this.showModal},"Show"),r.a.createElement(De.a,{className:"modal-checkbox",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:590,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel",className:"ant-btn-secondary"},okText:"Done",cancelText:"Cancel"},r.a.createElement("div",null,"Employees with permissions to ",this.state.hotLineName),r.a.createElement(_.a,{className:"mt-2 mt-lg-5 mb-3 thead-outer"},r.a.createElement(j.a,{span:10},"Reply to Messages, Add Notes, Status & Urgency level")),r.a.createElement(wn,{data:this.state.assignedOpenLines,deleteRecord:this.deleteRecord,handleCheck:this.handleCheck}),r.a.createElement(_.a,{className:"mb-2 autocomplete"},r.a.createElement(j.a,{span:24},r.a.createElement(_n,{searchData:this.state.employeeData,addAssignUser:this.addUser,data:this.state.assignedOpenLines}),r.a.createElement("small",null,"Hit enter to add")))))}}]),a}(n.Component);var Sn=Object(c.b)((function(e){return{assignhotlines:e.assignedHotline.assignhotlines,manageEmpData:e.manageEmp.manageEmpData,message:e.message.message}}))(jn),Cn=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.showModal=function(){t.setState({visible:!0})},t.handleOk=function(){t.setState({visible:!1}),t.deleteHotline()},t.handleCancel=function(){t.setState({visible:!1})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"deleteHotline",value:function(){this.props.history;var e={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.delete(T+"openline/"+this.props.openlineId,e).then((function(){window.location="/orgcc/openlinedirectory"})).catch((function(e){}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{onClick:this.showModal},"Delete"),r.a.createElement(De.a,{title:"Delete Openline",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,centered:!0,width:370,okButtonProps:{children:"Custom OK"},cancelButtonProps:{children:"Custom cancel"},okText:"Yes",cancelText:"No"},r.a.createElement("p",null,"Are you sure you want to delete this Openline?")))}}]),a}(n.Component),kn=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={visible:!1},t.hide=function(){t.setState({visible:!1})},t.hide=function(){t.setState({visible:!1})},t.handleVisibleChange=function(e){t.setState({visible:e})},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{placement:"bottom",content:(e=this.props.data,r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement(i.b,{to:{pathname:"/orgcc/editopenline",state:e}},r.a.createElement("li",null,r.a.createElement("a",{href:"/orgcc/editopenline"},"Edit")," ")),r.a.createElement("li",null,r.a.createElement(Cn,{openlineId:e.openline_id}))))),trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},r.a.createElement("span",{className:"ico-grid-dots"},r.a.createElement("img",{src:Pe.a,alt:"DotIcon",className:"pr-4"}))));var e}}]),a}(r.a.Component),In=N.a.Search,xn=(r.a.createElement(le.a,{style:{fontSize:16,color:"#1890ff"}}),O.a.Content),Dn=function(e){function a(e){var t;Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).onSearch=function(e){var a=t.state.data,n=t.filterIt(a,e);t.setState({filterData:n})};var n=[{title:"Openline Name",dataIndex:"name",key:"name",width:"22%",render:function(e){return{children:e,props:{"data-title":"Openline Name"}}}},{title:"Start Date",dataIndex:"start_date",key:"start_date",width:"22%",render:function(e){return{children:e,props:{"data-title":"Start Date"}}}},{title:"End Date",dataIndex:"end_date",key:"end_date",width:"21%",render:function(e){return{children:e,props:{"data-title":"End Date"}}}},{title:"Permissions",dataIndex:"",key:"x",width:"20%",render:function(e){return console.log("selectedRows",e),{children:r.a.createElement("div",null,r.a.createElement(Sn,{selectedRows:e})),props:{"data-title":"Permissions"}}}},{title:"Status",dataIndex:"",key:"x",width:"10%",render:function(e){return{children:5===e.status_id?r.a.createElement("div",{className:"primary-tag-rounded tag"},r.a.createElement("span",{className:"circle mr-1"}),"Active"):r.a.createElement("div",{className:"secondary-tag-rounded tag"},"Inactive"),props:{"data-title":"Status"}}}},{title:"",dataIndex:"",key:"x",width:"5%",render:function(e){return{children:r.a.createElement(kn,{data:e}),props:{"data-title":"Action"}}}}];return t.state={columns:n,data:[]},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.openlines;a.forEach((function(e){e.start_date=pe()(e.start_date).utc().local().format("MM / DD / YYYY"),e.end_date=pe()(e.end_date).utc().local().format("MM / DD / YYYY")})),this.setState({data:a},(function(){e.onSearch("")}))}},{key:"filterIt",value:function(e,a){return a&&""!==a&&null!==a?e.filter((function(e){return Object.keys(e).some((function(t){if("string"===typeof e[t])return e[t].toUpperCase().includes(a.toUpperCase())}))})):e}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(xn,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",null,"Openline Directory")),r.a.createElement(j.a,{span:24},r.a.createElement(_.a,{className:"pt-1 pb-3 px-3 px-lg-0 sm-direction-reverse"},r.a.createElement(j.a,{span:24,lg:18,className:"search-row mt-2 mt-lg-0"},r.a.createElement(_.a,null,r.a.createElement(j.a,{span:24,lg:9,className:"search-box"},r.a.createElement(In,{placeholder:"Search",onSearch:this.onSearch})))),r.a.createElement(j.a,{span:24,lg:6,className:"d-flex align-items-center justify-content-end"},r.a.createElement(i.b,{to:"/orgcc/createopenline"},r.a.createElement(ie,{value:"Create Openline"}))))),r.a.createElement(se,{rowKey:"hotline_id",columns:this.state.columns,data:this.state.filterData}))))))}}]),a}(r.a.Component);var An=Object(c.b)((function(e){return{openlinesdata:e.openline.openlinesdata}}))((function(e){return Object(n.useEffect)((function(){(0,e.dispatch)((function(e){return Ke.getOpenlines().then((function(a){return e({type:"OPENLINE_SUCCESS",payload:{openlinesdata:a.data}}),Promise.resolve()}),(function(a){var t=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return e({type:"OPENLINE_FAIL"}),e({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}))}),[]),e.openlinesdata.length>0?r.a.createElement(Dn,{openlines:e.openlinesdata}):r.a.createElement(On,null)})),Un=N.a.TextArea,Pn=(ke.a.Option,O.a.Content),Tn=function(e){e.props;var a=Object(n.useState)({end_date:"",help_text:"",openline_id:"",name:"",start_date:"",openline_image:"",status_id:"",iconHtml:""}),t=Object(y.a)(a,2),l=t[0],s=t[1],c=Object(n.useState)(!1),i=Object(y.a)(c,2),m=i[0],d=(i[1],Object(o.g)(),Object(n.useState)(!0)),u=Object(y.a)(d,2),p=(u[0],u[1],je.a.useForm()),h=Object(y.a)(p,1)[0],g=Object(n.useState)(""),E=Object(y.a)(g,2),v=E[0],b=E[1],N=Object(o.h)();Object(n.useEffect)((function(){var e=pe()(N.state.end_date).format("YYYY-MM-DD"),a=pe()(N.state.start_date).format("YYYY-MM-DD"),t=[pe()(e,"YYYY/MM/DD"),pe()(a,"YYYY/MM/DD")];console.log(N),s({end_date:"",help_text:N.state.help_text,openline_id:N.state.openline_id,name:N.state.name,start_date:t,status_id:N.state.status_id.toString()})}),[]);var w=function(e){s(Object(Oe.a)({},l,Object(ye.a)({},e.target.id,e.target.value)))},j=function(e){var a=de(),t=l.openline_id;delete l.hotline_id;var n={headers:{Authorization:a,Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};P.a.put(T+"openline/"+t,e,n).then((function(e){200===e.status&&(window.location="/orgcc/openlinedirectory")}))},S=function(e){switch(e){case"1":return"Sexual Harassment";case"2":return"Violence";case"3":return"Racism";case"4":return"Cyber Bullying";case"5":return"Fight";case"6":return"Discrimination";case"7":return"Slap";default:return""}},C=Se.a.RangePicker;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"inner-header"},r.a.createElement(J,{amORGUser:!0})),r.a.createElement(_.a,{className:"content-center pt-0","data-test":"manageEmp"},r.a.createElement(O.a,null,r.a.createElement(O.a,null,r.a.createElement(X,{amORGUser:!0}),r.a.createElement(Pn,{className:""},r.a.createElement(_.a,{className:"py-3"},r.a.createElement("h1",null,"Edit Openline")),r.a.createElement("div",{className:"mid-content mt-4"},r.a.createElement(je.a,{"data-test":"createHotlineStepOne",className:"input-md w-md-100 w-75 floating-label",name:"validate_other",form:h},m&&r.a.createElement(je.a.Item,null,r.a.createElement(Ce.a,{message:"Please fill the fields marked with asterisk(*)",type:"error",showIcon:!0})),r.a.createElement(Ie,{label:"Directory Name",value:l.name},r.a.createElement(je.a.Item,{className:"required",name:"directoryName",rules:[{required:!0,message:"Please enter directory name"}]},r.a.createElement(Un,{showCount:!0,maxLength:80,value:l.name,onChange:function(e){return w(e)},onBlur:function(e){return function(e){var a={headers:{Authorization:de(),Accept:"application/json, text/plain","Content-Type":"application/json;charset=UTF-8"}};e.target.value!==N.state.name?P.a.post(T+"checkOpenline/",{openline_name:e.target.value},a).then((function(e){e.data&&b(e.data[0])})):b(!1)}(e)},id:"name",className:"input-control textarea-input",placeholder:"Directory Name",htmlFor:"directoryName"}),"status: false"==v&&r.a.createElement(_a.a,{className:"successCheck",twoToneColor:"#52c41a"}))),r.a.createElement(Ie,{label:"Description",value:l.help_text},r.a.createElement(je.a.Item,{className:"required",name:"description",rules:[{required:!0,message:"Please enter description"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(Un,{className:"input-control textarea-input",value:l.help_text,onChange:function(e){return w(e)},id:"help_text",placeholder:"Description",htmlFor:"description"})))),r.a.createElement(Ie,{label:"Date",value:"start_date"},r.a.createElement(je.a.Item,{className:"input-control datepicker-wrapper"},r.a.createElement(C,{className:"datepicker w-100 w-lg-50 mr-0 mr-lg-5 required",name:"start_date",value:l.start_date,disabledDate:function(e){return e&&e<pe()().startOf("day")},onChange:function(e){return function(e,a){s(Object(Oe.a)({},l,Object(ye.a)({},a,e)))}(e,"start_date")},rules:[{required:!0,message:"Please select start date"}]}))),r.a.createElement(Ie,{label:"Status",value:l.status_id},r.a.createElement(je.a.Item,{className:"required",name:"status",rules:[{required:!0,message:"Please select status"}]},r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{placeholder:"Status",className:"input-control w-100 w-lg-50",value:l.status_id,htmlFor:"status",onSelect:function(e){return function(e,a){s(Object(Oe.a)({},l,Object(ye.a)({},a,e)))}(e,"status_id")}},r.a.createElement(ke.a.Option,{value:"5"},"Active"),r.a.createElement(ke.a.Option,{value:"4"},"Inactive"))))),r.a.createElement(je.a.Item,{className:""},r.a.createElement(je.a.Item,{className:"upload-control",name:"upload",valuePropName:"fileList"},r.a.createElement(Xt.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture",fileList:l.openline_image,onChange:function(e){return function(e,a){var t=e.fileList.slice(-1);t.forEach((function(e,a){var t=new FileReader;t.onload=function(a){e.base64=a.target.result},t.readAsDataURL(e.originFileObj)})),s(Object(Oe.a)({},l,Object(ye.a)({},a,t)))}(e,"openline_image")}},r.a.createElement(ce.a,{icon:r.a.createElement(mn.a,null)},"Upload Image")),S(l.openline_id)&&r.a.createElement("div",{className:"ant-upload-list ant-upload-list-picture"},r.a.createElement("div",{className:"ant-upload-list-item ant-upload-list-item-list-type-picture"},r.a.createElement("div",{className:"ant-upload-list-item-info d-inline-flex w-100"},r.a.createElement("span",{className:"d-inline-flex align-items-center"},r.a.createElement("a",{className:"ant-upload-list-item-thumbnail"},ReactHtmlParser(l.iconHtml)),r.a.createElement("span",{className:"ant-upload-list-item-name ant-upload-list-item-name-icon-count-1",title:S(l.openline_id)},S(l.openline_id)))))))),r.a.createElement("div",{className:"steps-action mt-5"},r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){e.preventDefault();var a=JSON.parse(f("user")),t={end_date:pe()(l.start_date[1]).format("DD-MM-YYYY"),help_text:l.help_text,openline_id:l.openline_id,openline_image:l.openline_image[0].base64,name:l.name,start_date:pe()(l.start_date[0]).format("DD-MM-YYYY"),status_id:parseInt(l.status_id),updated_by:a.user_details.org_user_id,created_by:a.user_details.org_user_id};j(t)},"data-test":"stepOneNext",style:{margin:"0 8px"}},"Update"),r.a.createElement(ce.a,{type:"primary",htmlType:"submit",onClick:function(e){window.location="/orgcc/openlinedirectory"},"data-test":"stepOneNext"},"Cancel")))))))))};var Fn=function(e){var a=f("user"),t=JSON.parse(f("user")),n=!1,l=!1,s=!1;a||(n=!0,l=!0,s=!0),a&&t&&"null"!=t.user_data&&(n=t.user_data.is_amcc_user,l=t.user_data.is_org_cc_user,s=t.user_data.is_am_web_user);var c=window.location.pathname;return r.a.createElement(i.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/editprofile",component:Vt}),r.a.createElement(o.b,{path:"/addemployee",component:Qt}),r.a.createElement(o.b,{path:"/importfile",component:ln}),r.a.createElement(o.b,{path:"/createmanually",component:on}),r.a.createElement(b,{path:"/changepassword",component:ba}),r.a.createElement(o.b,{exact:!0,path:"/login",component:ga}),r.a.createElement(o.b,{path:"/forgotpassword",component:ia}),r.a.createElement(o.b,{path:"/resetpassword",component:da}),!l||"/orgcc/createhotline"!==c&&"/orgcc/edithotline"!==c&&"/orgcc/editopenline"!==c&&"/orgcc/manageemployees"!==c&&"/orgcc/assignhotline"!==c&&"/orgcc/hotlinedirectory"!==c&&"/orgcc/createopenline"!==c&&"/orgcc/openlinedirectory"!==c&&"/"!==c&&"/login"!==c?!s||"/amweb/hotlinemessages"!==c&&"/login"!==c&&"/"!==c&&"/amweb/openlinemessages"!==c?n&&("/amcc/manageorganizations"===c||"/amcc/createorg"===c||"/"===c||c.includes("/amcc/editorg")||c.includes("/amcc/orgdetails")||"/login"===c)?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(o.d,null,r.a.createElement(b,{exact:!0,path:"/amcc/orgdetails/:id",amcc:!0,component:zt}),r.a.createElement(b,{exact:!0,path:"/amcc/manageorganizations",amcc:!0,component:Ze}),r.a.createElement(b,{exact:!0,path:"/amcc/createorg",amcc:!0,component:Ve}),r.a.createElement(b,{exact:!0,path:"/amcc/editorg/:id",amcc:!0,component:qt}))," "):a&&r.a.createElement(o.b,{component:Pt}):r.a.createElement(r.a.Fragment,null," ",r.a.createElement(o.d,null,r.a.createElement(b,{exact:!0,path:"/amweb/hotlinemessages",amweb:!0,component:At}),r.a.createElement(b,{exact:!0,path:"/amweb/openlinemessages",amweb:!0,component:At}))):r.a.createElement(o.d,null,r.a.createElement(b,{exact:!0,path:"/orgcc/createhotline",amorg:!0,component:Ra}),r.a.createElement(b,{exact:!0,path:"/orgcc/manageemployees",amorg:!0,component:ta}),r.a.createElement(b,{exact:!0,path:"/orgcc/assignhotline",amorg:!0,component:xa}),r.a.createElement(b,{exact:!0,path:"/orgcc/hotlinedirectory",amorg:!0,component:at}),r.a.createElement(b,{exact:!0,path:"/orgcc/edithotline",amorg:!0,component:Jt}),r.a.createElement(b,{exact:!0,path:"/orgcc/createopenline",amorg:!0,component:yn}),r.a.createElement(b,{exact:!0,path:"/orgcc/openlinedirectory",amorg:!0,component:An}),r.a.createElement(b,{exact:!0,path:"/orgcc/editopenline",amorg:!0,component:Tn}))))},Mn=t(111),Ln=t(403),Yn=t(404),Rn=t(274),zn="",Hn=f("pwd");zn=Hn?Rn.AES.decrypt(Hn,"anonymoose"):"";var qn=JSON.parse(f("user")),Bn=zn.toString(Rn.enc.Utf8),Vn=qn?{isLoggedIn:!0,user:qn,pwd:Bn.replaceAll('^"+|"+$',"")}:{isLoggedIn:!1,user:null,pwd:null},Gn={},Wn={manageOrgData:[]},Jn={manageEmpData:[]},Kn={hotlinesdata:[],assignhotlinedata:[]},Zn={assignhotlinedata:[]},$n={openlinesdata:[]},Qn=Object(Mn.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"LOGIN_SUCCESS":return Object(Oe.a)({},e,{isLoggedIn:!0,user:n.user,pwd:n.pwd});case"LOGIN_FAIL":case"LOGOUT":return Object(Oe.a)({},e,{isLoggedIn:!1,user:null,pwd:null});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_MESSAGE":return{message:n};case"CLEAR_MESSAGE":return{message:""};default:return e}},manageOrg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"MANAGEORG_SUCCESS":return Object(Oe.a)({},e,{manageOrgData:n.manageOrgData});case"MANAGEORG_FAIL":return Object(Oe.a)({},e,{manageOrgData:[]});default:return e}},manageEmp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"MANAGEEMP_SUCCESS":return Object(Oe.a)({},e,{manageEmpData:n.manageEmpData});case"MANAGEEMP_FAIL":return Object(Oe.a)({},e,{manageEmpData:[]});default:return e}},hotlinedata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"HOTLINE_SUCCESS":return Object(Oe.a)({},e,{hotlinesdata:n.hotlinesdata});case"HOTLINE_FAIL":return Object(Oe.a)({},e,{hotlinesdata:[]});case"HOTLINE_SUCCESS":return Object(Oe.a)({},e,{assignhotlinedata:n.assignhotlinedata});case"HOTLINE_FAIL":return Object(Oe.a)({},e,{assignhotlinedata:[]});default:return e}},assignedHotline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"HOTLINE_SUCCESS":return Object(Oe.a)({},e,{assignhotlinedata:n.assignhotlinedata});case"HOTLINE_FAIL":return Object(Oe.a)({},e,{assignhotlinedata:[]});default:return e}},openline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"OPENLINE_SUCCESS":return Object(Oe.a)({},e,{openlinesdata:n.openlinesdata});case"OPENLINE_FAIL":return Object(Oe.a)({},e,{openlinesdata:[]});default:return e}}}),Xn=[Yn.a],er=Object(Mn.createStore)(Qn,Object(Ln.composeWithDevTools)(Mn.applyMiddleware.apply(void 0,Xn))),ar=t(405);var tr=function(){return r.a.createElement(c.a,{store:er},r.a.createElement(ar.a,{element:document,onIdle:function(e){f("user")&&L.logout()},debounce:250,timeout:36e5}),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("div",{className:"content"},r.a.createElement(Fn,null)))))};s.a.render(r.a.createElement(tr,null),document.getElementById("root"))},95:function(e,a,t){}},[[419,1,2]]]);
//# sourceMappingURL=main.977e8cc8.chunk.js.map